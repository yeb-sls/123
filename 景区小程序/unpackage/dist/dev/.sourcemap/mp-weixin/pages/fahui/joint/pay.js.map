{"version":3,"sources":["uni-app:///main.js","webpack:///C:/Users/qub/Documents/HBuilderProjects/123/ÊôØÂå∫Â∞èÁ®ãÂ∫è/pages/fahui/joint/pay.vue?6110","webpack:///C:/Users/qub/Documents/HBuilderProjects/123/ÊôØÂå∫Â∞èÁ®ãÂ∫è/pages/fahui/joint/pay.vue?5e38","webpack:///C:/Users/qub/Documents/HBuilderProjects/123/ÊôØÂå∫Â∞èÁ®ãÂ∫è/pages/fahui/joint/pay.vue?ad3b","webpack:///C:/Users/qub/Documents/HBuilderProjects/123/ÊôØÂå∫Â∞èÁ®ãÂ∫è/pages/fahui/joint/pay.vue?9453","uni-app:///pages/fahui/joint/pay.vue","webpack:///C:/Users/qub/Documents/HBuilderProjects/123/ÊôØÂå∫Â∞èÁ®ãÂ∫è/pages/fahui/joint/pay.vue?7392","webpack:///C:/Users/qub/Documents/HBuilderProjects/123/ÊôØÂå∫Â∞èÁ®ãÂ∫è/pages/fahui/joint/pay.vue?d5a3"],"names":["wx","__webpack_require_UNI_MP_PLUGIN__","__webpack_require__","createPage","Page","data","orderInfo","selectedMethod","isPaying","paymentMethods","id","name","description","icon","debugInfo","computed","applicantCountText","totalFeeText","activityFeeText","goodsFeeText","payButtonText","onLoad","console","methods","loadOrderInfo","orderId","projectName","applicantCount","activityFee","goodsFee","totalFee","uni","title","setTimeout","delta","selectPaymentMethod","handlePayment","result","url","success","fail","processPayment","resolve","message","reject","updateOrderStatus","status","operator","jointManagement","orderData","notifyData","order","_id","applicants","totalCost","showDebugInfo","content","showCancel","testPayment","showOrderData"],"mappings":";;;;;;;;;;;;;AAAA;AAE2D;AAC3D;AACA;AAHA;AACAA,EAAE,CAACC,iCAAiC,GAAGC,mBAAmB;AAG1DC,UAAU,CAACC,YAAI,CAAC,C;;;;;;;;;;;;;ACLhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAA4H;AAC5H;AACuD;AACL;AACqC;;;AAGvF;AACoL;AACpL,gBAAgB,qLAAU;AAC1B,EAAE,yEAAM;AACR,EAAE,0FAAM;AACR,EAAE,mGAAe;AACjB;AACA;AACA;AACA;AACA;AACA,EAAE,8FAAU;AACZ;AACA;;AAEA;AACe,gF;;;;;;;;;;;;ACvBf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;;;;;;;;;;;;ACAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;ACRA;AAAA;AAAA;AAAA;AAAqrB,CAAgB,qpBAAG,EAAC,C;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACyHzsB;AACA;AAAA,eAEA;EACAC;IACA;MACAC;MACAC;MACAC;MACAC,iBACA;QACAC;QACAC;QACAC;QACAC;MACA,GACA;QACAH;QACAC;QACAC;QACAC;MACA,EACA;MACAC;IACA;EACA;;EAEAC;IACAC;MACA;IACA;IACAC;MACA;IACA;IACAC;MACA;IACA;IACAC;MACA;IACA;IACAC;MACA;IACA;EACA;EAEAC;IACAC;IACA;IACAA;EACA;EAEAC;IACAC;MACA;QACAF;QACA;QACA;QACA;QACA;QAEAA;QACAA;QACAA;QACAA;;QAEA;QACA;QACAA;QAEA;UACA;YACAG;YACAC;YACAC;YACAC;YACAC;YACAC;UACA;UAEAR;UACAA;UACAA;UACAA;UACAA;UACAA;UACAA;QACA;UACAA;UACAS;YACAC;YACAnB;UACA;UACAoB;YACAF;cACAG;YACA;UACA;QACA;MACA;QACAZ;QACAS;UACAC;UACAnB;QACA;QACAoB;UACAF;YACAG;UACA;QACA;MACA;IACA;IAEAC;MACA;IACA;IAEAC;MAAA;MAAA;QAAA;QAAA;UAAA;YAAA;cAAA;gBAAA,KACA;kBAAA;kBAAA;gBAAA;gBAAA;cAAA;gBAEAd;gBACAA;gBACAA;gBACAA;gBAEA;gBAAA;gBAGAA;gBACAA;;gBAEA;gBAAA;gBAAA,OACA;cAAA;gBAAAe;gBAEAf;gBAAA,KAEAe;kBAAA;kBAAA;gBAAA;gBACAf;gBACAA;;gBAEA;gBACAS;kBACAO;kBACAC;oBACAjB;kBACA;kBACAkB;oBACAlB;kBACA;gBACA;gBAAA;gBAAA;cAAA;gBAEAA;gBAAA,MACA;cAAA;gBAAA;gBAAA;cAAA;gBAAA;gBAAA;gBAIAA;gBACAA;gBACAA;gBACAA;gBACAS;kBACAC;kBACAnB;gBACA;cAAA;gBAAA;gBAEA;gBACAS;gBAAA;cAAA;cAAA;gBAAA;YAAA;UAAA;QAAA;MAAA;IAEA;IAEAmB;MAAA;MAAA;QAAA;UAAA;YAAA;cAAA;gBACAnB;gBACAA;gBACAA;;gBAEA;gBAAA,kCACA;kBACAW;oBACAX;oBACA;oBACA;;oBAEA;sBACAA;sBACA;sBACA;sBACAoB;wBAAAH;wBAAAI;sBAAA;oBACA;sBACArB;sBACAsB;oBACA;kBACA;gBACA;cAAA;cAAA;gBAAA;YAAA;UAAA;QAAA;MAAA;IACA;IAEAC;MAAA;QAAA;QAAA;UAAA;YAAA;cAAA;gBAAA;gBAEAvB;gBACAA;gBAEAG;gBACAH;gBAAA,IAEAG;kBAAA;kBAAA;gBAAA;gBACAH;gBAAA;cAAA;gBAIAA;gBACAA;kBACAG;kBACAqB;kBACAC;gBACA;;gBAEA;gBAAA;gBAAA,OACAC;kBACAvB;kBACAqB;kBACAC;gBACA;cAAA;gBAJAV;gBAMAf;gBACAA;gBAEA;kBACAA;gBACA;kBACAA;gBACA;;gBAEA;gBAAA;gBAEAA;gBACA2B;gBACA3B;gBAAA,KAEA2B;kBAAA;kBAAA;gBAAA;gBACAC;kBACAC;oBACAC;oBACA1B;oBACA2B;oBACAC;oBACAR;kBACA;gBACA;gBACAxB;gBAAA;gBAAA,OAEA0B;cAAA;gBACA1B;gBAAA;gBAAA;cAAA;gBAEAA;cAAA;gBAAA;gBAAA;cAAA;gBAAA;gBAAA;gBAGAA;gBACAA;gBACAA;cAAA;gBAGA;gBACAA;gBACAS;gBACAA;gBACAA;gBACAT;gBAAA;gBAAA;cAAA;gBAAA;gBAAA;gBAGAA;gBACAA;gBACAA;gBACAA;cAAA;cAAA;gBAAA;YAAA;UAAA;QAAA;MAAA;IAEA;IAEA;IACAiC;MAAA;QAAA;MACA,8FAEA,yEACA,6EACA,8EACA,8EACA,iFACA,mGAGA;QAAA;MAAA,4LAGA,0BACA;MACAxB;QACAC;QACAwB;QACAC;MACA;IACA;IAEAC;MACA;IACA;IAEAC;MACA5B;QACAC;QACAwB;QACAC;MACA;IACA;EACA;AACA;AAAA,2B;;;;;;;;;;;;;AC/aA;AAAA;AAAA;AAAA;AAAkgC,CAAgB,k7BAAG,EAAC,C;;;;;;;;;;;ACAthC;AACA,OAAO,KAAU,EAAE,kBAKd","file":"pages/fahui/joint/pay.js","sourcesContent":["import 'uni-pages';\n// @ts-ignore\nwx.__webpack_require_UNI_MP_PLUGIN__ = __webpack_require__;import '@dcloudio/vue-cli-plugin-uni/packages/uni-cloud/dist/index.js';\nimport Vue from 'vue'\nimport Page from './pages/fahui/joint/pay.vue'\ncreatePage(Page)","import { render, staticRenderFns, recyclableRender, components } from \"./pay.vue?vue&type=template&id=df101ce8&scoped=true&\"\nvar renderjs\nimport script from \"./pay.vue?vue&type=script&lang=js&\"\nexport * from \"./pay.vue?vue&type=script&lang=js&\"\nimport style0 from \"./pay.vue?vue&type=style&index=0&id=df101ce8&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../../../Desktop/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"df101ce8\",\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"pages/fahui/joint/pay.vue\"\nexport default component.exports","export * from \"-!../../../../../../../Desktop/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../../../../Desktop/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--17-0!../../../../../../../Desktop/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!../../../../../../../Desktop/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-uni-app-loader/page-meta.js!../../../../../../../Desktop/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../Desktop/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./pay.vue?vue&type=template&id=df101ce8&scoped=true&\"","var components\nvar render = function () {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!../../../../../../../Desktop/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../../../Desktop/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--13-1!../../../../../../../Desktop/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../../../Desktop/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../Desktop/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./pay.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../../../Desktop/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../../../Desktop/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--13-1!../../../../../../../Desktop/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../../../Desktop/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../Desktop/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./pay.vue?vue&type=script&lang=js&\"","<template>\n  <view class=\"pay-page\">\n    <!-- Ë∞ÉËØïÂå∫Âüü -->\n    <view class=\"debug-section\">\n      <text class=\"debug-title\">üîß ÊîØ‰ªòÈ°µÈù¢Ë∞ÉËØïÂ∑•ÂÖ∑</text>\n      <view class=\"debug-buttons\">\n        <button @click=\"showDebugInfo\" class=\"debug-btn\">üìä ÊòæÁ§∫Ë∞ÉËØï‰ø°ÊÅØ</button>\n        <button @click=\"testPayment\" class=\"debug-btn\">üß™ ÊµãËØïÊîØ‰ªòÊµÅÁ®ã</button>\n        <button @click=\"showOrderData\" class=\"debug-btn\">üìã ÊòæÁ§∫ËÆ¢ÂçïÊï∞ÊçÆ</button>\n      </view>\n      <view v-if=\"debugInfo\" class=\"debug-info\">\n        <text class=\"debug-text\">{{ debugInfo }}</text>\n      </view>\n    </view>\n\n    <view class=\"pay-header\">\n      <view class=\"header-title\">ÊîØ‰ªòÊ≥ïÈáë</view>\n      <view class=\"header-subtitle\">ËØ∑ÈÄâÊã©ÊîØ‰ªòÊñπÂºèÂÆåÊàêÊä•Âêç</view>\n    </view>\n\n    <!-- ËÆ¢Âçï‰ø°ÊÅØ -->\n    <view class=\"section\">\n      <view class=\"section-title\">ËÆ¢Âçï‰ø°ÊÅØ</view>\n      <view class=\"order-card\">\n        <view class=\"order-info\">\n          <text class=\"order-label\">ËÆ¢ÂçïÂè∑Ôºö</text>\n          <text class=\"order-value\">{{ orderInfo.orderId }}</text>\n        </view>\n        <view class=\"order-info\">\n          <text class=\"order-label\">Ê≥ï‰ºöÈ°πÁõÆÔºö</text>\n          <text class=\"order-value\">{{ orderInfo.projectName }}</text>\n        </view>\n        <view class=\"order-info\">\n          <text class=\"order-label\">Êä•Âêç‰∫∫Êï∞Ôºö</text>\n          <text class=\"order-value\">{{ orderInfo.applicantCount }}‰∫∫</text>\n        </view>\n        <view class=\"order-info\">\n          <text class=\"order-label\">ÊîØ‰ªòÈáëÈ¢ùÔºö</text>\n          <text class=\"order-value total-amount\">¬•{{ orderInfo.totalFee }}</text>\n        </view>\n      </view>\n    </view>\n\n    <!-- Ë¥πÁî®ÊòéÁªÜ -->\n    <view class=\"section\">\n      <view class=\"section-title\">Ë¥πÁî®ÊòéÁªÜ</view>\n      <view class=\"fee-card\">\n        <view class=\"fee-row\">\n          <text class=\"fee-label\">Ê¥ªÂä®Ë¥πÁî®Ôºö</text>\n          <text class=\"fee-value\">¬•{{ orderInfo.activityFee }}</text>\n        </view>\n        <view v-if=\"orderInfo.goodsFee > 0\" class=\"fee-row\">\n          <text class=\"fee-label\">‰ª£ÂäûË¥πÁî®Ôºö</text>\n          <text class=\"fee-value\">¬•{{ orderInfo.goodsFee }}</text>\n        </view>\n        <view class=\"fee-divider\"></view>\n        <view class=\"fee-row total\">\n          <text class=\"fee-label\">ÊÄªËÆ°Ôºö</text>\n          <text class=\"fee-value total-value\">¬•{{ orderInfo.totalFee }}</text>\n        </view>\n      </view>\n    </view>\n\n    <!-- ÊîØ‰ªòÊñπÂºè -->\n    <view class=\"section\">\n      <view class=\"section-title\">ÊîØ‰ªòÊñπÂºè</view>\n      <view class=\"payment-methods\">\n        <view \n          v-for=\"(method, index) in paymentMethods\" \n          :key=\"index\"\n          class=\"payment-method\"\n          :class=\"{ active: selectedMethod === method.id }\"\n          @click=\"selectPaymentMethod(method.id)\"\n        >\n          <view class=\"method-info\">\n            <image :src=\"method.icon\" class=\"method-icon\" mode=\"aspectFit\" />\n            <view class=\"method-details\">\n              <text class=\"method-name\">{{ method.name }}</text>\n              <text class=\"method-desc\">{{ method.description }}</text>\n            </view>\n          </view>\n          <view class=\"method-radio\">\n            <view class=\"radio-circle\" :class=\"{ checked: selectedMethod === method.id }\"></view>\n          </view>\n        </view>\n      </view>\n    </view>\n\n    <!-- ÊîØ‰ªòÊåâÈíÆ -->\n    <view class=\"pay-button-section\">\n      <button class=\"pay-button\" @click=\"handlePayment\" :disabled=\"isPaying\">\n        <view v-if=\"isPaying\" class=\"btn-loading\">\n          <view class=\"btn-spinner\"></view>\n          <text>ÊîØ‰ªò‰∏≠...</text>\n        </view>\n        <text v-else>Á´ãÂç≥ÊîØ‰ªò ¬•{{ orderInfo.totalFee }}</text>\n      </button>\n    </view>\n\n    <!-- ÊîØ‰ªòËØ¥Êòé -->\n    <view class=\"section\">\n      <view class=\"section-title\">ÊîØ‰ªòËØ¥Êòé</view>\n      <view class=\"notice-card\">\n        <view class=\"notice-item\">\n          <text class=\"notice-dot\">‚Ä¢</text>\n          <text class=\"notice-text\">ÊîØ‰ªòÊàêÂäüÂêéÔºåÁ≥ªÁªüÂ∞ÜËá™Âä®ÁîüÊàêËÆ¢Âçï</text>\n        </view>\n        <view class=\"notice-item\">\n          <text class=\"notice-dot\">‚Ä¢</text>\n          <text class=\"notice-text\">Ê≥ï‰ºöÂÖ∑‰ΩìÊó∂Èó¥Â∞ÜÁî±ÈÅìÈïø‰∏éÊÇ®ËÅîÁ≥ªÁ°ÆËÆ§</text>\n        </view>\n        <view class=\"notice-item\">\n          <text class=\"notice-dot\">‚Ä¢</text>\n          <text class=\"notice-text\">Â¶ÇÊúâÁñëÈóÆÔºåËØ∑ËÅîÁ≥ªÂÆ¢ÊúçÂí®ËØ¢</text>\n        </view>\n      </view>\n    </view>\n  </view>\n</template>\n\n<script>\n// ÂØºÂÖ•‰∫ëÂØπË±°\nconst jointManagement = uniCloud.importObject('joint-management')\n\nexport default {\n  data() {\n    return {\n      orderInfo: {},\n      selectedMethod: 'wechat',\n      isPaying: false,\n      paymentMethods: [\n        {\n          id: 'wechat',\n          name: 'ÂæÆ‰ø°ÊîØ‰ªò',\n          description: 'Êé®Ëçê‰ΩøÁî®ÂæÆ‰ø°ÊîØ‰ªò',\n          icon: '/static/images/wechat-pay.png'\n        },\n        {\n          id: 'alipay',\n          name: 'ÊîØ‰ªòÂÆù',\n          description: 'ÂÆâÂÖ®‰æøÊç∑ÁöÑÊîØ‰ªòÊñπÂºè',\n          icon: '/static/images/alipay.png'\n        }\n      ],\n      debugInfo: '' // Êñ∞Â¢ûË∞ÉËØï‰ø°ÊÅØ\n    }\n  },\n  \n  computed: {\n    applicantCountText() {\n      return this.orderInfo.applicantCount ? this.orderInfo.applicantCount + '‰∫∫' : '0‰∫∫'\n    },\n    totalFeeText() {\n      return this.orderInfo.totalFee ? '¬•' + this.orderInfo.totalFee : '¬•0'\n    },\n    activityFeeText() {\n      return this.orderInfo.activityFee ? '¬•' + this.orderInfo.activityFee : '¬•0'\n    },\n    goodsFeeText() {\n      return this.orderInfo.goodsFee ? '¬•' + this.orderInfo.goodsFee : '¬•0'\n    },\n    payButtonText() {\n      return this.orderInfo.totalFee ? 'Á´ãÂç≥ÊîØ‰ªò ¬•' + this.orderInfo.totalFee : 'Á´ãÂç≥ÊîØ‰ªò ¬•0'\n    }\n  },\n  \n  onLoad() {\n    console.log('üí≥ ÂêàÂùõÊ≥ï‰ºöÊîØ‰ªòÈ°µÈù¢Âä†ËΩΩÂºÄÂßã')\n    this.loadOrderInfo()\n    console.log('üí≥ ÂêàÂùõÊ≥ï‰ºöÊîØ‰ªòÈ°µÈù¢Âä†ËΩΩÂÆåÊàê')\n  },\n  \n  methods: {\n    loadOrderInfo() {\n      try {\n        console.log('üí≥ ÂºÄÂßãÂä†ËΩΩÊîØ‰ªòÈ°µÈù¢ËÆ¢Âçï‰ø°ÊÅØ...')\n        // ‰ºòÂÖà‰ªéÁ°ÆËÆ§È°µÈù¢Ëé∑ÂèñÊï∞ÊçÆ\n        const confirmData = uni.getStorageSync('joint_fahui_confirm')\n        const orderId = uni.getStorageSync('joint_fahui_order_id')\n        const orderData = uni.getStorageSync('joint_fahui_order')\n        \n        console.log('üí≥ Êú¨Âú∞Â≠òÂÇ®Êï∞ÊçÆ:')\n        console.log('  - confirmData:', confirmData)\n        console.log('  - orderId:', orderId)\n        console.log('  - orderData:', orderData)\n        \n        // ‰ΩøÁî®Á°ÆËÆ§Êï∞ÊçÆÊàñËÆ¢ÂçïÊï∞ÊçÆ\n        const data = confirmData || orderData\n        console.log('üí≥ ‰ΩøÁî®ÁöÑÊï∞ÊçÆÊ∫ê:', data ? 'confirmData' : 'orderData')\n        \n        if (data) {\n          this.orderInfo = {\n            orderId: orderId || data.orderId || data._id,\n            projectName: data.projectName || data.project_name,\n            applicantCount: data.applicantCount || (data.applicants ? data.applicants.length : 0),\n            activityFee: data.activityFee || data.activity_fee || 0,\n            goodsFee: data.goodsFee || data.goods_fee || 0,\n            totalFee: data.totalFee || data.total_fee || 0\n          }\n          \n          console.log('üí≥ ËÆ¢Âçï‰ø°ÊÅØÂä†ËΩΩÊàêÂäü:')\n          console.log('  - orderId:', this.orderInfo.orderId)\n          console.log('  - projectName:', this.orderInfo.projectName)\n          console.log('  - applicantCount:', this.orderInfo.applicantCount)\n          console.log('  - activityFee:', this.orderInfo.activityFee)\n          console.log('  - goodsFee:', this.orderInfo.goodsFee)\n          console.log('  - totalFee:', this.orderInfo.totalFee)\n        } else {\n          console.log('‚ùå ËÆ¢Âçï‰ø°ÊÅØ‰∏çÂ≠òÂú®')\n          uni.showToast({\n            title: 'ËÆ¢Âçï‰ø°ÊÅØ‰∏çÂ≠òÂú®',\n            icon: 'none'\n          })\n          setTimeout(() => {\n            uni.navigateBack({\n              delta: 2\n            })\n          }, 1500)\n        }\n      } catch (error) {\n        console.error('‚ùå Âä†ËΩΩËÆ¢Âçï‰ø°ÊÅØÂ§±Ë¥•:', error)\n        uni.showToast({\n          title: 'Âä†ËΩΩËÆ¢Âçï‰ø°ÊÅØÂ§±Ë¥•',\n          icon: 'none'\n        })\n        setTimeout(() => {\n          uni.navigateBack({\n            delta: 2\n          })\n        }, 1500)\n      }\n    },\n    \n    selectPaymentMethod(methodId) {\n      this.selectedMethod = methodId\n    },\n    \n    async handlePayment() {\n      if (this.isPaying) return\n      \n      console.log('üí≥ Áî®Êà∑ÁÇπÂáªÊîØ‰ªòÊåâÈíÆ')\n      console.log('üí≥ ÊîØ‰ªòÊó∂Èó¥:', new Date().toLocaleString())\n      console.log('üí≥ ÂΩìÂâçËÆ¢Âçï‰ø°ÊÅØ:', this.orderInfo)\n      console.log('üí≥ ÈÄâÊã©ÁöÑÊîØ‰ªòÊñπÂºè:', this.selectedMethod)\n      \n      this.isPaying = true\n      \n      try {\n        console.log('üí≥ ÂºÄÂßãÂ§ÑÁêÜÊîØ‰ªò...')\n        console.log('üí≥ ÊîØ‰ªòÈáëÈ¢ù:', this.orderInfo.totalFee)\n        \n        // Ë∞ÉÁî®ÊîØ‰ªòÊé•Âè£\n        const result = await this.processPayment()\n        \n        console.log('üí≥ ÊîØ‰ªòÂ§ÑÁêÜÁªìÊûú:', result)\n        \n        if (result.success) {\n          console.log('‚úÖ ÊîØ‰ªòÊàêÂäüÔºåÂáÜÂ§áË∑≥ËΩ¨Âà∞ÊàêÂäüÈ°µÈù¢')\n          console.log('‚úÖ ÊîØ‰ªòÊàêÂäüÊó∂Èó¥:', new Date().toLocaleString())\n          \n          // ÊîØ‰ªòÊàêÂäüÔºåË∑≥ËΩ¨Âà∞ÊàêÂäüÈ°µÈù¢\n          uni.redirectTo({\n            url: '/pages/fahui/joint/success',\n            success: () => {\n              console.log('‚úÖ Ë∑≥ËΩ¨Âà∞ÂêàÂùõÊ≥ï‰ºöÊàêÂäüÈ°µÈù¢ÊàêÂäü')\n            },\n            fail: (err) => {\n              console.error('‚ùå Ë∑≥ËΩ¨Âà∞ÊàêÂäüÈ°µÈù¢Â§±Ë¥•:', err)\n            }\n          })\n        } else {\n          console.error('‚ùå ÊîØ‰ªòÂ§±Ë¥•:', result.message)\n          throw new Error(result.message || 'ÊîØ‰ªòÂ§±Ë¥•')\n        }\n        \n      } catch (error) {\n        console.error('‚ùå ÊîØ‰ªòÂ§±Ë¥•:', error)\n        console.error('‚ùå ÈîôËØØÁ±ªÂûã:', error.constructor.name)\n        console.error('‚ùå ÈîôËØØ‰ø°ÊÅØ:', error.message)\n        console.error('‚ùå ÈîôËØØÂ†ÜÊ†à:', error.stack)\n        uni.showToast({\n          title: error.message || 'ÊîØ‰ªòÂ§±Ë¥•ÔºåËØ∑ÈáçËØï',\n          icon: 'none'\n        })\n      } finally {\n        this.isPaying = false\n        console.log('üèÅ ÊîØ‰ªòÊµÅÁ®ãÁªìÊùü')\n      }\n    },\n    \n    async processPayment() {\n      console.log('üí≥ ÂºÄÂßãÊ®°ÊãüÊîØ‰ªòËøáÁ®ã...')\n      console.log('üí≥ ÊîØ‰ªòÊñπÂºè:', this.selectedMethod)\n      console.log('üí≥ ÊîØ‰ªòÈáëÈ¢ù:', this.orderInfo.totalFee)\n      \n      // Ê®°ÊãüÊîØ‰ªòËøáÁ®ã\n      return new Promise((resolve, reject) => {\n        setTimeout(() => {\n          console.log('üí≥ ÊîØ‰ªòÂ§ÑÁêÜ‰∏≠...')\n          // Ê®°ÊãüÊîØ‰ªòÊàêÂäü\n          const success = Math.random() > 0.1 // 90%ÊàêÂäüÁéá\n          \n          if (success) {\n            console.log('‚úÖ Ê®°ÊãüÊîØ‰ªòÊàêÂäü')\n            // Êõ¥Êñ∞ËÆ¢ÂçïÁä∂ÊÄÅ\n            this.updateOrderStatus()\n            resolve({ success: true, message: 'ÊîØ‰ªòÊàêÂäü' })\n          } else {\n            console.log('‚ùå Ê®°ÊãüÊîØ‰ªòÂ§±Ë¥•')\n            reject(new Error('ÊîØ‰ªòÂ§±Ë¥•ÔºåËØ∑ÈáçËØï'))\n          }\n        }, 2000)\n      })\n    },\n    \n    async updateOrderStatus() {\n      try {\n        console.log('üîÑ ÂºÄÂßãÊõ¥Êñ∞ËÆ¢ÂçïÁä∂ÊÄÅ...')\n        console.log('üîÑ Êõ¥Êñ∞Êó∂Èó¥:', new Date().toLocaleString())\n        \n        const orderId = uni.getStorageSync('joint_fahui_order_id')\n        console.log('üîÑ ËÆ¢ÂçïID:', orderId)\n        \n        if (!orderId) {\n          console.error('‚ùå ËÆ¢ÂçïID‰∏çÂ≠òÂú®')\n          return\n        }\n        \n        console.log('üîÑ ÂáÜÂ§áË∞ÉÁî® jointManagement.updateOrderStatus...')\n        console.log('üîÑ Êõ¥Êñ∞ÂèÇÊï∞:', {\n          orderId: orderId,\n          status: 'ÂæÖÁ°ÆËÆ§',\n          operator: 'Áî®Êà∑ÊîØ‰ªò'\n        })\n        \n        // Êõ¥Êñ∞ËÆ¢ÂçïÁä∂ÊÄÅ\n        const result = await jointManagement.updateOrderStatus({\n          orderId: orderId,\n          status: 'ÂæÖÁ°ÆËÆ§',\n          operator: 'Áî®Êà∑ÊîØ‰ªò'\n        })\n        \n        console.log('üîÑ ËÆ¢ÂçïÁä∂ÊÄÅÊõ¥Êñ∞ÁªìÊûú:', result)\n        console.log('üîÑ Êõ¥Êñ∞ÁªìÊûúÁ±ªÂûã:', typeof result)\n        \n        if (result.success) {\n          console.log('‚úÖ ËÆ¢ÂçïÁä∂ÊÄÅÊõ¥Êñ∞ÊàêÂäü')\n        } else {\n          console.error('‚ùå ËÆ¢ÂçïÁä∂ÊÄÅÊõ¥Êñ∞Â§±Ë¥•:', result.message)\n        }\n        \n        // ÂèëÈÄÅÊîØ‰ªòÊàêÂäüÈÄöÁü•ÁªôÁÆ°ÁêÜÂëò\n        try {\n          console.log('üì¢ ÂºÄÂßãÂèëÈÄÅÊîØ‰ªòÊàêÂäüÈÄöÁü•...')\n          const orderData = uni.getStorageSync('joint_fahui_order') || uni.getStorageSync('joint_fahui_confirm')\n          console.log('üì¢ ËÆ¢ÂçïÊï∞ÊçÆ:', orderData)\n          \n          if (orderData) {\n            const notifyData = {\n              order: {\n                _id: orderId,\n                projectName: orderData.projectName || orderData.project_name,\n                applicants: orderData.applicants || [],\n                totalCost: orderData.totalFee || orderData.total_fee,\n                status: 'ÂæÖÁ°ÆËÆ§'\n              }\n            }\n            console.log('üì¢ ÈÄöÁü•Êï∞ÊçÆ:', notifyData)\n            \n            await jointManagement.notifyAdminOnPayment(notifyData)\n            console.log('üì¢ ÊîØ‰ªòÊàêÂäüÈÄöÁü•Â∑≤ÂèëÈÄÅÁªôÁÆ°ÁêÜÂëò')\n          } else {\n            console.log('‚ö†Ô∏è Ê≤°ÊúâÊâæÂà∞ËÆ¢ÂçïÊï∞ÊçÆÔºåË∑≥ËøáÈÄöÁü•')\n          }\n        } catch (notifyError) {\n          console.error('‚ùå ÂèëÈÄÅÊîØ‰ªòÊàêÂäüÈÄöÁü•Â§±Ë¥•:', notifyError)\n          console.error('‚ùå ÈÄöÁü•ÈîôËØØÁ±ªÂûã:', notifyError.constructor.name)\n          console.error('‚ùå ÈÄöÁü•ÈîôËØØ‰ø°ÊÅØ:', notifyError.message)\n        }\n        \n        // Ê∏ÖÈô§Êú¨Âú∞Â≠òÂÇ®ÁöÑËÆ¢ÂçïÊï∞ÊçÆ\n        console.log('üßπ ÂºÄÂßãÊ∏ÖÈô§Êú¨Âú∞Â≠òÂÇ®Êï∞ÊçÆ...')\n        uni.removeStorageSync('joint_fahui_order')\n        uni.removeStorageSync('joint_fahui_order_id')\n        uni.removeStorageSync('joint_fahui_confirm')\n        console.log('üßπ Êú¨Âú∞Â≠òÂÇ®Êï∞ÊçÆÊ∏ÖÈô§ÂÆåÊàê')\n        \n      } catch (error) {\n        console.error('‚ùå Êõ¥Êñ∞ËÆ¢ÂçïÁä∂ÊÄÅÂ§±Ë¥•:', error)\n        console.error('‚ùå ÈîôËØØÁ±ªÂûã:', error.constructor.name)\n        console.error('‚ùå ÈîôËØØ‰ø°ÊÅØ:', error.message)\n        console.error('‚ùå ÈîôËØØÂ†ÜÊ†à:', error.stack)\n      }\n    },\n\n    // Êñ∞Â¢ûË∞ÉËØïÊñπÊ≥ï\n    showDebugInfo() {\n      this.debugInfo = `\n        ËÆ¢Âçï‰ø°ÊÅØ:\n        - ËÆ¢ÂçïÂè∑: ${this.orderInfo.orderId}\n        - È°πÁõÆÂêçÁß∞: ${this.orderInfo.projectName}\n        - Êä•Âêç‰∫∫Êï∞: ${this.orderInfo.applicantCount}\n        - ÊÄªË¥πÁî®: ¬•${this.orderInfo.totalFee}\n        - Ê¥ªÂä®Ë¥πÁî®: ¬•${this.orderInfo.activityFee}\n        - ‰ª£ÂäûË¥πÁî®: ¬•${this.orderInfo.goodsFee}\n\n        ÊîØ‰ªòÊñπÂºè:\n        - Â∑≤ÈÄâ: ${this.paymentMethods.find(m => m.id === this.selectedMethod)?.name || 'Êó†'}\n\n        ÊîØ‰ªòÁä∂ÊÄÅ:\n        - ÊòØÂê¶ÊîØ‰ªò‰∏≠: ${this.isPaying}\n      `\n      uni.showModal({\n        title: 'Ë∞ÉËØï‰ø°ÊÅØ',\n        content: this.debugInfo,\n        showCancel: false\n      })\n    },\n\n    testPayment() {\n      this.handlePayment()\n    },\n\n    showOrderData() {\n      uni.showModal({\n        title: 'ËÆ¢ÂçïÊï∞ÊçÆ',\n        content: JSON.stringify(this.orderInfo, null, 2),\n        showCancel: false\n      })\n    }\n  }\n}\n</script>\n\n<style scoped>\n.pay-page {\n  min-height: 100vh;\n  background: linear-gradient(180deg, #e0eaff 0%, #f8f8f8 100%);\n  padding-bottom: 120rpx;\n}\n\n.debug-section {\n  background: #f0f0f0;\n  padding: 20rpx;\n  margin: 24rpx;\n  border-radius: 16rpx;\n  box-shadow: 0 4rpx 16rpx rgba(0,0,0,0.08);\n}\n\n.debug-title {\n  font-size: 28rpx;\n  font-weight: bold;\n  color: #333;\n  margin-bottom: 16rpx;\n  padding-left: 16rpx;\n  border-left: 8rpx solid #667eea;\n}\n\n.debug-buttons {\n  display: flex;\n  flex-direction: column;\n  gap: 12rpx;\n  padding: 0 16rpx;\n}\n\n.debug-btn {\n  background: #667eea;\n  color: #fff;\n  border: none;\n  border-radius: 8rpx;\n  padding: 16rpx;\n  font-size: 28rpx;\n  text-align: left;\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n  box-shadow: 0 2rpx 8rpx rgba(0,0,0,0.1);\n}\n\n.debug-btn::after {\n  border: none;\n}\n\n.debug-info {\n  background: #fff;\n  border-radius: 12rpx;\n  padding: 16rpx;\n  margin-top: 16rpx;\n  font-size: 24rpx;\n  color: #333;\n  line-height: 1.6;\n  white-space: pre-wrap; /* ‰øùÁïôÊç¢Ë°å */\n  word-break: break-all; /* ÂÖÅËÆ∏ÈïøÊñáÊú¨Êç¢Ë°å */\n}\n\n.debug-text {\n  font-family: 'Courier New', Courier, monospace; /* ‰ΩøÁî®Á≠âÂÆΩÂ≠ó‰Ωì */\n}\n\n.pay-header {\n  background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);\n  padding: 48rpx 24rpx 32rpx 24rpx;\n  text-align: center;\n  color: #fff;\n}\n\n.header-title {\n  font-size: 36rpx;\n  font-weight: bold;\n  margin-bottom: 12rpx;\n}\n\n.header-subtitle {\n  font-size: 26rpx;\n  opacity: 0.9;\n}\n\n.section {\n  margin: 24rpx;\n}\n\n.section-title {\n  font-size: 32rpx;\n  font-weight: bold;\n  color: #333;\n  margin-bottom: 16rpx;\n  display: flex;\n  align-items: center;\n}\n\n.section-title::before {\n  content: '';\n  width: 8rpx;\n  height: 32rpx;\n  background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);\n  border-radius: 4rpx;\n  margin-right: 16rpx;\n}\n\n.order-card, .fee-card, .notice-card {\n  background: #fff;\n  border-radius: 16rpx;\n  padding: 24rpx;\n  box-shadow: 0 4rpx 16rpx rgba(0,0,0,0.08);\n}\n\n.order-info {\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  padding: 12rpx 0;\n  border-bottom: 1rpx solid #f0f0f0;\n}\n\n.order-info:last-child {\n  border-bottom: none;\n}\n\n.order-label {\n  font-size: 28rpx;\n  color: #666;\n  min-width: 160rpx;\n}\n\n.order-value {\n  font-size: 28rpx;\n  color: #333;\n  font-weight: bold;\n  text-align: right;\n  flex: 1;\n}\n\n.total-amount {\n  color: #ff6b35;\n  font-size: 32rpx;\n}\n\n.fee-row {\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  padding: 12rpx 0;\n  border-bottom: 1rpx solid #f0f0f0;\n}\n\n.fee-row:last-child {\n  border-bottom: none;\n}\n\n.fee-label {\n  font-size: 28rpx;\n  color: #666;\n  min-width: 160rpx;\n}\n\n.fee-value {\n  font-size: 28rpx;\n  color: #333;\n  font-weight: bold;\n  text-align: right;\n  flex: 1;\n}\n\n.fee-divider {\n  height: 1rpx;\n  background: #e0e0e0;\n  margin: 16rpx 0;\n}\n\n.fee-row.total {\n  border-bottom: none;\n  padding-top: 16rpx;\n}\n\n.total-value {\n  color: #ff6b35;\n  font-size: 32rpx;\n}\n\n.payment-methods {\n  display: flex;\n  flex-direction: column;\n  gap: 16rpx;\n}\n\n.payment-method {\n  background: #fff;\n  border-radius: 16rpx;\n  padding: 24rpx;\n  box-shadow: 0 4rpx 16rpx rgba(0,0,0,0.08);\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  transition: all 0.3s ease;\n}\n\n.payment-method.active {\n  border: 2rpx solid #667eea;\n  background: rgba(102, 126, 234, 0.05);\n}\n\n.method-info {\n  display: flex;\n  align-items: center;\n  flex: 1;\n}\n\n.method-icon {\n  width: 60rpx;\n  height: 60rpx;\n  margin-right: 20rpx;\n}\n\n.method-details {\n  display: flex;\n  flex-direction: column;\n}\n\n.method-name {\n  font-size: 28rpx;\n  font-weight: bold;\n  color: #333;\n  margin-bottom: 8rpx;\n}\n\n.method-desc {\n  font-size: 24rpx;\n  color: #999;\n}\n\n.method-radio {\n  display: flex;\n  align-items: center;\n  justify-content: center;\n}\n\n.radio-circle {\n  width: 40rpx;\n  height: 40rpx;\n  border: 2rpx solid #ddd;\n  border-radius: 50%;\n  position: relative;\n  transition: all 0.3s ease;\n}\n\n.radio-circle.checked {\n  border-color: #667eea;\n  background: #667eea;\n}\n\n.radio-circle.checked::after {\n  content: '';\n  position: absolute;\n  top: 50%;\n  left: 50%;\n  transform: translate(-50%, -50%);\n  width: 16rpx;\n  height: 16rpx;\n  background: #fff;\n  border-radius: 50%;\n}\n\n.pay-button-section {\n  position: fixed;\n  bottom: 0;\n  left: 0;\n  right: 0;\n  background: #fff;\n  padding: 24rpx;\n  box-shadow: 0 -4rpx 16rpx rgba(0,0,0,0.1);\n}\n\n.pay-button {\n  width: 100%;\n  background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);\n  color: #fff;\n  border: none;\n  border-radius: 50rpx;\n  padding: 24rpx;\n  font-size: 32rpx;\n  font-weight: bold;\n  box-shadow: 0 8rpx 32rpx rgba(102, 126, 234, 0.3);\n}\n\n.btn-loading {\n  display: flex;\n  align-items: center;\n  justify-content: center;\n}\n\n.btn-spinner {\n  width: 32rpx;\n  height: 32rpx;\n  border: 4rpx solid rgba(255,255,255,0.3);\n  border-top: 4rpx solid #fff;\n  border-radius: 50%;\n  animation: spin 1s linear infinite;\n  margin-right: 12rpx;\n}\n\n@keyframes spin {\n  0% { transform: rotate(0deg); }\n  100% { transform: rotate(360deg); }\n}\n\n.notice-item {\n  display: flex;\n  align-items: flex-start;\n  margin-bottom: 16rpx;\n}\n\n.notice-item:last-child {\n  margin-bottom: 0;\n}\n\n.notice-dot {\n  color: #667eea;\n  font-size: 28rpx;\n  margin-right: 12rpx;\n  margin-top: 4rpx;\n}\n\n.notice-text {\n  font-size: 26rpx;\n  color: #666;\n  line-height: 1.5;\n  flex: 1;\n}\n</style> ","import mod from \"-!../../../../../../../Desktop/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../../../../Desktop/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../../../../../Desktop/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../../Desktop/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--6-oneOf-1-2!../../../../../../../Desktop/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-3!../../../../../../../Desktop/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../Desktop/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./pay.vue?vue&type=style&index=0&id=df101ce8&scoped=true&lang=css&\"; export default mod; export * from \"-!../../../../../../../Desktop/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../../../../Desktop/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../../../../../Desktop/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../../Desktop/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--6-oneOf-1-2!../../../../../../../Desktop/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-3!../../../../../../../Desktop/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../Desktop/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./pay.vue?vue&type=style&index=0&id=df101ce8&scoped=true&lang=css&\"","// extracted by mini-css-extract-plugin\n    if(module.hot) {\n      // 1754022714008\n      var cssReload = require(\"C:/Users/qub/Desktop/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/hmr/hotModuleReplacement.js\")(module.id, {\"hmr\":true,\"publicPath\":\"/\",\"locals\":false});\n      module.hot.dispose(cssReload);\n      module.hot.accept(undefined, cssReload);\n    }\n  "],"sourceRoot":""}