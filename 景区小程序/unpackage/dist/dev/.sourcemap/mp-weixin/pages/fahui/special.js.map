{"version":3,"sources":["uni-app:///main.js","webpack:///C:/Users/小美女/Desktop/景区小程序/123/景区小程序/pages/fahui/special.vue?52e4","webpack:///C:/Users/小美女/Desktop/景区小程序/123/景区小程序/pages/fahui/special.vue?66af","webpack:///C:/Users/小美女/Desktop/景区小程序/123/景区小程序/pages/fahui/special.vue?b7fd","webpack:///C:/Users/小美女/Desktop/景区小程序/123/景区小程序/pages/fahui/special.vue?3693","uni-app:///pages/fahui/special.vue","webpack:///C:/Users/小美女/Desktop/景区小程序/123/景区小程序/pages/fahui/special.vue?2328","webpack:///C:/Users/小美女/Desktop/景区小程序/123/景区小程序/pages/fahui/special.vue?e778"],"names":["wx","__webpack_require_UNI_MP_PLUGIN__","__webpack_require__","createPage","Page","components","ParticipantForm","data","bannerImage","bannerDesc","specialIntro","content","image","applicants","fahuiProjects","selectedProjectIndex","spouse","name","gender","phone","lunarBirthday","birthTime","address","chaoduTypes","chaoduType","relationOptions","deceasedList","showGoods","goodsList","showReceiver","receiver","genderOptions","birthTimeOptions","showHistoryDialog","historyParticipants","historySelectIndex","historySearch","hoverIdx","batchDeleteMode","batchDeleteSet","showImportInput","computed","goodsTotalPrice","totalPrice","totalPriceFormatted","filteredHistory","item","methods","showError","uni","title","icon","loadBanner","uniCloud","t","res","console","desc","fileList","tempRes","loadSpecialIntro","loadFahuiProjects","type","p","price","last","idx","loadGoodsConfig","result","qty","getReceiverConfig","enabled","getEmptyApplicant","getEmptyDeceased","relation","deathDate","onParticipantsChange","selectProject","onSpouseGenderChange","onSpouseBirthdayChange","onSpouseBirthTimeChange","onChaoduTypeChange","addDeceased","removeDeceased","onRelationChange","onDeceasedBirthdayChange","onDeceasedDeathChange","increaseGoodsQty","decreaseGoodsQty","openHistoryDialog","selectHistoryParticipant","saveHistoryParticipants","history","validate","nameSet","phoneSet","nextStep","fahuiProject","goods","timestamp","url","success","fail","showProjectIntro","onHistorySearch","clearHistorySearch","deleteHistoryParticipant","onHistoryKeydown","e","onHistoryItemClick","toggleBatchDeleteMode","toggleBatchDelete","confirmBatchDelete","exportHistory","a","URL","importHistory","onImportFile","reader","arr","onLoad","onShow"],"mappings":";;;;;;;;;;;;;AAAA;AAE2D;AAC3D;AACA;AAHA;AACAA,EAAE,CAACC,iCAAiC,GAAGC,mBAAmB;AAG1DC,UAAU,CAACC,gBAAI,CAAC,C;;;;;;;;;;;;;ACLhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAgI;AAChI;AAC2D;AACL;AACqC;;;AAG3F;AAC6M;AAC7M,gBAAgB,iNAAU;AAC1B,EAAE,6EAAM;AACR,EAAE,8FAAM;AACR,EAAE,uGAAe;AACjB;AACA;AACA;AACA;AACA;AACA,EAAE,kGAAU;AACZ;AACA;;AAEA;AACe,gF;;;;;;;;;;;;ACvBf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;;;;;;;;;;;;ACAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAM;AACN;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;AChFA;AAAA;AAAA;AAAA;AAAszB,CAAgB,qyBAAG,EAAC,C;;;;;;;;;;;;;;;;;;;;;;;;;;;;;eCsQ10B;EACAC;IACAC;EACA;EACAC;IACA;MACAC;MACAC;MACAC;QAAAC;QAAAC;MAAA;MACAC;MAEAC;MAAA;MACAC;MACAC;QACAC;QACAC;QACAC;QACAC;QACAC;QACAC;MACA;MACAC;MACAC;MACAC,kBACA,4CACA,mEACA;MACAC;MACAC;MACAC;MACAC;MAAA;MACAC;QACAb;QACAE;QACAG;MACA;MACAS;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;IACA;EACA;EACAC;IACAC;MACA;QACA;QACA;QACA;MACA;IACA;IACAC;MACA;MACA;MACA;IACA;IACAC;MACA;IACA;IACAC;MACA;MACA;MACA;QAAA,OACAC;MAAA,EACA;IACA;EACA;EACAC;IACAC;MACAC;QAAAC;QAAAC;MAAA;MACA;IACA;IACAC;MAAA;MAAA;QAAA;QAAA;UAAA;YAAA;cAAA;gBAAA;gBAAA;gBAAA,OAEAC;kBACApC;kBACAV;oBAAA+C;kBAAA;gBACA;cAAA;gBAHAC;gBAIAC;gBAAA,MACAD;kBAAA;kBAAA;gBAAA;gBACA3C;gBACA6C,6CACA;gBAAA,MACA7C;kBAAA;kBAAA;gBAAA;gBAAA;gBAAA,OACAyC;kBAAAK;gBAAA;cAAA;gBAAAC;gBACA;kBACA/C;gBACA;cAAA;gBAEA;gBACA;gBACA4C;gBACAA;gBAAA;gBAAA;cAAA;gBAEA;gBACA;cAAA;gBAAA;gBAAA;cAAA;gBAAA;gBAAA;gBAGA;gBACA;gBACAA;cAAA;cAAA;gBAAA;YAAA;UAAA;QAAA;MAAA;IAEA;IACAI;MAAA;MAAA;QAAA;QAAA;UAAA;YAAA;cAAA;gBAAA;gBAAA;gBAAA,OAEAP;kBAAApC;gBAAA;cAAA;gBAAAsC;gBACA;kBACA;gBACA;kBACA;oBAAA5C;oBAAAC;kBAAA;gBACA;gBAAA;gBAAA;cAAA;gBAAA;gBAAA;gBAEA;kBAAAD;kBAAAC;gBAAA;cAAA;cAAA;gBAAA;YAAA;UAAA;QAAA;MAAA;IAEA;IACAiD;MAAA;MAAA;QAAA;QAAA;UAAA;YAAA;cAAA;gBAAA;gBAAA;gBAAA,OAEAR;kBACApC;kBACAV;oBAAAuD;kBAAA;gBACA;cAAA;gBAHAP;gBAIA;kBAAA,uCACAQ;oBACAC;kBAAA;gBAAA,CACA;gBACA;gBACAC;gBACA;kBACAC;oBAAA;kBAAA;kBACA;gBACA;kBACA;gBACA;gBAAA;gBAAA;cAAA;gBAAA;gBAAA;gBAEA;gBACAjB;kBAAAC;kBAAAC;gBAAA;cAAA;cAAA;gBAAA;YAAA;UAAA;QAAA;MAAA;IAEA;IACAgB;MAAA;MAAA;QAAA;QAAA;UAAA;YAAA;cAAA;gBAAA;gBAAA;gBAAA,OAEAd;kBAAApC;gBAAA;cAAA;gBAAAmD;gBACA;kBACA;kBACA,6DACAA;oBAAA;kBAAA;oBAAA;sBAAAC;oBAAA;kBAAA,KACA;gBACA;kBACA;kBACA;gBACA;gBAAA;gBAAA;cAAA;gBAAA;gBAAA;gBAEA;gBACA;gBACAb;cAAA;cAAA;gBAAA;YAAA;UAAA;QAAA;MAAA;IAEA;IACAc;MAAA;MAAA;QAAA;QAAA;UAAA;YAAA;cAAA;gBAAA;gBAAA;gBAAA,OAEAjB;kBAAApC;kBAAAV;oBAAA+C;kBAAA;gBAAA;cAAA;gBAAAC;gBACA;gBACAgB;gBACA;gBACAf;gBAAA;gBAAA;cAAA;gBAAA;gBAAA;gBAEA;gBACAA;cAAA;cAAA;gBAAA;YAAA;UAAA;QAAA;MAAA;IAEA;IACAgB;MACA;QACAvD;QACAC;QACAC;QACAC;QACAC;QACAC;MACA;IACA;IACAmD;MACA;QACAxD;QACAyD;QACAtD;QACAuD;MACA;IACA;IACAC;MACA;MACA;QACA;MACA;IACA;IAEAC;MACArB;MACA;IACA;IACAsB;MACA;IACA;IACAC;MACA;IACA;IACAC;MACA;IACA;IACAC;MACA;IACA;IACAC;MACA;QACA;MACA;IACA;IACAC;MACA;QACA;MACA;IACA;IACAC;MACA;IACA;IACAC;MACA;IACA;IACAC;MACA;IACA;IACAC;MACA;IACA;IACAC;MACA;QACA;MACA;IACA;IACA;IACAC;MACA;MACA;MACA;IACA;IACAC;MACA;QACA;MACA;MACA;MACA;IACA;IACA;IACAC;MACA;MACA;QACA;UAAA;QAAA;UACAC;QACA;MACA;MACA;MACA;MACA3C;IACA;IACA;IACA4C;MACA;MACA;QACA;MACA;MACA;QACA;MACA;MACA;MACA;MACA;MACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACAC;QACAC;MACA;MACA;MACA;QACA;MACA;MACA;MACA;QACA;QACA;QACA;UACA;UACA;UACA;QACA;MACA;MACA;MACA;QACA;UAAA9E;UAAAE;UAAAG;QACA;QACA;QACA;QACA;MACA;MACA;IACA;IACA0E;MACA;;MAEA;MACA;QACAnF;QACAoF,8CACA;UACAjC;QAAA,EACA;QACAhD;QACAQ;QACAE;QACAwE;UAAA;QAAA;QACApE;QACAa;QACAwD;MACA;;MAEA;MACA;QACA9C;UACApC;UACAV;QACA;MACA;;MAEA;MACA0C;MACA;;MAEA;MACAA;QACAmD;QACAC;UACA7C;QACA;QACA8C;UACA9C;UACAP;YAAAC;YAAAC;UAAA;QACA;MACA;IACA;IACAoD;MACAtD;QACAC;QACAvC;MACA;IACA;IACA6F;MACA;IACA;IACAC;MACA;IACA;IACAC;MAAA;MACA;MACAzD;QACAC;QACAvC;QACA0F;UACA;YACA;YACA;cAAA;YAAA;YACA;cACA;cACApD;YACA;UACA;QACA;MACA;IACA;IACA0D;MACA;MACA;QACA;UACA;QACA;QACAC;MACA;QACA;UACA;QACA;QACAA;MACA;QACA;UACA;QACA;MACA;QACA;MACA;IACA;IACAC;MACA;QACA;MACA;QACA;MACA;IACA;IACAC;MACA;MACA;IACA;IACAC;MACA;QACA;MACA;QACA;MACA;IACA;IACAC;MAAA;MACA;MACA/D;QACAC;QACAvC;QACA0F;UACA;YACA;cAAA;YAAA;YACA;cAAA;gBAAA;cAAA;YAAA;YACApD;YACA;YACA;UACA;QACA;MACA;IACA;IACAgE;MACA;MACA;QAAAnD;MAAA;MACA;MACA;MACAoD;MACAA;MACAA;MACAC;IACA;IACAC;MAAA;MACA;MACA;MACA;QACA;MACA;IACA;IACAC;MAAA;MACA;MACA;MACA;MACAC;QACA;UACA;UACA;YACA;YACAC;cACA;gBAAA;cAAA;gBACA;cACA;YACA;YACAtE;YACAA;cAAAC;cAAAC;YAAA;UACA;YACAF;cAAAC;cAAAC;YAAA;UACA;QACA;UACAF;YAAAC;YAAAC;UAAA;QACA;MACA;MACAmE;MACA;IACA;EACA;EACAE;IAAA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;MACA;MACA;QAAA;QAAA;MAAA;MACA;MACA;MACA;MACA;;MAEA;MACA;QACAvD;UACA;YAAA;UAAA;UACA;YACA;UACA;QACA;MACA;IACA;EACA;EACAwD;IACA;IACA;MACAxE;IACA;IACA;IACA;IACA;EACA;AACA;AAAA,2B;;;;;;;;;;;;;AChxBA;AAAA;AAAA;AAAA;AAAqrC,CAAgB,0nCAAG,EAAC,C;;;;;;;;;;;ACAzsC;AACA,OAAO,KAAU,EAAE,kBAKd","file":"pages/fahui/special.js","sourcesContent":["import 'uni-pages';\n// @ts-ignore\nwx.__webpack_require_UNI_MP_PLUGIN__ = __webpack_require__;import '@dcloudio/vue-cli-plugin-uni/packages/uni-cloud/dist/index.js';\nimport Vue from 'vue'\nimport Page from './pages/fahui/special.vue'\ncreatePage(Page)","import { render, staticRenderFns, recyclableRender, components } from \"./special.vue?vue&type=template&id=497fb5e2&scoped=true&\"\nvar renderjs\nimport script from \"./special.vue?vue&type=script&lang=js&\"\nexport * from \"./special.vue?vue&type=script&lang=js&\"\nimport style0 from \"./special.vue?vue&type=style&index=0&id=497fb5e2&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../../Downloads/HBuilderX.4.66.2025051912/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"497fb5e2\",\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"pages/fahui/special.vue\"\nexport default component.exports","export * from \"-!../../../../../../Downloads/HBuilderX.4.66.2025051912/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../../../Downloads/HBuilderX.4.66.2025051912/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--17-0!../../../../../../Downloads/HBuilderX.4.66.2025051912/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!../../../../../../Downloads/HBuilderX.4.66.2025051912/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-uni-app-loader/page-meta.js!../../../../../../Downloads/HBuilderX.4.66.2025051912/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../Downloads/HBuilderX.4.66.2025051912/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./special.vue?vue&type=template&id=497fb5e2&scoped=true&\"","var components\nvar render = function () {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n  var g0 =\n    _vm.selectedProjectIndex === 0\n      ? _vm.genderOptions.indexOf(_vm.spouse.gender)\n      : null\n  var g1 =\n    _vm.selectedProjectIndex === 0\n      ? _vm.birthTimeOptions.indexOf(_vm.spouse.birthTime)\n      : null\n  var g2 =\n    _vm.selectedProjectIndex === 1\n      ? _vm.chaoduTypes.indexOf(_vm.chaoduType)\n      : null\n  var l0 =\n    _vm.selectedProjectIndex === 1\n      ? _vm.__map(_vm.deceasedList, function (deceased, index) {\n          var $orig = _vm.__get_orig(deceased)\n          var g3 = _vm.deceasedList.length\n          var g4 = _vm.relationOptions.indexOf(deceased.relation)\n          return {\n            $orig: $orig,\n            g3: g3,\n            g4: g4,\n          }\n        })\n      : null\n  var g5 = _vm.selectedProjectIndex === 1 ? _vm.deceasedList.length : null\n  var g6 = _vm.showHistoryDialog ? _vm.filteredHistory.length : null\n  var l1 =\n    _vm.showHistoryDialog && !(g6 === 0)\n      ? _vm.__map(_vm.filteredHistory, function (item, idx) {\n          var $orig = _vm.__get_orig(item)\n          var g7 = _vm.batchDeleteSet.has(idx)\n          var g8 = _vm.batchDeleteMode ? _vm.batchDeleteSet.has(idx) : null\n          return {\n            $orig: $orig,\n            g7: g7,\n            g8: g8,\n          }\n        })\n      : null\n  if (!_vm._isMounted) {\n    _vm.e0 = function ($event) {\n      _vm.showHistoryDialog = false\n    }\n    _vm.e1 = function ($event, idx) {\n      var _temp = arguments[arguments.length - 1].currentTarget.dataset,\n        _temp2 = _temp.eventParams || _temp[\"event-params\"],\n        idx = _temp2.idx\n      var _temp, _temp2\n      _vm.hoverIdx = idx\n    }\n    _vm.e2 = function ($event) {\n      _vm.hoverIdx = -1\n    }\n    _vm.e3 = function ($event) {\n      _vm.showHistoryDialog = false\n    }\n  }\n  _vm.$mp.data = Object.assign(\n    {},\n    {\n      $root: {\n        g0: g0,\n        g1: g1,\n        g2: g2,\n        l0: l0,\n        g5: g5,\n        g6: g6,\n        l1: l1,\n      },\n    }\n  )\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!../../../../../../Downloads/HBuilderX.4.66.2025051912/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../../Downloads/HBuilderX.4.66.2025051912/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--13-1!../../../../../../Downloads/HBuilderX.4.66.2025051912/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../../Downloads/HBuilderX.4.66.2025051912/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../Downloads/HBuilderX.4.66.2025051912/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./special.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../../Downloads/HBuilderX.4.66.2025051912/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../../Downloads/HBuilderX.4.66.2025051912/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--13-1!../../../../../../Downloads/HBuilderX.4.66.2025051912/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../../Downloads/HBuilderX.4.66.2025051912/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../Downloads/HBuilderX.4.66.2025051912/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./special.vue?vue&type=script&lang=js&\"","<template>\r\n  <view class=\"fahui-page\">\r\n    <image class=\"fahui-banner\" :src=\"bannerImage\" mode=\"aspectFill\" v-if=\"bannerImage\" />\r\n    <view class=\"banner-desc\" v-if=\"bannerDesc\">{{ bannerDesc }}</view>\r\n\r\n    <!-- 图文介绍 -->\r\n    <view class=\"intro-section\">\r\n      <view v-if=\"specialIntro.image\" class=\"intro-image\">\r\n        <image :src=\"specialIntro.image\" mode=\"aspectFill\" class=\"intro-img\" />\r\n      </view>\r\n      <view class=\"intro-content\">{{ specialIntro.content }}</view>\r\n    </view>\r\n\r\n    <!-- 报名人信息 -->\r\n    <view class=\"section\">\r\n      <view class=\"section-title\">\r\n        <text class=\"icon\">👥</text>报名人信息\r\n        <text class=\"section-tip\">（最多5人，每人信息需完整）</text>\r\n      </view>\r\n      \r\n      <ParticipantForm \r\n        :value=\"applicants\"\r\n        @change=\"onParticipantsChange\"\r\n      />\r\n    </view>\r\n\r\n    <!-- 法会项目选择 -->\r\n    <view class=\"section\">\r\n      <view class=\"section-title\">\r\n        <text class=\"icon\">🕯️</text>法会项目\r\n        <text class=\"section-tip\">（必选）</text>\r\n      </view>\r\n      <view class=\"project-list\">\r\n        <view v-for=\"(project, index) in fahuiProjects\" :key=\"index\" class=\"project-item\" @click=\"selectProject(index)\">\r\n          <view class=\"project-info\">\r\n            <text class=\"project-name\">{{ project.name }}</text>\r\n            <text class=\"info-icon\" @click.stop=\"showProjectIntro(project)\">ℹ️</text>\r\n            <text class=\"project-desc\">{{ project.description }}</text>\r\n            <text class=\"project-price\">¥{{ project.price }}</text>\r\n            <text class=\"project-remaining\">剩余名额：{{ project.maxApplicants ? (project.maxApplicants - (project.currentApplicants || 0)) : '不限' }}</text>\r\n          </view>\r\n          <view class=\"project-status\" :class=\"{ active: selectedProjectIndex === index }\">\r\n            <text class=\"status-icon\">{{ selectedProjectIndex === index ? '✓' : '○' }}</text>\r\n          </view>\r\n        </view>\r\n      </view>\r\n    </view>\r\n\r\n    <!-- 配偶信息（姻缘和合法会） -->\r\n    <view class=\"section\" v-if=\"selectedProjectIndex === 0\">\r\n      <view class=\"section-title\">\r\n        <text class=\"icon\">💕</text>配偶信息\r\n        <text class=\"section-tip\">（选填）</text>\r\n      </view>\r\n      <view class=\"spouse-form\">\r\n        <view class=\"form-group\">\r\n          <text class=\"form-label\">配偶姓名</text>\r\n          <input v-model=\"spouse.name\" placeholder=\"请输入配偶姓名\" class=\"form-input\" maxlength=\"10\" />\r\n        </view>\r\n        \r\n        <view class=\"form-group\">\r\n          <text class=\"form-label\">性别</text>\r\n          <picker :range=\"genderOptions\" @change=\"onSpouseGenderChange\" :value=\"genderOptions.indexOf(spouse.gender)\">\r\n            <view class=\"picker\">\r\n              <text class=\"picker-value\">{{ spouse.gender || '请选择性别' }}</text>\r\n              <text class=\"picker-arrow\">▼</text>\r\n            </view>\r\n          </picker>\r\n        </view>\r\n        \r\n        <view class=\"form-group\">\r\n          <text class=\"form-label\">联系电话</text>\r\n          <input v-model=\"spouse.phone\" placeholder=\"请输入联系电话\" class=\"form-input\" type=\"number\" maxlength=\"11\" />\r\n        </view>\r\n        \r\n        <view class=\"form-group\">\r\n          <text class=\"form-label\">农历生日</text>\r\n          <picker mode=\"date\" @change=\"onSpouseBirthdayChange\" :value=\"spouse.lunarBirthday\">\r\n            <view class=\"picker\">\r\n              <text class=\"picker-value\">{{ spouse.lunarBirthday || '请选择农历生日' }}</text>\r\n              <text class=\"picker-arrow\">▼</text>\r\n            </view>\r\n          </picker>\r\n        </view>\r\n        \r\n        <view class=\"form-group\">\r\n          <text class=\"form-label\">出生时辰</text>\r\n          <picker :range=\"birthTimeOptions\" @change=\"onSpouseBirthTimeChange\" :value=\"birthTimeOptions.indexOf(spouse.birthTime)\">\r\n            <view class=\"picker\">\r\n              <text class=\"picker-value\">{{ spouse.birthTime || '请选择出生时辰' }}</text>\r\n              <text class=\"picker-arrow\">▼</text>\r\n            </view>\r\n          </picker>\r\n        </view>\r\n        \r\n        <view class=\"form-group\">\r\n          <text class=\"form-label\">常住地址</text>\r\n          <input v-model=\"spouse.address\" placeholder=\"请输入常住地址\" class=\"form-input\" />\r\n        </view>\r\n      </view>\r\n    </view>\r\n\r\n    <!-- 超度信息（超度法会） -->\r\n    <view class=\"section\" v-if=\"selectedProjectIndex === 1\">\r\n      <view class=\"section-title\">\r\n        <text class=\"icon\">🕯️</text>超度信息\r\n        <text class=\"section-tip\">（必填）</text>\r\n      </view>\r\n      \r\n      <view class=\"form-group\">\r\n        <text class=\"form-label\">超度类型 <text class=\"required\">*</text></text>\r\n        <picker :range=\"chaoduTypes\" @change=\"onChaoduTypeChange\" :value=\"chaoduTypes.indexOf(chaoduType)\">\r\n          <view class=\"picker\">\r\n            <text class=\"picker-value\">{{ chaoduType || '请选择超度类型' }}</text>\r\n            <text class=\"picker-arrow\">▼</text>\r\n          </view>\r\n        </picker>\r\n      </view>\r\n      \r\n      <view class=\"deceased-list\">\r\n        <view v-for=\"(deceased, index) in deceasedList\" :key=\"index\" class=\"deceased-card\">\r\n          <view class=\"deceased-header\">\r\n            <text class=\"deceased-title\">已故亲人 {{ index + 1 }}</text>\r\n            <button v-if=\"deceasedList.length > 1\" class=\"remove-btn\" @click=\"removeDeceased(index)\">删除</button>\r\n          </view>\r\n          \r\n          <view class=\"form-group\">\r\n            <text class=\"form-label\">姓名 <text class=\"required\">*</text></text>\r\n            <input v-model=\"deceased.name\" placeholder=\"请输入姓名\" class=\"form-input\" maxlength=\"10\" />\r\n          </view>\r\n          \r\n          <view class=\"form-group\">\r\n            <text class=\"form-label\">关系 <text class=\"required\">*</text></text>\r\n            <picker :range=\"relationOptions\" @change=\"onRelationChange(index, $event)\" :value=\"relationOptions.indexOf(deceased.relation)\">\r\n              <view class=\"picker\">\r\n                <text class=\"picker-value\">{{ deceased.relation || '请选择关系' }}</text>\r\n                <text class=\"picker-arrow\">▼</text>\r\n              </view>\r\n            </picker>\r\n          </view>\r\n          \r\n          <view class=\"form-group\">\r\n            <text class=\"form-label\">出生农历</text>\r\n            <picker mode=\"date\" @change=\"onDeceasedBirthdayChange(index, $event)\" :value=\"deceased.lunarBirthday\">\r\n              <view class=\"picker\">\r\n                <text class=\"picker-value\">{{ deceased.lunarBirthday || '请选择出生农历' }}</text>\r\n                <text class=\"picker-arrow\">▼</text>\r\n              </view>\r\n            </picker>\r\n          </view>\r\n          \r\n          <view class=\"form-group\">\r\n            <text class=\"form-label\">去世农历</text>\r\n            <picker mode=\"date\" @change=\"onDeceasedDeathChange(index, $event)\" :value=\"deceased.deathDate\">\r\n              <view class=\"picker\">\r\n                <text class=\"picker-value\">{{ deceased.deathDate || '请选择去世农历' }}</text>\r\n                <text class=\"picker-arrow\">▼</text>\r\n              </view>\r\n            </picker>\r\n          </view>\r\n        </view>\r\n      </view>\r\n      \r\n      <button v-if=\"deceasedList.length < 5\" class=\"add-btn\" @click=\"addDeceased\">\r\n        <text class=\"add-icon\">+</text>\r\n        <text class=\"add-text\">添加已故亲人</text>\r\n      </button>\r\n    </view>\r\n\r\n    <!-- 代办物品 -->\r\n    <view class=\"section\" v-if=\"showGoods\">\r\n      <view class=\"section-title\">\r\n        <text class=\"icon\">🛍️</text>代办物品\r\n        <text class=\"section-tip\">（可选）</text>\r\n      </view>\r\n      <view class=\"goods-list\">\r\n        <view v-for=\"(item, index) in goodsList\" :key=\"index\" class=\"goods-item\">\r\n          <view class=\"goods-info\">\r\n            <text class=\"goods-name\">{{ item.name }}</text>\r\n            <text class=\"goods-desc\">{{ item.description }}</text>\r\n            <text class=\"goods-price\">¥{{ item.price }}</text>\r\n          </view>\r\n          <view class=\"goods-control\">\r\n            <button class=\"qty-btn\" @click=\"decreaseGoodsQty(index)\" :disabled=\"item.qty <= 0\">-</button>\r\n            <text class=\"qty-value\">{{ item.qty }}</text>\r\n            <button class=\"qty-btn\" @click=\"increaseGoodsQty(index)\">+</button>\r\n          </view>\r\n        </view>\r\n      </view>\r\n      <view class=\"total-section\">\r\n        <text class=\"total-label\">代办费用：</text>\r\n        <text class=\"total-price\">¥{{ goodsTotalPrice }}</text>\r\n      </view>\r\n    </view>\r\n\r\n    <!-- 收件信息 -->\r\n    <view class=\"section\" v-if=\"showReceiver\">\r\n      <view class=\"section-title\">\r\n        <text class=\"icon\">📦</text>收件信息\r\n        <text class=\"section-tip\">（可选）</text>\r\n      </view>\r\n      <view class=\"receiver-form\">\r\n        <view class=\"form-group\">\r\n          <text class=\"form-label\">收件人</text>\r\n          <input v-model=\"receiver.name\" placeholder=\"请输入收件人\" class=\"form-input\" maxlength=\"10\" />\r\n        </view>\r\n        \r\n        <view class=\"form-group\">\r\n          <text class=\"form-label\">联系电话</text>\r\n          <input v-model=\"receiver.phone\" placeholder=\"请输入联系电话\" class=\"form-input\" type=\"number\" maxlength=\"11\" />\r\n        </view>\r\n        \r\n        <view class=\"form-group\">\r\n          <text class=\"form-label\">收件地址</text>\r\n          <input v-model=\"receiver.address\" placeholder=\"请输入收件地址\" class=\"form-input\" />\r\n        </view>\r\n      </view>\r\n    </view>\r\n\r\n    <!-- 下一步按钮 -->\r\n    <view class=\"footer\">\r\n      <button class=\"next-btn\" @click=\"nextStep\">下一步</button>\r\n    </view>\r\n\r\n    <view v-if=\"showHistoryDialog\" class=\"history-dialog-mask\" @click=\"showHistoryDialog=false\">\r\n      <view class=\"history-dialog\" @click.stop tabindex=\"0\" @keydown=\"onHistoryKeydown\">\r\n        <view class=\"dialog-title\">选择历史报名人</view>\r\n        <view class=\"search-bar\">\r\n          <input v-model=\"historySearch\" class=\"search-input\" placeholder=\"搜索姓名或电话\" @input=\"onHistorySearch\" />\r\n          <text v-if=\"historySearch\" class=\"search-clear\" @click=\"clearHistorySearch\">×</text>\r\n        </view>\r\n        <view v-if=\"filteredHistory.length === 0\" class=\"empty-tip\">\r\n          <text class=\"empty-icon\">🗂️</text> 暂无匹配报名人\r\n        </view>\r\n        <view v-else class=\"history-list\">\r\n          <view v-for=\"(item, idx) in filteredHistory\" :key=\"idx\" class=\"history-item\" :class=\"{hover: hoverIdx===idx, selected: batchDeleteSet.has(idx)}\"\r\n            @mouseenter=\"hoverIdx=idx\" @mouseleave=\"hoverIdx=-1\" @click=\"onHistoryItemClick(idx, item)\">\r\n            <view class=\"history-main\">\r\n              <view class=\"history-name\">{{ item.name }} <text class=\"history-phone\">{{ item.phone }}</text></view>\r\n              <view class=\"history-detail\">{{ item.gender }} | {{ item.lunarBirthday }} | {{ item.birthTime }} | {{ item.address }}</view>\r\n              <view class=\"history-detail2\">身份证号：{{ item.idCard || '—' }}</view>\r\n            </view>\r\n            <button class=\"history-del\" v-if=\"!batchDeleteMode\" @click.stop=\"deleteHistoryParticipant(idx)\">删除</button>\r\n            <input v-if=\"batchDeleteMode\" type=\"checkbox\" class=\"batch-checkbox\" :checked=\"batchDeleteSet.has(idx)\" @change.stop=\"toggleBatchDelete(idx)\" />\r\n          </view>\r\n        </view>\r\n        <view class=\"dialog-actions\">\r\n          <button class=\"dialog-close\" @click=\"showHistoryDialog=false\">关闭</button>\r\n          <button class=\"dialog-btn\" @click=\"toggleBatchDeleteMode\">{{ batchDeleteMode ? '取消批量' : '批量删除' }}</button>\r\n          <button class=\"dialog-btn\" @click=\"exportHistory\">导出</button>\r\n          <button class=\"dialog-btn\" @click=\"importHistory\">导入</button>\r\n          <button class=\"dialog-btn danger\" v-if=\"batchDeleteMode && batchDeleteSet.size\" @click=\"confirmBatchDelete\">确认删除({{ batchDeleteSet.size }})</button>\r\n        </view>\r\n        <input v-if=\"showImportInput\" type=\"file\" accept=\"application/json\" style=\"display:none\" ref=\"importFile\" @change=\"onImportFile\" />\r\n      </view>\r\n    </view>\r\n  </view>\r\n</template>\r\n\r\n<script>\r\nimport ParticipantForm from '@/components/ParticipantForm.vue'\r\n\r\nexport default {\r\n  components: {\r\n    ParticipantForm\r\n  },\r\n  data() {\r\n    return {\r\n      bannerImage: '',\r\n      bannerDesc: '',\r\n      specialIntro: { content: '', image: '' },\r\n      applicants: [this.getEmptyApplicant()],\r\n\r\n      fahuiProjects: [], // 改为动态获取\r\n      selectedProjectIndex: -1,\r\n      spouse: {\r\n        name: '',\r\n        gender: '',\r\n        phone: '',\r\n        lunarBirthday: '',\r\n        birthTime: '',\r\n        address: ''\r\n      },\r\n      chaoduTypes: ['超度法会', '超度牌位', '超度功德'],\r\n      chaoduType: '',\r\n      relationOptions: [\r\n        '先曾祖父', '先曾祖母', '先祖父', '先祖母', '外祖父', '外祖母',\r\n        '先父', '先母', '岳父', '岳母', '先夫', '先妻', '故爱子', '故爱女', '好友', '恩师', '其他'\r\n      ],\r\n      deceasedList: [this.getEmptyDeceased()],\r\n      showGoods: false,\r\n      goodsList: [],\r\n      showReceiver: false, // 默认不显示\r\n      receiver: {\r\n        name: '',\r\n        phone: '',\r\n        address: ''\r\n      },\r\n      genderOptions: ['男', '女'],\r\n      birthTimeOptions: ['子时', '丑时', '寅时', '卯时', '辰时', '巳时', '午时', '未时', '申时', '酉时', '戌时', '亥时'],\r\n      showHistoryDialog: false,\r\n      historyParticipants: [],\r\n      historySelectIndex: -1,\r\n      historySearch: '',\r\n      hoverIdx: -1,\r\n      batchDeleteMode: false,\r\n      batchDeleteSet: new Set(),\r\n      showImportInput: false,\r\n    }\r\n  },\r\n  computed: {\r\n    goodsTotalPrice() {\r\n      return this.goodsList.reduce((sum, item) => {\r\n        const price = Number(item.price) || 0\r\n        const qty = Number(item.qty) || 0\r\n        return sum + price * qty\r\n      }, 0)\r\n    },\r\n    totalPrice() {\r\n      const basePrice = this.selectedProjectIndex >= 0 ? this.fahuiProjects[this.selectedProjectIndex].price : 0\r\n      const applicantCount = this.applicants.length\r\n      return basePrice * applicantCount + this.goodsTotalPrice\r\n    },\r\n    totalPriceFormatted() {\r\n      return this.totalPrice.toFixed(2) // 保留两位小数\r\n    },\r\n    filteredHistory() {\r\n      if (!this.historySearch) return this.historyParticipants\r\n      const kw = this.historySearch.trim()\r\n      return this.historyParticipants.filter(item =>\r\n        item.name.includes(kw) || (item.phone && item.phone.includes(kw))\r\n      )\r\n    }\r\n  },\r\n  methods: {\r\n    showError(msg) {\r\n      uni.showToast({ title: msg, icon: 'none' })\r\n      return false\r\n    },\r\n    async loadBanner() {\r\n      try {\r\n        const res = await uniCloud.callFunction({\r\n          name: 'getFahuiBanners',\r\n          data: { t: Date.now() + Math.random() }\r\n        })\r\n        console.log('云函数返回：', res)\r\n        if (res.result && res.result.data && res.result.data.length > 0) {\r\n          let image = res.result.data[0].image\r\n          let desc = res.result.data[0].description || ''\r\n          // fileID 转临时链接\r\n          if (image && !/^https?:\\/\\//.test(image)) {\r\n            const tempRes = await uniCloud.getTempFileURL({ fileList: [image] })\r\n            if (tempRes.fileList && tempRes.fileList[0] && tempRes.fileList[0].tempFileURL) {\r\n              image = tempRes.fileList[0].tempFileURL\r\n            }\r\n          }\r\n          this.bannerImage = image\r\n          this.bannerDesc = desc\r\n          console.log('最终显示图片：', image)\r\n          console.log('最终显示描述：', desc)\r\n        } else {\r\n          this.bannerImage = ''\r\n          this.bannerDesc = ''\r\n        }\r\n      } catch (e) {\r\n        this.bannerImage = ''\r\n        this.bannerDesc = ''\r\n        console.error('加载头图失败', e)\r\n      }\r\n    },\r\n    async loadSpecialIntro() {\r\n      try {\r\n        const res = await uniCloud.callFunction({ name: 'getFahuiSpecialIntro' })\r\n        if (res.result && res.result.data) {\r\n          this.specialIntro = res.result.data\r\n        } else {\r\n          this.specialIntro = { content: '', image: '' }\r\n        }\r\n      } catch (e) {\r\n        this.specialIntro = { content: '', image: '' }\r\n      }\r\n    },\r\n    async loadFahuiProjects() {\r\n      try {\r\n        const res = await uniCloud.callFunction({ \r\n          name: 'getFahuiProjects',\r\n          data: { type: 'special' }\r\n        })\r\n        this.fahuiProjects = res.result && res.result.data ? res.result.data.map(p => ({\r\n          ...p,\r\n          price: Number(p.price) || 0\r\n        })) : []\r\n        // 恢复上次选中\r\n        const last = uni.getStorageSync('fahuiForm')\r\n        if (last && last.fahuiProject) {\r\n          const idx = this.fahuiProjects.findIndex(p => p._id === last.fahuiProject._id)\r\n          this.selectedProjectIndex = idx >= 0 ? idx : -1\r\n        } else {\r\n          this.selectedProjectIndex = -1\r\n        }\r\n      } catch (e) {\r\n        this.fahuiProjects = []\r\n        uni.showToast({ title: '获取法会项目失败', icon: 'none' })\r\n      }\r\n    },\r\n    async loadGoodsConfig() {\r\n      try {\r\n        const result = await uniCloud.callFunction({ name: 'getFahuiGoodsConfig' });\r\n        if (result.result && result.result.data) {\r\n          this.showGoods = !!result.result.data.enabled && Array.isArray(result.result.data.goods) && result.result.data.goods.length > 0;\r\n          this.goodsList = Array.isArray(result.result.data.goods)\r\n            ? result.result.data.goods.filter(g => g.enabled).map(g => ({ ...g, qty: Number(g.qty) || 0 }))\r\n            : [];\r\n        } else {\r\n          this.showGoods = false;\r\n          this.goodsList = [];\r\n        }\r\n      } catch (error) {\r\n        this.showGoods = false;\r\n        this.goodsList = [];\r\n        console.error('加载代办物品配置失败:', error);\r\n      }\r\n    },\r\n    async getReceiverConfig() {\r\n      try {\r\n        const res = await uniCloud.callFunction({ name: 'getFahuiReceiverConfig', data: { t: Date.now() } })\r\n        // 兼容 enabled 字段在 result 或根对象\r\n        const enabled = (res.result && typeof res.result.enabled !== 'undefined' ? res.result.enabled : res.enabled)\r\n        this.showReceiver = !!enabled\r\n        console.log('[调试] getFahuiReceiverConfig 返回:', res, '最终 showReceiver:', this.showReceiver)\r\n      } catch (e) {\r\n        this.showReceiver = false\r\n        console.log('[调试] getFahuiReceiverConfig 异常:', e)\r\n      }\r\n    },\r\n    getEmptyApplicant() {\r\n      return {\r\n        name: '',\r\n        gender: '',\r\n        phone: '',\r\n        lunarBirthday: '',\r\n        birthTime: '',\r\n        address: ''\r\n      }\r\n    },\r\n    getEmptyDeceased() {\r\n      return {\r\n        name: '',\r\n        relation: '',\r\n        lunarBirthday: '',\r\n        deathDate: ''\r\n      }\r\n    },\r\n    onParticipantsChange(participants) {\r\n      // 只在数据变化时赋值，避免深度响应式卡顿\r\n      if (JSON.stringify(this.applicants) !== JSON.stringify(participants)) {\r\n        this.applicants = participants.slice ? participants.slice() : participants\r\n      }\r\n    },\r\n\r\n    selectProject(index) {\r\n      console.log('选中项目index:', index)\r\n      this.selectedProjectIndex = index\r\n    },\r\n    onSpouseGenderChange(e) {\r\n      this.spouse.gender = this.genderOptions[e.detail.value]\r\n    },\r\n    onSpouseBirthdayChange(e) {\r\n      this.spouse.lunarBirthday = e.detail.value\r\n    },\r\n    onSpouseBirthTimeChange(e) {\r\n      this.spouse.birthTime = this.birthTimeOptions[e.detail.value]\r\n    },\r\n    onChaoduTypeChange(e) {\r\n      this.chaoduType = this.chaoduTypes[e.detail.value]\r\n    },\r\n    addDeceased() {\r\n      if (this.deceasedList.length < 5) {\r\n        this.deceasedList.push(this.getEmptyDeceased())\r\n      }\r\n    },\r\n    removeDeceased(index) {\r\n      if (this.deceasedList.length > 1) {\r\n        this.deceasedList.splice(index, 1)\r\n      }\r\n    },\r\n    onRelationChange(index, e) {\r\n      this.deceasedList[index].relation = this.relationOptions[e.detail.value]\r\n    },\r\n    onDeceasedBirthdayChange(index, e) {\r\n      this.deceasedList[index].lunarBirthday = e.detail.value\r\n    },\r\n    onDeceasedDeathChange(index, e) {\r\n      this.deceasedList[index].deathDate = e.detail.value\r\n    },\r\n    increaseGoodsQty(index) {\r\n      this.goodsList[index].qty++\r\n    },\r\n    decreaseGoodsQty(index) {\r\n      if (this.goodsList[index].qty > 0) {\r\n        this.goodsList[index].qty--\r\n      }\r\n    },\r\n    // 历史报名人弹窗\r\n    openHistoryDialog(index) {\r\n      this.historySelectIndex = index\r\n      this.historyParticipants = uni.getStorageSync('historyParticipants') || []\r\n      this.showHistoryDialog = true\r\n    },\r\n    selectHistoryParticipant(item) {\r\n      if (this.historySelectIndex >= 0) {\r\n        this.$set(this.applicants, this.historySelectIndex, { ...item })\r\n      }\r\n      this.showHistoryDialog = false\r\n      this.historySelectIndex = -1\r\n    },\r\n    // 报名成功后保存历史报名人\r\n    saveHistoryParticipants() {\r\n      let history = uni.getStorageSync('historyParticipants') || []\r\n      this.applicants.forEach(p => {\r\n        if (!history.some(h => h.name === p.name && h.phone === p.phone)) {\r\n          history.push({ ...p })\r\n        }\r\n      })\r\n      // 最多保存20条\r\n      if (history.length > 20) history = history.slice(-20)\r\n      uni.setStorageSync('historyParticipants', history)\r\n    },\r\n    // 增强校验：姓名、手机号不能重复\r\n    validate() {\r\n      // 校验报名人数量\r\n      if (!this.applicants || this.applicants.length === 0) {\r\n        return this.showError('请添加至少一位报名人')\r\n      }\r\n      if (this.applicants.length > 5) {\r\n        return this.showError('最多添加5位报名人')\r\n      }\r\n      // 校验报名人信息\r\n      const nameSet = new Set()\r\n      const phoneSet = new Set()\r\n      for (let i = 0; i < this.applicants.length; i++) {\r\n        const p = this.applicants[i]\r\n        if (!p.name) return this.showError(`请输入第${i+1}位报名人姓名`)\r\n        if (!p.gender) return this.showError(`请选择第${i+1}位报名人性别`)\r\n        if (!p.phone) return this.showError(`请输入第${i+1}位报名人电话`)\r\n        if (!/^1[3-9]\\d{9}$/.test(p.phone)) return this.showError(`第${i+1}位报名人电话格式不正确`)\r\n        if (!p.lunarBirthday) return this.showError(`请选择第${i+1}位报名人农历生日`)\r\n        if (!p.birthTime) return this.showError(`请选择第${i+1}位报名人出生时辰`)\r\n        if (!p.address) return this.showError(`请输入第${i+1}位报名人常住地址`)\r\n        if (nameSet.has(p.name)) return this.showError(`第${i+1}位报名人姓名重复`)\r\n        if (phoneSet.has(p.phone)) return this.showError(`第${i+1}位报名人电话重复`)\r\n        nameSet.add(p.name)\r\n        phoneSet.add(p.phone)\r\n      }\r\n      // 校验法会项目\r\n      if (this.selectedProjectIndex === -1) {\r\n        return this.showError('请选择法会项目')\r\n      }\r\n      // 校验超度法会\r\n      if (this.selectedProjectIndex === 1) {\r\n        if (!this.chaoduType) return this.showError('请选择超度类型')\r\n        if (!this.deceasedList || this.deceasedList.length === 0) return this.showError('请添加至少一位已故亲人')\r\n        for (let i = 0; i < this.deceasedList.length; i++) {\r\n          const d = this.deceasedList[i]\r\n          if (!d.name) return this.showError(`请输入第${i+1}位已故亲人姓名`)\r\n          if (!d.relation) return this.showError(`请选择第${i+1}位已故亲人关系`)\r\n        }\r\n      }\r\n      // 校验收件信息（如显示时，全部填写或全部为空）\r\n      if (this.showReceiver) {\r\n        const { name, phone, address } = this.receiver\r\n        const filled = name || phone || address\r\n        const allFilled = name && phone && address\r\n        if (filled && !allFilled) return this.showError('请完整填写收件人、电话和地址')\r\n        if (phone && !/^1[3-9]\\d{9}$/.test(phone)) return this.showError('收件人电话格式不正确')\r\n      }\r\n      return true\r\n    },\r\n    nextStep() {\r\n      if (!this.validate()) return\r\n\r\n      // 构建表单数据\r\n      const formData = {\r\n        applicants: this.applicants,\r\n        fahuiProject: {\r\n          ...this.fahuiProjects[this.selectedProjectIndex],\r\n          price: Number(this.fahuiProjects[this.selectedProjectIndex].price) || 0\r\n        },\r\n        spouse: this.selectedProjectIndex === 0 ? this.spouse : null,\r\n        chaoduType: this.selectedProjectIndex === 1 ? this.chaoduType : null,\r\n        deceasedList: this.selectedProjectIndex === 1 ? this.deceasedList : null,\r\n        goods: this.goodsList.filter(item => item.qty > 0),\r\n        receiver: this.receiver,\r\n        totalPrice: this.totalPrice,\r\n        timestamp: new Date().getTime()\r\n      }\r\n\r\n      // 收件信息自动保存到数据库\r\n      if (this.showReceiver && this.receiver.name && this.receiver.phone && this.receiver.address) {\r\n        uniCloud.callFunction({\r\n          name: 'addFahuiReceiver',\r\n          data: { ...this.receiver }\r\n        })\r\n      }\r\n\r\n      // 保存到本地存储\r\n      uni.setStorageSync('fahuiForm', formData)\r\n      this.saveHistoryParticipants()\r\n\r\n      // 跳转到确认页\r\n      uni.navigateTo({\r\n        url: '/pages/fahui/confirm',\r\n        success: () => {\r\n          console.log('跳转到专场法会确认页成功')\r\n        },\r\n        fail: (err) => {\r\n          console.error('跳转失败:', err)\r\n          uni.showToast({ title: '页面跳转失败', icon: 'none' })\r\n        }\r\n      })\r\n    },\r\n    showProjectIntro(project) {\r\n      uni.showModal({\r\n        title: project.name + '简介',\r\n        content: project.description || '暂无简介'\r\n      })\r\n    },\r\n    onHistorySearch() {\r\n      this.hoverIdx = -1\r\n    },\r\n    clearHistorySearch() {\r\n      this.historySearch = ''\r\n    },\r\n    deleteHistoryParticipant(idx) {\r\n      const item = this.filteredHistory[idx]\r\n      uni.showModal({\r\n        title: '确认删除',\r\n        content: `确定要删除“${item.name}”的历史信息吗？`,\r\n        success: (res) => {\r\n          if (res.confirm) {\r\n            // 从原始数组删除\r\n            const realIdx = this.historyParticipants.findIndex(h => h.name === item.name && h.phone === item.phone)\r\n            if (realIdx !== -1) {\r\n              this.historyParticipants.splice(realIdx, 1)\r\n              uni.setStorageSync('historyParticipants', this.historyParticipants)\r\n            }\r\n          }\r\n        }\r\n      })\r\n    },\r\n    onHistoryKeydown(e) {\r\n      if (!this.showHistoryDialog) return\r\n      if (e.key === 'ArrowDown') {\r\n        if (this.filteredHistory.length) {\r\n          this.hoverIdx = (this.hoverIdx + 1) % this.filteredHistory.length\r\n        }\r\n        e.preventDefault()\r\n      } else if (e.key === 'ArrowUp') {\r\n        if (this.filteredHistory.length) {\r\n          this.hoverIdx = (this.hoverIdx - 1 + this.filteredHistory.length) % this.filteredHistory.length\r\n        }\r\n        e.preventDefault()\r\n      } else if (e.key === 'Enter') {\r\n        if (this.hoverIdx >= 0 && this.hoverIdx < this.filteredHistory.length && !this.batchDeleteMode) {\r\n          this.selectHistoryParticipant(this.filteredHistory[this.hoverIdx])\r\n        }\r\n      } else if (e.key === 'Escape') {\r\n        this.showHistoryDialog = false\r\n      }\r\n    },\r\n    onHistoryItemClick(idx, item) {\r\n      if (this.batchDeleteMode) {\r\n        this.toggleBatchDelete(idx)\r\n      } else {\r\n        this.selectHistoryParticipant(item)\r\n      }\r\n    },\r\n    toggleBatchDeleteMode() {\r\n      this.batchDeleteMode = !this.batchDeleteMode\r\n      this.batchDeleteSet = new Set()\r\n    },\r\n    toggleBatchDelete(idx) {\r\n      if (this.batchDeleteSet.has(idx)) {\r\n        this.batchDeleteSet.delete(idx)\r\n      } else {\r\n        this.batchDeleteSet.add(idx)\r\n      }\r\n    },\r\n    confirmBatchDelete() {\r\n      if (!this.batchDeleteSet.size) return\r\n      uni.showModal({\r\n        title: '批量删除',\r\n        content: `确定要删除选中的${this.batchDeleteSet.size}条历史报名人吗？`,\r\n        success: (res) => {\r\n          if (res.confirm) {\r\n            const toDelete = Array.from(this.batchDeleteSet).map(i => this.filteredHistory[i])\r\n            this.historyParticipants = this.historyParticipants.filter(h => !toDelete.some(d => d.name === h.name && d.phone === h.phone))\r\n            uni.setStorageSync('historyParticipants', this.historyParticipants)\r\n            this.batchDeleteSet = new Set()\r\n            this.batchDeleteMode = false\r\n          }\r\n        }\r\n      })\r\n    },\r\n    exportHistory() {\r\n      const data = JSON.stringify(this.historyParticipants, null, 2)\r\n      const blob = new Blob([data], { type: 'application/json' })\r\n      const url = URL.createObjectURL(blob)\r\n      const a = document.createElement('a')\r\n      a.href = url\r\n      a.download = 'historyParticipants.json'\r\n      a.click()\r\n      URL.revokeObjectURL(url)\r\n    },\r\n    importHistory() {\r\n      // 触发文件选择\r\n      this.showImportInput = true\r\n      this.$nextTick(() => {\r\n        this.$refs.importFile && this.$refs.importFile.click()\r\n      })\r\n    },\r\n    onImportFile(e) {\r\n      const file = e.target.files[0]\r\n      if (!file) return\r\n      const reader = new FileReader()\r\n      reader.onload = (evt) => {\r\n        try {\r\n          const arr = JSON.parse(evt.target.result)\r\n          if (Array.isArray(arr)) {\r\n            // 合并去重\r\n            arr.forEach(p => {\r\n              if (!this.historyParticipants.some(h => h.name === p.name && h.phone === p.phone)) {\r\n                this.historyParticipants.push(p)\r\n              }\r\n            })\r\n            uni.setStorageSync('historyParticipants', this.historyParticipants)\r\n            uni.showToast({ title: '导入成功', icon: 'success' })\r\n          } else {\r\n            uni.showToast({ title: '格式错误', icon: 'none' })\r\n          }\r\n        } catch {\r\n          uni.showToast({ title: '解析失败', icon: 'none' })\r\n        }\r\n      }\r\n      reader.readAsText(file)\r\n      this.showImportInput = false\r\n    },\r\n  },\r\n  onLoad() {\r\n    this.getReceiverConfig();\r\n    this.loadBanner()\r\n    this.loadSpecialIntro()\r\n    this.loadFahuiProjects() // 新增\r\n    this.loadGoodsConfig();\r\n    // 自动填充上次填写\r\n    const last = uni.getStorageSync('fahuiForm')\r\n    if (last) {\r\n      this.applicants = last.applicants || [this.getEmptyApplicant()]\r\n      this.selectedProjectIndex = this.fahuiProjects.findIndex(p => p.id === last.fahuiProject?.id)\r\n      this.spouse = last.spouse || this.spouse\r\n      this.chaoduType = last.chaoduType || ''\r\n      this.deceasedList = last.deceasedList || [this.getEmptyDeceased()]\r\n      this.receiver = last.receiver || this.receiver\r\n      \r\n      // 恢复商品选择\r\n      if (last.goods) {\r\n        last.goods.forEach(selected => {\r\n          const index = this.goodsList.findIndex(item => item.id === selected.id)\r\n          if (index !== -1) {\r\n            this.goodsList[index].qty = selected.qty\r\n          }\r\n        })\r\n      }\r\n    }\r\n  },\r\n  onShow() {\r\n    this.getReceiverConfig();\r\n    try {\r\n      uni.removeStorageSync('fahuiBannerCache')\r\n    } catch (e) {}\r\n    this.loadBanner()\r\n    this.loadFahuiProjects() // 新增，确保每次进入都刷新\r\n    this.loadGoodsConfig();\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n.fahui-page {\r\n  min-height: 100vh;\r\n  background: linear-gradient(180deg, #e0eaff 0%, #f8f8f8 100%);\r\n  padding-bottom: 40rpx;\r\n}\r\n\r\n.fahui-banner {\r\n  width: 100%;\r\n  height: 320rpx;\r\n  border-radius: 0 0 24rpx 24rpx;\r\n}\r\n\r\n.banner-desc {\r\n  position: absolute;\r\n  top: 320rpx; /* 与 bannerImage 高度一致 */\r\n  left: 0;\r\n  width: 100%;\r\n  padding: 20rpx 16rpx;\r\n  background-color: rgba(0, 0, 0, 0.5);\r\n  color: #fff;\r\n  font-size: 24rpx;\r\n  text-align: center;\r\n  z-index: 10;\r\n}\r\n\r\n.intro-section {\r\n  background: #fff;\r\n  margin: 24rpx 16rpx;\r\n  border-radius: 18rpx;\r\n  padding: 32rpx 24rpx;\r\n  box-shadow: 0 2rpx 12rpx #e0eaff;\r\n}\r\n\r\n.intro-title {\r\n  font-size: 32rpx;\r\n  font-weight: bold;\r\n  color: #2d8cf0;\r\n  margin-bottom: 16rpx;\r\n}\r\n\r\n.intro-image {\r\n  width: 100%;\r\n  height: 200rpx; /* 图片高度 */\r\n  border-radius: 8rpx;\r\n  overflow: hidden;\r\n  margin-bottom: 16rpx;\r\n}\r\n\r\n.intro-img {\r\n  width: 100%;\r\n  height: 100%;\r\n  object-fit: cover;\r\n}\r\n\r\n.intro-content {\r\n  font-size: 28rpx;\r\n  color: #666;\r\n  line-height: 1.6;\r\n}\r\n\r\n.section {\r\n  background: #fff;\r\n  margin: 24rpx 16rpx;\r\n  border-radius: 18rpx;\r\n  padding: 32rpx 24rpx;\r\n  box-shadow: 0 2rpx 12rpx #e0eaff;\r\n}\r\n\r\n.section-title {\r\n  font-size: 30rpx;\r\n  font-weight: bold;\r\n  color: #2d8cf0;\r\n  margin-bottom: 24rpx;\r\n  display: flex;\r\n  align-items: center;\r\n}\r\n\r\n.icon {\r\n  font-size: 30rpx;\r\n  margin-right: 8rpx;\r\n}\r\n\r\n.section-tip {\r\n  font-size: 24rpx;\r\n  color: #666;\r\n  margin-left: 8rpx;\r\n}\r\n\r\n.required {\r\n  color: #ff4d4f;\r\n  font-size: 26rpx;\r\n}\r\n\r\n\r\n\r\n.form-group {\r\n  margin-bottom: 18rpx;\r\n}\r\n\r\n.form-label {\r\n  display: block;\r\n  font-size: 28rpx;\r\n  color: #333;\r\n  margin-bottom: 8rpx;\r\n}\r\n\r\n.form-input {\r\n  width: 100%;\r\n  padding: 16rpx;\r\n  border: 1px solid #ccc;\r\n  border-radius: 8rpx;\r\n  font-size: 28rpx;\r\n  background: #fff;\r\n}\r\n\r\n.picker {\r\n  padding: 16rpx;\r\n  background: #f7f7f7;\r\n  border-radius: 8rpx;\r\n  font-size: 28rpx;\r\n  color: #333;\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: space-between;\r\n  border: 1px solid #e0eaff;\r\n}\r\n\r\n.picker-value {\r\n  color: #333;\r\n}\r\n\r\n.picker-arrow {\r\n  color: #bbb;\r\n  font-size: 28rpx;\r\n}\r\n\r\n.add-btn {\r\n  width: 100%;\r\n  height: 80rpx;\r\n  border: 2rpx dashed #2d8cf0;\r\n  border-radius: 8rpx;\r\n  background: #f8f9fa;\r\n  color: #2d8cf0;\r\n  font-size: 28rpx;\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  margin-top: 16rpx;\r\n}\r\n\r\n.add-icon {\r\n  font-size: 36rpx;\r\n  margin-right: 8rpx;\r\n}\r\n\r\n.project-list {\r\n  margin-bottom: 24rpx;\r\n}\r\n\r\n.project-item {\r\n  border: 1px solid #e0eaff;\r\n  border-radius: 12rpx;\r\n  padding: 24rpx;\r\n  margin-bottom: 16rpx;\r\n  background: #f8f9fa;\r\n  display: flex;\r\n  justify-content: space-between;\r\n  align-items: center;\r\n  transition: all 0.3s;\r\n}\r\n\r\n.project-item:active {\r\n  transform: scale(0.98);\r\n}\r\n\r\n.project-info {\r\n  flex: 1;\r\n}\r\n\r\n.project-name {\r\n  font-size: 28rpx;\r\n  font-weight: bold;\r\n  color: #333;\r\n  margin-bottom: 8rpx;\r\n}\r\n\r\n.project-desc {\r\n  font-size: 24rpx;\r\n  color: #666;\r\n  margin-bottom: 8rpx;\r\n}\r\n\r\n.project-price {\r\n  font-size: 26rpx;\r\n  color: #ff4d4f;\r\n  font-weight: bold;\r\n}\r\n\r\n.project-remaining {\r\n  font-size: 24rpx;\r\n  color: #666;\r\n  margin-top: 8rpx;\r\n}\r\n\r\n.project-status {\r\n  width: 60rpx;\r\n  height: 60rpx;\r\n  border-radius: 50%;\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  border: 2rpx solid #e0eaff;\r\n}\r\n\r\n.project-status.active {\r\n  background: #2d8cf0;\r\n  border-color: #2d8cf0;\r\n}\r\n\r\n.status-icon {\r\n  font-size: 32rpx;\r\n  color: #2d8cf0;\r\n}\r\n\r\n.project-status.active .status-icon {\r\n  color: #fff;\r\n}\r\n\r\n.spouse-form, .receiver-form {\r\n  background: #f8f9fa;\r\n  border-radius: 12rpx;\r\n  padding: 24rpx;\r\n}\r\n\r\n.deceased-list {\r\n  margin-bottom: 24rpx;\r\n}\r\n\r\n.deceased-card {\r\n  border: 1px solid #e0eaff;\r\n  border-radius: 12rpx;\r\n  padding: 24rpx;\r\n  margin-bottom: 16rpx;\r\n  background: #f8f9fa;\r\n}\r\n\r\n.deceased-header {\r\n  display: flex;\r\n  justify-content: space-between;\r\n  align-items: center;\r\n  margin-bottom: 18rpx;\r\n}\r\n\r\n.deceased-title {\r\n  font-size: 28rpx;\r\n  font-weight: bold;\r\n  color: #2d8cf0;\r\n}\r\n\r\n.goods-list {\r\n  margin-bottom: 24rpx;\r\n}\r\n\r\n.goods-item {\r\n  border: 1px solid #e0eaff;\r\n  border-radius: 12rpx;\r\n  padding: 24rpx;\r\n  margin-bottom: 16rpx;\r\n  background: #f8f9fa;\r\n  display: flex;\r\n  justify-content: space-between;\r\n  align-items: center;\r\n}\r\n\r\n.goods-info {\r\n  flex: 1;\r\n}\r\n\r\n.goods-name {\r\n  font-size: 28rpx;\r\n  font-weight: bold;\r\n  color: #333;\r\n  margin-bottom: 8rpx;\r\n}\r\n\r\n.goods-desc {\r\n  font-size: 24rpx;\r\n  color: #666;\r\n  margin-bottom: 8rpx;\r\n}\r\n\r\n.goods-price {\r\n  font-size: 26rpx;\r\n  color: #ff4d4f;\r\n  font-weight: bold;\r\n}\r\n\r\n.goods-control {\r\n  display: flex;\r\n  align-items: center;\r\n}\r\n\r\n.qty-btn {\r\n  width: 60rpx;\r\n  height: 60rpx;\r\n  border: 1px solid #2d8cf0;\r\n  border-radius: 8rpx;\r\n  background: #fff;\r\n  color: #2d8cf0;\r\n  font-size: 28rpx;\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n}\r\n\r\n.qty-btn:disabled {\r\n  color: #ccc;\r\n  border-color: #ccc;\r\n}\r\n\r\n.qty-value {\r\n  width: 80rpx;\r\n  text-align: center;\r\n  font-size: 28rpx;\r\n  color: #333;\r\n  margin: 0 16rpx;\r\n}\r\n\r\n.total-section {\r\n  display: flex;\r\n  justify-content: space-between;\r\n  align-items: center;\r\n  padding-top: 24rpx;\r\n  border-top: 1px solid #e0eaff;\r\n}\r\n\r\n.total-label {\r\n  font-size: 28rpx;\r\n  color: #333;\r\n}\r\n\r\n.total-price {\r\n  font-size: 32rpx;\r\n  color: #ff4d4f;\r\n  font-weight: bold;\r\n}\r\n\r\n.footer {\r\n  padding: 32rpx 16rpx;\r\n}\r\n\r\n.next-btn {\r\n  width: 100%;\r\n  height: 88rpx;\r\n  border-radius: 44rpx;\r\n  background: linear-gradient(135deg, #2d8cf0 0%, #5cadff 100%);\r\n  color: #fff;\r\n  font-size: 32rpx;\r\n  font-weight: bold;\r\n  border: none;\r\n  box-shadow: 0 4rpx 16rpx #b3c6e0;\r\n}\r\n\r\n.history-dialog-mask {\r\n  position: fixed;\r\n  top: 0;\r\n  left: 0;\r\n  width: 100%;\r\n  height: 100%;\r\n  background: rgba(0, 0, 0, 0.5);\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n  z-index: 1000;\r\n}\r\n\r\n.history-dialog {\r\n  background: #fff;\r\n  border-radius: 24rpx;\r\n  padding: 40rpx 32rpx 24rpx 32rpx;\r\n  min-width: 520rpx;\r\n  max-width: 90vw;\r\n  box-shadow: 0 12rpx 48rpx #b3c6e0;\r\n  position: relative;\r\n  animation: fadeIn .2s;\r\n}\r\n@keyframes fadeIn { from { opacity: 0; transform: scale(0.95);} to { opacity: 1; transform: scale(1);} }\r\n.dialog-title {\r\n  font-size: 32rpx;\r\n  font-weight: bold;\r\n  margin-bottom: 24rpx;\r\n  text-align: center;\r\n}\r\n.search-bar {\r\n  display: flex;\r\n  align-items: center;\r\n  margin-bottom: 18rpx;\r\n  background: #f7f7fa;\r\n  border-radius: 8rpx;\r\n  padding: 8rpx 16rpx;\r\n}\r\n.search-input {\r\n  flex: 1;\r\n  border: none;\r\n  background: transparent;\r\n  font-size: 28rpx;\r\n  outline: none;\r\n}\r\n.search-clear {\r\n  font-size: 32rpx;\r\n  color: #bbb;\r\n  margin-left: 8rpx;\r\n  cursor: pointer;\r\n}\r\n.empty-tip {\r\n  color: #aaa;\r\n  text-align: center;\r\n  margin: 32rpx 0;\r\n  font-size: 28rpx;\r\n}\r\n.empty-icon {\r\n  font-size: 48rpx;\r\n  display: block;\r\n  margin-bottom: 8rpx;\r\n}\r\n.history-list {\r\n  max-height: 400rpx;\r\n  overflow-y: auto;\r\n  margin-bottom: 24rpx;\r\n}\r\n.history-item {\r\n  display: flex;\r\n  align-items: center;\r\n  padding: 18rpx 0;\r\n  border-bottom: 1px solid #f0f0f0;\r\n  cursor: pointer;\r\n  border-radius: 8rpx;\r\n  transition: background 0.2s;\r\n}\r\n.history-item:last-child { border-bottom: none; }\r\n.history-item.hover, .history-item:active {\r\n  background: #f0f6ff;\r\n}\r\n.history-item.selected {\r\n  background: #ffeaea;\r\n}\r\n.history-main { flex: 1; }\r\n.history-name {\r\n  font-size: 28rpx;\r\n  color: #333;\r\n  font-weight: bold;\r\n}\r\n.history-phone {\r\n  font-size: 24rpx;\r\n  color: #888;\r\n  margin-left: 16rpx;\r\n}\r\n.history-detail {\r\n  font-size: 24rpx;\r\n  color: #666;\r\n  margin-top: 4rpx;\r\n}\r\n.history-detail2 {\r\n  font-size: 24rpx;\r\n  color: #666;\r\n  margin-top: 4rpx;\r\n}\r\n.history-del {\r\n  background: #fff0f0;\r\n  color: #ff4d4f;\r\n  border: none;\r\n  border-radius: 8rpx;\r\n  font-size: 24rpx;\r\n  padding: 8rpx 18rpx;\r\n  margin-left: 16rpx;\r\n  cursor: pointer;\r\n  transition: background 0.2s;\r\n}\r\n.history-del:active {\r\n  background: #ffeaea;\r\n}\r\n.dialog-close {\r\n  width: 100%;\r\n  margin-top: 24rpx;\r\n  background: #e0eaff;\r\n  color: #2d8cf0;\r\n  border-radius: 8rpx;\r\n  font-size: 28rpx;\r\n  padding: 16rpx 0;\r\n}\r\n.batch-checkbox {\r\n  width: 32rpx;\r\n  height: 32rpx;\r\n  margin-left: 16rpx;\r\n}\r\n.dialog-actions {\r\n  display: flex;\r\n  gap: 16rpx;\r\n  margin-top: 12rpx;\r\n  flex-wrap: wrap;\r\n}\r\n.dialog-btn {\r\n  background: #f7f7fa;\r\n  color: #2d8cf0;\r\n  border-radius: 8rpx;\r\n  font-size: 26rpx;\r\n  padding: 12rpx 24rpx;\r\n  border: none;\r\n  cursor: pointer;\r\n}\r\n.dialog-btn.danger {\r\n  background: #fff0f0;\r\n  color: #ff4d4f;\r\n}\r\n</style>\r\n","import mod from \"-!../../../../../../Downloads/HBuilderX.4.66.2025051912/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../../../Downloads/HBuilderX.4.66.2025051912/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../../../../Downloads/HBuilderX.4.66.2025051912/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../Downloads/HBuilderX.4.66.2025051912/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--6-oneOf-1-2!../../../../../../Downloads/HBuilderX.4.66.2025051912/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-3!../../../../../../Downloads/HBuilderX.4.66.2025051912/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../Downloads/HBuilderX.4.66.2025051912/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./special.vue?vue&type=style&index=0&id=497fb5e2&scoped=true&lang=css&\"; export default mod; export * from \"-!../../../../../../Downloads/HBuilderX.4.66.2025051912/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../../../Downloads/HBuilderX.4.66.2025051912/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../../../../Downloads/HBuilderX.4.66.2025051912/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../Downloads/HBuilderX.4.66.2025051912/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--6-oneOf-1-2!../../../../../../Downloads/HBuilderX.4.66.2025051912/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-3!../../../../../../Downloads/HBuilderX.4.66.2025051912/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../Downloads/HBuilderX.4.66.2025051912/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./special.vue?vue&type=style&index=0&id=497fb5e2&scoped=true&lang=css&\"","// extracted by mini-css-extract-plugin\n    if(module.hot) {\n      // 1753699267098\n      var cssReload = require(\"C:/Users/小美女/Downloads/HBuilderX.4.66.2025051912/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/hmr/hotModuleReplacement.js\")(module.id, {\"hmr\":true,\"publicPath\":\"/\",\"locals\":false});\n      module.hot.dispose(cssReload);\n      module.hot.accept(undefined, cssReload);\n    }\n  "],"sourceRoot":""}