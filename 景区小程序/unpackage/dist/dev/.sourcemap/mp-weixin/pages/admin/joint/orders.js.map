{"version":3,"sources":["uni-app:///main.js",null,"webpack:///C:/Users/qub/Documents/HBuilderProjects/123/ÊôØÂå∫Â∞èÁ®ãÂ∫è/pages/admin/joint/orders.vue?8805","webpack:///C:/Users/qub/Documents/HBuilderProjects/123/ÊôØÂå∫Â∞èÁ®ãÂ∫è/pages/admin/joint/orders.vue?8b4a","webpack:///C:/Users/qub/Documents/HBuilderProjects/123/ÊôØÂå∫Â∞èÁ®ãÂ∫è/pages/admin/joint/orders.vue?0e71","uni-app:///pages/admin/joint/orders.vue","webpack:///C:/Users/qub/Documents/HBuilderProjects/123/ÊôØÂå∫Â∞èÁ®ãÂ∫è/pages/admin/joint/orders.vue?3b4c","webpack:///C:/Users/qub/Documents/HBuilderProjects/123/ÊôØÂå∫Â∞èÁ®ãÂ∫è/pages/admin/joint/orders.vue?5941"],"names":["wx","__webpack_require_UNI_MP_PLUGIN__","__webpack_require__","createPage","Page","data","orders","isLoading","hasMore","searchKeyword","typeFilterIndex","statusFilterIndex","dateFilterIndex","typeOptions","label","value","statusOptions","dateOptions","computed","filteredOrders","filtered","order","orderDate","pendingOrders","completedOrders","onLoad","onShow","methods","loadOrders","jointManagement","jointResult","fahuiManagement","fahuiResult","allOrders","jointOrders","type","fahuiType","fahuiOrders","console","uni","title","icon","refreshOrders","loadMoreOrders","onTypeFilterChange","onStatusFilterChange","onDateFilterChange","onSearchInput","getTypeClass","getTypeText","getStatusClass","getStatusText","getProjectName","getApplicantCount","getMainContact","formatDate","hour12","viewOrderDetail","_id","order_id","orderNo","orderNumber","url","success","fail","setTimeout","confirmPayment","orderType","management","orderId","status","operator","result","processOrder","editOrder","exportOrders","dateFilter","duration","generateAndDownloadExcel","csvContent","now","dateStr","timeStr","fileName","blob","link","document","URL","generateCSV","csvRows"],"mappings":"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CA;QACA;MACA;MACA;IACA;IAEAC;MACA;IACA;IAEAC;MACA;MACA;QACA;MACA;MACA;MACA;QACA;MACA;MACA;QACA;MACA;MACA;IACA;IAEAC;MACA;MACA;QACA;MACA;MACA;QACA;MACA;MACA;IACA;IAEAC;MACA;MACA;QACA;QACA;MACA;MACA;MACA;QACA;MACA;MACA;IACA;IAEAC;MACA;MAEA;MACA;MACA;MACA;MAEA;QACA;UAAAC;QAAA;MACA;QACA;MACA;QACA;MACA;IACA;IAEAC;MACAnB;MACAA;QACAoB;QACAC;QACAC;QACAC;MACA;MAEA;MACA;MAEAvB;MACAA;MAEA;QACA;QACAA;QACAC;UACAuB;UACAC;YACAzB;UACA;UACA0B;YACA1B;YACAC;cACAC;cACAC;YACA;UACA;QACA;MACA;QACA;QACAH;;QAEA;QACAC;UACAuB;UACAC;YACAzB;UACA;UACA0B;YACA1B;;YAEA;YACAA;YACAC;cACAuB;cACAC;gBACAE;kBACA1B;oBACAuB;oBACAC;sBACAzB;oBACA;oBACA0B;sBACA1B;sBACAC;wBACAC;wBACAC;sBACA;oBACA;kBACA;gBACA;cACA;cACAuB;gBACA1B;gBACAC;kBACAC;kBACAC;gBACA;cACA;YACA;UACA;QACA;MACA;IACA;IAEAyB;MAAA;MAAA;QAAA;QAAA;UAAA;YAAA;cAAA;gBAAA;gBAEAC;gBACAC;gBAAA;gBAAA,OAEAA;kBACAC;kBACAC;kBACAC;gBACA;cAAA;gBAJAC;gBAMA;kBACAjC;oBACAC;oBACAC;kBACA;kBACA;gBACA;kBACAF;oBACAC;oBACAC;kBACA;gBACA;gBAAA;gBAAA;cAAA;gBAAA;gBAAA;gBAEAH;gBACAC;kBACAC;kBACAC;gBACA;cAAA;cAAA;gBAAA;YAAA;UAAA;QAAA;MAAA;IAEA;IAEAgC;MAAA;MAAA;QAAA;QAAA;UAAA;YAAA;cAAA;gBAAA;gBAEAN;gBACAC;gBAAA;gBAAA,OAEAA;kBACAC;kBACAC;kBACAC;gBACA;cAAA;gBAJAC;gBAMA;kBACAjC;oBACAC;oBACAC;kBACA;kBACA;gBACA;kBACAF;oBACAC;oBACAC;kBACA;gBACA;gBAAA;gBAAA;cAAA;gBAAA;gBAAA;gBAEAH;gBACAC;kBACAC;kBACAC;gBACA;cAAA;cAAA;gBAAA;YAAA;UAAA;QAAA;MAAA;IAEA;IAEAiC;MACApC;MACAA;QACAoB;QACAC;QACAC;QACAC;MACA;MAEA;MACA;MAEAvB;MACAA;MAEA;QACA;QACAA;QACAC;UACAuB;UACAC;YACAzB;UACA;UACA0B;YACA1B;YACAC;cACAC;cACAC;YACA;UACA;QACA;MACA;QACA;QACAH;;QAEA;QACAC;UACAuB;UACAC;YACAzB;UACA;UACA0B;YACA1B;;YAEA;YACAA;YACAC;cACAuB;cACAC;gBACAE;kBACA1B;oBACAuB;oBACAC;sBACAzB;oBACA;oBACA0B;sBACA1B;sBACAC;wBACAC;wBACAC;sBACA;oBACA;kBACA;gBACA;cACA;cACAuB;gBACA1B;gBACAC;kBACAC;kBACAC;gBACA;cACA;YACA;UACA;QACA;MACA;IACA;IAEAkC;MAAA;MAAA;QAAA;QAAA;UAAA;YAAA;cAAA;gBAAA;gBAEApC;kBAAAC;gBAAA;gBAEA2B;gBACAC;gBAAA;gBAAA,OAEAA;kBACAE;kBACAM;gBACA;cAAA;gBAHAJ;gBAAA,MAKAA;kBAAA;kBAAA;gBAAA;gBACAjC;;gBAEA;gBAAA;gBAAA,OACA;cAAA;gBAEAA;kBACAC;kBACAC;kBACAoC;gBACA;gBAAA;gBAAA;cAAA;gBAEAtC;gBACAA;kBACAC;kBACAC;gBACA;cAAA;gBAAA;gBAAA;cAAA;gBAAA;gBAAA;gBAGAF;gBACAD;gBACAC;kBACAC;kBACAC;gBACA;cAAA;cAAA;gBAAA;YAAA;UAAA;QAAA;MAAA;IAEA;IAEAqC;MAAA;MAAA;QAAA;QAAA;UAAA;YAAA;cAAA;gBAAA;gBAEA;gBACAC,uCAEA;gBACAC;gBACAC;gBACAC;gBACAC,6HAEA;gBACAC;kBACAjD;gBACA,IAEA;gBACA2B;gBACAuB;gBACAA;gBACAA;gBACAA;;gBAEA;gBACAC;gBACAD;;gBAEA;gBACAC;gBACAC;gBAEAjD;gBAAA;gBAAA;cAAA;gBAAA;gBAAA;gBAEAA;gBAAA;cAAA;cAAA;gBAAA;YAAA;UAAA;QAAA;MAAA;IAGA;IAEAkD;MACA;QACA;MACA;;MAEA;MACA;;MAEA;MACA;;MAEA;MACAC;;MAEA;MAAA,2CACApF;QAAA;MAAA;QAAA;UAAA;UACA;YACA;YACA;YACA;cACA;YACA;YACA;UACA;UACAoF;QAAA;QATA;UAAA;QAUA;MAAA;QAAA;MAAA;QAAA;MAAA;MAEA;IACA;EACA;AACA;AAAA,2B;;;;;;;;;;;;;AC7wBA;AAAA;AAAA;AAAA;AAAqgC,CAAgB,q7BAAG,EAAC,C;;;;;;;;;;;ACAzhC;AACA,OAAO,KAAU,EAAE,kBAKd","file":"pages/admin/joint/orders.js","sourcesContent":["import 'uni-pages';\n// @ts-ignore\nwx.__webpack_require_UNI_MP_PLUGIN__ = __webpack_require__;import '@dcloudio/vue-cli-plugin-uni/packages/uni-cloud/dist/index.js';\nimport Vue from 'vue'\nimport Page from './pages/admin/joint/orders.vue'\ncreatePage(Page)","import { render, staticRenderFns, recyclableRender, components } from \"./orders.vue?vue&type=template&id=2d38f3fa&scoped=true&\"\nvar renderjs\nimport script from \"./orders.vue?vue&type=script&lang=js&\"\nexport * from \"./orders.vue?vue&type=script&lang=js&\"\nimport style0 from \"./orders.vue?vue&type=style&index=0&id=2d38f3fa&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../../../Desktop/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"2d38f3fa\",\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"pages/admin/joint/orders.vue\"\nexport default component.exports","export * from \"-!../../../../../../../Desktop/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../../../../Desktop/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--17-0!../../../../../../../Desktop/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!../../../../../../../Desktop/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-uni-app-loader/page-meta.js!../../../../../../../Desktop/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../Desktop/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./orders.vue?vue&type=template&id=2d38f3fa&scoped=true&\"","var render = function () {}\nvar staticRenderFns = []\nvar recyclableRender\nvar components\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!../../../../../../../Desktop/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../../../Desktop/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--13-1!../../../../../../../Desktop/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../../../Desktop/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../Desktop/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./orders.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../../../Desktop/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../../../Desktop/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--13-1!../../../../../../../Desktop/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../../../Desktop/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../Desktop/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./orders.vue?vue&type=script&lang=js&\"","<template>\n  <view class=\"orders-page\">\n    <!-- È°µÈù¢Â§¥ÈÉ® -->\n    <view class=\"page-header\">\n      <view class=\"header-content\">\n        <view class=\"header-title\">\n          <text class=\"title-icon\">üèõÔ∏è</text>\n          <text class=\"title-text\">Ê≥ï‰ºöËÆ¢ÂçïÁÆ°ÁêÜ</text>\n        </view>\n        <view class=\"header-stats\">\n          <view class=\"stat-item\">\n            <text class=\"stat-number\">{{ orders.length }}</text>\n            <text class=\"stat-label\">ÊÄªËÆ¢Âçï</text>\n          </view>\n          <view class=\"stat-item\">\n            <text class=\"stat-number\">{{ pendingOrders.length }}</text>\n            <text class=\"stat-label\">ÂæÖÂ§ÑÁêÜ</text>\n          </view>\n          <view class=\"stat-item\">\n            <text class=\"stat-number\">{{ completedOrders.length }}</text>\n            <text class=\"stat-label\">Â∑≤ÂÆåÊàê</text>\n          </view>\n        </view>\n      </view>\n    </view>\n\n    <!-- Á≠õÈÄâÂ∑•ÂÖ∑Ê†è -->\n    <view class=\"filter-toolbar\">\n      <view class=\"filter-group\">\n        <picker @change=\"onTypeFilterChange\" :value=\"typeFilterIndex\" :range=\"typeOptions\" range-key=\"label\">\n          <view class=\"filter-item\">\n            <text class=\"filter-icon\">üèõÔ∏è</text>\n            <text class=\"filter-text\">{{ typeOptions[typeFilterIndex].label }}</text>\n            <text class=\"filter-arrow\">‚ñº</text>\n          </view>\n        </picker>\n      </view>\n      <view class=\"filter-group\">\n        <picker @change=\"onStatusFilterChange\" :value=\"statusFilterIndex\" :range=\"statusOptions\" range-key=\"label\">\n          <view class=\"filter-item\">\n            <text class=\"filter-icon\">üìä</text>\n            <text class=\"filter-text\">{{ statusOptions[statusFilterIndex].label }}</text>\n            <text class=\"filter-arrow\">‚ñº</text>\n          </view>\n        </picker>\n      </view>\n      <view class=\"filter-group\">\n        <picker @change=\"onDateFilterChange\" :value=\"dateFilterIndex\" :range=\"dateOptions\" range-key=\"label\">\n          <view class=\"filter-item\">\n            <text class=\"filter-icon\">üìÖ</text>\n            <text class=\"filter-text\">{{ dateOptions[dateFilterIndex].label }}</text>\n            <text class=\"filter-arrow\">‚ñº</text>\n          </view>\n        </picker>\n      </view>\n      <view class=\"search-box\">\n        <text class=\"search-icon\">üîç</text>\n        <input \n          class=\"search-input\" \n          placeholder=\"ÊêúÁ¥¢ËÆ¢ÂçïÂè∑ÊàñÂßìÂêç\" \n          v-model=\"searchKeyword\"\n          @input=\"onSearchInput\"\n        />\n      </view>\n    </view>\n\n    <!-- ËÆ¢ÂçïÂàóË°® -->\n    <view class=\"orders-container\">\n      <view v-if=\"filteredOrders.length === 0\" class=\"empty-state\">\n        <view class=\"empty-icon\">üìã</view>\n        <text class=\"empty-title\">ÊöÇÊó†ËÆ¢Âçï</text>\n        <text class=\"empty-desc\">ÂΩìÂâçÁ≠õÈÄâÊù°‰ª∂‰∏ãÊ≤°ÊúâÊâæÂà∞ËÆ¢Âçï</text>\n      </view>\n      \n      <view v-else class=\"orders-list\">\n        <view \n          v-for=\"(order, index) in filteredOrders\" \n          :key=\"order._id || order.order_id || order.orderNo || index\"\n          class=\"order-card\"\n          @click=\"viewOrderDetail(order)\"\n        >\n          <!-- ËÆ¢ÂçïÂ§¥ÈÉ® -->\n          <view class=\"order-header\">\n            <view class=\"order-info\">\n              <view class=\"order-top\">\n                <text class=\"order-number\">{{ order.orderNo || order.order_id || order.orderNumber }}</text>\n                <view class=\"order-type-badge\" :class=\"getTypeClass(order.fahuiType || order.type)\">\n                  <text class=\"type-text\">{{ getTypeText(order.fahuiType || order.type) }}</text>\n                </view>\n              </view>\n              <view class=\"order-status\" :class=\"getStatusClass(order.status)\">\n                <text class=\"status-text\">{{ getStatusText(order.status) }}</text>\n              </view>\n            </view>\n            <view class=\"order-amount\">\n              <text class=\"amount-label\">ÊÄªÈáëÈ¢ù</text>\n              <text class=\"amount-value\">¬•{{ order.totalCost || order.total_fee || order.amount || 0 }}</text>\n            </view>\n          </view>\n\n          <!-- ËÆ¢ÂçïÂÜÖÂÆπ -->\n          <view class=\"order-content\">\n            <view class=\"order-row\">\n              <text class=\"row-label\">Ê≥ï‰ºöÈ°πÁõÆÔºö</text>\n              <text class=\"row-value\">{{ getProjectName(order) }}</text>\n            </view>\n            <view class=\"order-row\">\n              <text class=\"row-label\">Êä•Âêç‰∫∫Êï∞Ôºö</text>\n              <text class=\"row-value\">{{ getApplicantCount(order) }}‰∫∫</text>\n            </view>\n            <view class=\"order-row\">\n              <text class=\"row-label\">ÂàõÂª∫Êó∂Èó¥Ôºö</text>\n              <text class=\"row-value\">{{ formatDate(order.createTime || order.create_time) }}</text>\n            </view>\n            <view v-if=\"getMainContact(order)\" class=\"order-row\">\n              <text class=\"row-label\">‰∏ªË¶ÅËÅîÁ≥ª‰∫∫Ôºö</text>\n              <text class=\"row-value\">{{ getMainContact(order) }}</text>\n            </view>\n          </view>\n\n          <!-- ËÆ¢ÂçïÊìç‰Ωú -->\n          <view class=\"order-actions\">\n            <button class=\"action-btn detail-btn\" @click.stop=\"viewOrderDetail(order)\">\n              <text class=\"btn-icon\">üëÅÔ∏è</text>\n              <text class=\"btn-text\">Êü•ÁúãËØ¶ÊÉÖ</text>\n            </button>\n            <button \n              v-if=\"order.status === 'ÂæÖÁ°ÆËÆ§'\" \n              class=\"action-btn confirm-btn\" \n              @click.stop=\"confirmPayment(order)\"\n            >\n              <text class=\"btn-icon\">‚úÖ</text>\n              <text class=\"btn-text\">Á°ÆËÆ§Ê≠§ÂêàÂùõÊ≥ï‰ºö</text>\n            </button>\n            <button \n              v-if=\"order.status === 'ÂæÖÁ°ÆËÆ§'\" \n              class=\"action-btn process-btn\" \n              @click.stop=\"processOrder(order)\"\n            >\n              <text class=\"btn-icon\">‚ö°</text>\n              <text class=\"btn-text\">ÂºÄÂßãÂ§ÑÁêÜ</text>\n            </button>\n            <button class=\"action-btn edit-btn\" @click.stop=\"editOrder(order)\">\n              <text class=\"btn-icon\">‚úèÔ∏è</text>\n              <text class=\"btn-text\">ÁºñËæë</text>\n            </button>\n          </view>\n        </view>\n      </view>\n    </view>\n\n    <!-- Âä†ËΩΩÊõ¥Â§ö -->\n    <view v-if=\"hasMore\" class=\"load-more\">\n      <button class=\"load-more-btn\" @click=\"loadMoreOrders\" :disabled=\"isLoading\">\n        <text v-if=\"isLoading\" class=\"loading-text\">Âä†ËΩΩ‰∏≠...</text>\n        <text v-else class=\"load-text\">Âä†ËΩΩÊõ¥Â§öËÆ¢Âçï</text>\n      </button>\n    </view>\n\n    <!-- ÊµÆÂä®Êìç‰ΩúÊåâÈíÆ -->\n    <view class=\"fab-container\">\n      <button class=\"fab-btn refresh-btn\" @click=\"refreshOrders\">\n        <text class=\"fab-icon\">üîÑ</text>\n      </button>\n      <button class=\"fab-btn export-btn\" @click=\"exportOrders\">\n        <text class=\"fab-icon\">üìä</text>\n      </button>\n    </view>\n  </view>\n</template>\n\n<script>\nexport default {\n  data() {\n    return {\n      orders: [],\n      isLoading: false,\n      hasMore: false,\n      searchKeyword: '',\n      typeFilterIndex: 0,\n      statusFilterIndex: 0,\n      dateFilterIndex: 0,\n      typeOptions: [\n        { label: 'ÂÖ®ÈÉ®Ê≥ï‰ºö', value: '' },\n        { label: 'ÂêàÂùõÊ≥ï‰ºö', value: 'joint' },\n        { label: '‰∏ìÂú∫Ê≥ï‰ºö', value: 'special' }\n      ],\n      statusOptions: [\n        { label: 'ÂÖ®ÈÉ®Áä∂ÊÄÅ', value: '' },\n        { label: 'ÂæÖÊîØ‰ªò', value: 'ÂæÖÊîØ‰ªò' },\n        { label: 'ÂæÖÁ°ÆËÆ§', value: 'ÂæÖÁ°ÆËÆ§' },\n        { label: 'Â§ÑÁêÜ‰∏≠', value: 'Â§ÑÁêÜ‰∏≠' },\n        { label: 'Â∑≤ÂÆåÊàê', value: 'Â∑≤ÂÆåÊàê' },\n        { label: 'Â∑≤ÂèñÊ∂à', value: 'Â∑≤ÂèñÊ∂à' }\n      ],\n      dateOptions: [\n        { label: 'ÂÖ®ÈÉ®Êó∂Èó¥', value: '' },\n        { label: '‰ªäÂ§©', value: 'today' },\n        { label: 'ÊúÄËøë7Â§©', value: '7days' },\n        { label: 'ÊúÄËøë30Â§©', value: '30days' },\n        { label: 'Êú¨Êúà', value: 'month' }\n      ]\n    }\n  },\n\n  computed: {\n    filteredOrders() {\n      let filtered = this.orders\n\n      // Á±ªÂûãÁ≠õÈÄâ\n      if (this.typeOptions[this.typeFilterIndex].value) {\n        filtered = filtered.filter(order => {\n          const orderType = order.fahuiType || order.type || 'joint'\n          return orderType === this.typeOptions[this.typeFilterIndex].value\n        })\n      }\n\n      // Áä∂ÊÄÅÁ≠õÈÄâ\n      if (this.statusOptions[this.statusFilterIndex].value) {\n        filtered = filtered.filter(order => \n          order.status === this.statusOptions[this.statusFilterIndex].value\n        )\n      }\n\n      // Êó•ÊúüÁ≠õÈÄâ\n      if (this.dateOptions[this.dateFilterIndex].value) {\n        const now = new Date()\n        const filterValue = this.dateOptions[this.dateFilterIndex].value\n        \n        filtered = filtered.filter(order => {\n          const orderDate = new Date(order.createTime || order.create_time)\n          \n          switch (filterValue) {\n            case 'today':\n              return orderDate.toDateString() === now.toDateString()\n            case '7days':\n              const sevenDaysAgo = new Date(now.getTime() - 7 * 24 * 60 * 60 * 1000)\n              return orderDate >= sevenDaysAgo\n            case '30days':\n              const thirtyDaysAgo = new Date(now.getTime() - 30 * 24 * 60 * 60 * 1000)\n              return orderDate >= thirtyDaysAgo\n            case 'month':\n              return orderDate.getMonth() === now.getMonth() && \n                     orderDate.getFullYear() === now.getFullYear()\n            default:\n              return true\n          }\n        })\n      }\n\n      // ÂÖ≥ÈîÆËØçÊêúÁ¥¢\n      if (this.searchKeyword.trim()) {\n        const keyword = this.searchKeyword.toLowerCase()\n        filtered = filtered.filter(order => \n          (order.orderNo || order.order_id || order.orderNumber || '').toLowerCase().includes(keyword) ||\n          (this.getProjectName(order) || '').toLowerCase().includes(keyword) ||\n          (this.getMainContact(order) || '').toLowerCase().includes(keyword)\n        )\n      }\n\n      return filtered\n    },\n\n    pendingOrders() {\n      return this.orders.filter(order => \n        ['ÂæÖÊîØ‰ªò', 'ÂæÖÁ°ÆËÆ§', 'Â§ÑÁêÜ‰∏≠'].includes(order.status)\n      )\n    },\n\n    completedOrders() {\n      return this.orders.filter(order => order.status === 'Â∑≤ÂÆåÊàê')\n    }\n  },\n\n  onLoad() {\n    this.loadOrders()\n  },\n\n  onShow() {\n    this.refreshOrders()\n  },\n\n  methods: {\n    async loadOrders() {\n      if (this.isLoading) return\n      \n      this.isLoading = true\n      try {\n        // Âä†ËΩΩÂêàÂùõÊ≥ï‰ºöËÆ¢Âçï\n        const jointManagement = uniCloud.importObject('joint-management')\n        const jointResult = await jointManagement.getOrders()\n        \n        // Âä†ËΩΩ‰∏ìÂú∫Ê≥ï‰ºöËÆ¢Âçï\n        const fahuiManagement = uniCloud.importObject('fahui-management')\n        const fahuiResult = await fahuiManagement.getOrders()\n        \n        let allOrders = []\n        \n        // Â§ÑÁêÜÂêàÂùõÊ≥ï‰ºöËÆ¢Âçï\n        if (jointResult.success && jointResult.data) {\n          const jointOrders = jointResult.data.map(order => ({\n            ...order,\n            type: 'joint',\n            fahuiType: 'joint'\n          }))\n          allOrders = allOrders.concat(jointOrders)\n        }\n        \n        // Â§ÑÁêÜ‰∏ìÂú∫Ê≥ï‰ºöËÆ¢Âçï\n        if (fahuiResult.success && fahuiResult.data) {\n          const fahuiOrders = fahuiResult.data.map(order => ({\n            ...order,\n            type: 'special',\n            fahuiType: 'special'\n          }))\n          allOrders = allOrders.concat(fahuiOrders)\n        }\n        \n        // ÊåâÂàõÂª∫Êó∂Èó¥ÊéíÂ∫è\n        this.orders = allOrders.sort((a, b) => {\n          const timeA = new Date(a.createTime || a.create_time || 0)\n          const timeB = new Date(b.createTime || b.create_time || 0)\n          return timeB - timeA\n        })\n        \n        this.hasMore = false // ÊöÇÊó∂‰∏çÂÆûÁé∞ÂàÜÈ°µ\n      } catch (error) {\n        console.error('Âä†ËΩΩËÆ¢ÂçïÂ§±Ë¥•:', error)\n        uni.showToast({\n          title: 'Âä†ËΩΩËÆ¢ÂçïÂ§±Ë¥•',\n          icon: 'none'\n        })\n      } finally {\n        this.isLoading = false\n      }\n    },\n\n    async refreshOrders() {\n      await this.loadOrders()\n      uni.showToast({\n        title: 'Âà∑Êñ∞ÊàêÂäü',\n        icon: 'success'\n      })\n    },\n\n    async loadMoreOrders() {\n      // ÊöÇÊó∂‰∏çÂÆûÁé∞ÂàÜÈ°µÂä†ËΩΩ\n      this.hasMore = false\n    },\n\n    onTypeFilterChange(e) {\n      this.typeFilterIndex = e.detail.value\n    },\n\n    onStatusFilterChange(e) {\n      this.statusFilterIndex = e.detail.value\n    },\n\n    onDateFilterChange(e) {\n      this.dateFilterIndex = e.detail.value\n    },\n\n    onSearchInput() {\n      // ÂÆûÊó∂ÊêúÁ¥¢Ôºå‰∏çÈúÄË¶ÅÈ¢ùÂ§ñÂ§ÑÁêÜ\n    },\n\n    getTypeClass(type) {\n      const typeMap = {\n        'joint': 'type-joint',\n        'special': 'type-special'\n      }\n      return typeMap[type] || 'type-default'\n    },\n\n    getTypeText(type) {\n      const typeMap = {\n        'joint': 'ÂêàÂùõ',\n        'special': '‰∏ìÂú∫'\n      }\n      return typeMap[type] || 'Êú™Áü•'\n    },\n\n    getStatusClass(status) {\n      const statusMap = {\n        'ÂæÖÊîØ‰ªò': 'status-pending',\n        'ÂæÖÁ°ÆËÆ§': 'status-waiting',\n        'Â§ÑÁêÜ‰∏≠': 'status-processing',\n        'Â∑≤ÂÆåÊàê': 'status-completed',\n        'Â∑≤ÂèñÊ∂à': 'status-cancelled'\n      }\n      return statusMap[status] || 'status-default'\n    },\n\n    getStatusText(status) {\n      return status || 'Êú™Áü•Áä∂ÊÄÅ'\n    },\n\n    getProjectName(order) {\n      // ÂêàÂùõÊ≥ï‰ºöÈ°πÁõÆÂêçÁß∞\n      if (order.projectName || order.project_name) {\n        return order.projectName || order.project_name\n      }\n      // ‰∏ìÂú∫Ê≥ï‰ºöÈ°πÁõÆÂêçÁß∞\n      if (order.fahuiProject && order.fahuiProject.name) {\n        return order.fahuiProject.name\n      }\n      if (order.fahuiName) {\n        return order.fahuiName\n      }\n      return 'Êú™ÊåáÂÆö'\n    },\n\n    getApplicantCount(order) {\n      // ÂêàÂùõÊ≥ï‰ºöÊä•Âêç‰∫∫Êï∞\n      if (order.applicant_count !== undefined) {\n        return order.applicant_count\n      }\n      if (order.applicants && Array.isArray(order.applicants)) {\n        return order.applicants.length\n      }\n      return 0\n    },\n\n    getMainContact(order) {\n      // ÂêàÂùõÊ≥ï‰ºöËÅîÁ≥ª‰∫∫\n      if (order.applicants && order.applicants.length > 0) {\n        const applicant = order.applicants[0]\n        return `${applicant.name} (${applicant.phone})`\n      }\n      // ‰∏ìÂú∫Ê≥ï‰ºöËÅîÁ≥ª‰∫∫\n      if (order.participantName && order.phone) {\n        return `${order.participantName} (${order.phone})`\n      }\n      return null\n    },\n\n    formatDate(date) {\n      if (!date) return 'Êú™Áü•Êó∂Èó¥'\n      \n      const d = new Date(date)\n      const now = new Date()\n      const diff = now - d\n      const oneDay = 24 * 60 * 60 * 1000\n      \n      if (diff < oneDay) {\n        return d.toLocaleTimeString('zh-CN', { hour12: false })\n      } else if (diff < 7 * oneDay) {\n        return `${Math.floor(diff / oneDay)}Â§©Ââç`\n      } else {\n        return d.toLocaleDateString('zh-CN')\n      }\n    },\n\n    viewOrderDetail(order) {\n      console.log('üîç Êü•ÁúãËÆ¢ÂçïËØ¶ÊÉÖÔºåËÆ¢ÂçïÊï∞ÊçÆ:', order)\n      console.log('üîç ËÆ¢ÂçïIDÂ≠óÊÆµ:', {\n        _id: order._id,\n        order_id: order.order_id,\n        orderNo: order.orderNo,\n        orderNumber: order.orderNumber\n      })\n      \n      const orderType = order.fahuiType || order.type || 'joint'\n      const orderId = order._id || order.order_id || order.orderNo || order.orderNumber\n      \n      console.log('üîç ËÆ¢ÂçïÁ±ªÂûã:', orderType)\n      console.log('üîç ‰ΩøÁî®ÁöÑËÆ¢ÂçïID:', orderId)\n      \n      if (orderType === 'joint') {\n        const url = `/pages/admin/joint/orderDetail?id=${orderId}`\n        console.log('üîç Ë∑≥ËΩ¨URL:', url)\n        uni.navigateTo({\n          url: url,\n          success: () => {\n            console.log('‚úÖ Ë∑≥ËΩ¨Âà∞ËÆ¢ÂçïËØ¶ÊÉÖÈ°µÈù¢ÊàêÂäü')\n          },\n          fail: (err) => {\n            console.error('‚ùå Ë∑≥ËΩ¨Âà∞ËÆ¢ÂçïËØ¶ÊÉÖÈ°µÈù¢Â§±Ë¥•:', err)\n            uni.showToast({\n              title: 'Ë∑≥ËΩ¨Â§±Ë¥•',\n              icon: 'none'\n            })\n          }\n        })\n              } else {\n          const url = `/pages/admin/fahui/orderDetail?id=${orderId}`\n          console.log('üîç Ë∑≥ËΩ¨URL:', url)\n          \n          // ÂÖàÂ∞ùËØïÁõ¥Êé•Ë∑≥ËΩ¨\n          uni.navigateTo({\n            url: url,\n            success: () => {\n              console.log('‚úÖ Ë∑≥ËΩ¨Âà∞‰∏ìÂú∫Ê≥ï‰ºöËÆ¢ÂçïËØ¶ÊÉÖÈ°µÈù¢ÊàêÂäü')\n            },\n            fail: (err) => {\n              console.error('‚ùå Ë∑≥ËΩ¨Âà∞‰∏ìÂú∫Ê≥ï‰ºöËÆ¢ÂçïËØ¶ÊÉÖÈ°µÈù¢Â§±Ë¥•:', err)\n              \n              // Â¶ÇÊûúÁõ¥Êé•Ë∑≥ËΩ¨Â§±Ë¥•ÔºåÂ∞ùËØïÂÖàË∑≥ËΩ¨Âà∞Â≠òÂú®ÁöÑÈ°µÈù¢ÂÜçË∑≥ËΩ¨\n              console.log('üîÑ Â∞ùËØïÂ§áÁî®Ë∑≥ËΩ¨ÊñπÊ°à...')\n              uni.navigateTo({\n                url: '/pages/admin/fahui/orders',\n                success: () => {\n                  setTimeout(() => {\n                    uni.navigateTo({\n                      url: url,\n                      success: () => {\n                        console.log('‚úÖ Â§áÁî®ÊñπÊ°àË∑≥ËΩ¨ÊàêÂäü')\n                      },\n                      fail: (err2) => {\n                        console.error('‚ùå Â§áÁî®ÊñπÊ°à‰πüÂ§±Ë¥•:', err2)\n                        uni.showToast({\n                          title: 'È°µÈù¢Ë∑≥ËΩ¨Â§±Ë¥•ÔºåËØ∑Âà∑Êñ∞È°µÈù¢ÈáçËØï',\n                          icon: 'none'\n                        })\n                      }\n                    })\n                  }, 100)\n                },\n                fail: (err3) => {\n                  console.error('‚ùå Â§áÁî®È°µÈù¢Ë∑≥ËΩ¨‰πüÂ§±Ë¥•:', err3)\n                  uni.showToast({\n                    title: 'Ë∑≥ËΩ¨Â§±Ë¥•',\n                    icon: 'none'\n                  })\n                }\n              })\n            }\n          })\n        }\n    },\n\n    async confirmPayment(order) {\n      try {\n        const orderType = order.fahuiType || order.type || 'joint'\n        const management = uniCloud.importObject(orderType === 'joint' ? 'joint-management' : 'fahui-management')\n        \n        const result = await management.updateOrderStatus({\n          orderId: order._id || order.order_id || order.orderNo || order.orderNumber,\n          status: 'Â∑≤Á°ÆËÆ§',\n          operator: 'ÁÆ°ÁêÜÂëòÁ°ÆËÆ§'\n        })\n        \n        if (result.success) {\n          uni.showToast({\n            title: 'ÊîØ‰ªòÁ°ÆËÆ§ÊàêÂäü',\n            icon: 'success'\n          })\n          this.refreshOrders()\n        } else {\n          uni.showToast({\n            title: result.message || 'Á°ÆËÆ§Â§±Ë¥•',\n            icon: 'none'\n          })\n        }\n      } catch (error) {\n        console.error('Á°ÆËÆ§ÊîØ‰ªòÂ§±Ë¥•:', error)\n        uni.showToast({\n          title: 'Á°ÆËÆ§Â§±Ë¥•',\n          icon: 'none'\n        })\n      }\n    },\n\n    async processOrder(order) {\n      try {\n        const orderType = order.fahuiType || order.type || 'joint'\n        const management = uniCloud.importObject(orderType === 'joint' ? 'joint-management' : 'fahui-management')\n        \n        const result = await management.updateOrderStatus({\n          orderId: order._id || order.order_id || order.orderNo || order.orderNumber,\n          status: 'Â§ÑÁêÜ‰∏≠',\n          operator: 'ÁÆ°ÁêÜÂëòÂ§ÑÁêÜ'\n        })\n        \n        if (result.success) {\n          uni.showToast({\n            title: 'ÂºÄÂßãÂ§ÑÁêÜËÆ¢Âçï',\n            icon: 'success'\n          })\n          this.refreshOrders()\n        } else {\n          uni.showToast({\n            title: result.message || 'Êìç‰ΩúÂ§±Ë¥•',\n            icon: 'none'\n          })\n        }\n      } catch (error) {\n        console.error('Â§ÑÁêÜËÆ¢ÂçïÂ§±Ë¥•:', error)\n        uni.showToast({\n          title: 'Êìç‰ΩúÂ§±Ë¥•',\n          icon: 'none'\n        })\n      }\n    },\n\n    editOrder(order) {\n      console.log('‚úèÔ∏è ÁºñËæëËÆ¢ÂçïÔºåËÆ¢ÂçïÊï∞ÊçÆ:', order)\n      console.log('‚úèÔ∏è ËÆ¢ÂçïIDÂ≠óÊÆµ:', {\n        _id: order._id,\n        order_id: order.order_id,\n        orderNo: order.orderNo,\n        orderNumber: order.orderNumber\n      })\n      \n      const orderType = order.fahuiType || order.type || 'joint'\n      const orderId = order._id || order.order_id || order.orderNo || order.orderNumber\n      \n      console.log('‚úèÔ∏è ËÆ¢ÂçïÁ±ªÂûã:', orderType)\n      console.log('‚úèÔ∏è ‰ΩøÁî®ÁöÑËÆ¢ÂçïID:', orderId)\n      \n      if (orderType === 'joint') {\n        const url = `/pages/admin/joint/editOrder?id=${orderId}`\n        console.log('‚úèÔ∏è Ë∑≥ËΩ¨URL:', url)\n        uni.navigateTo({\n          url: url,\n          success: () => {\n            console.log('‚úÖ Ë∑≥ËΩ¨Âà∞ÁºñËæëËÆ¢ÂçïÈ°µÈù¢ÊàêÂäü')\n          },\n          fail: (err) => {\n            console.error('‚ùå Ë∑≥ËΩ¨Âà∞ÁºñËæëËÆ¢ÂçïÈ°µÈù¢Â§±Ë¥•:', err)\n            uni.showToast({\n              title: 'Ë∑≥ËΩ¨Â§±Ë¥•',\n              icon: 'none'\n            })\n          }\n        })\n      } else {\n        const url = `/pages/admin/fahui/editOrder?id=${orderId}`\n        console.log('‚úèÔ∏è Ë∑≥ËΩ¨URL:', url)\n        \n        // ÂÖàÂ∞ùËØïÁõ¥Êé•Ë∑≥ËΩ¨\n        uni.navigateTo({\n          url: url,\n          success: () => {\n            console.log('‚úÖ Ë∑≥ËΩ¨Âà∞‰∏ìÂú∫Ê≥ï‰ºöÁºñËæëËÆ¢ÂçïÈ°µÈù¢ÊàêÂäü')\n          },\n          fail: (err) => {\n            console.error('‚ùå Ë∑≥ËΩ¨Âà∞‰∏ìÂú∫Ê≥ï‰ºöÁºñËæëËÆ¢ÂçïÈ°µÈù¢Â§±Ë¥•:', err)\n            \n            // Â¶ÇÊûúÁõ¥Êé•Ë∑≥ËΩ¨Â§±Ë¥•ÔºåÂ∞ùËØïÂÖàË∑≥ËΩ¨Âà∞Â≠òÂú®ÁöÑÈ°µÈù¢ÂÜçË∑≥ËΩ¨\n            console.log('üîÑ Â∞ùËØïÂ§áÁî®Ë∑≥ËΩ¨ÊñπÊ°à...')\n            uni.navigateTo({\n              url: '/pages/admin/fahui/orders',\n              success: () => {\n                setTimeout(() => {\n                  uni.navigateTo({\n                    url: url,\n                    success: () => {\n                      console.log('‚úÖ Â§áÁî®ÊñπÊ°àË∑≥ËΩ¨ÊàêÂäü')\n                    },\n                    fail: (err2) => {\n                      console.error('‚ùå Â§áÁî®ÊñπÊ°à‰πüÂ§±Ë¥•:', err2)\n                      uni.showToast({\n                        title: 'È°µÈù¢Ë∑≥ËΩ¨Â§±Ë¥•ÔºåËØ∑Âà∑Êñ∞È°µÈù¢ÈáçËØï',\n                        icon: 'none'\n                      })\n                    }\n                  })\n                }, 100)\n              },\n              fail: (err3) => {\n                console.error('‚ùå Â§áÁî®È°µÈù¢Ë∑≥ËΩ¨‰πüÂ§±Ë¥•:', err3)\n                uni.showToast({\n                  title: 'Ë∑≥ËΩ¨Â§±Ë¥•',\n                  icon: 'none'\n                })\n              }\n            })\n          }\n        })\n      }\n    },\n\n    async exportOrders() {\n      try {\n        uni.showLoading({ title: 'ÂáÜÂ§áÂØºÂá∫Êï∞ÊçÆ...' })\n        \n        const orderType = this.typeOptions[this.typeFilterIndex].value\n        const management = uniCloud.importObject(orderType === 'joint' ? 'joint-management' : 'fahui-management')\n        \n        const result = await management.exportOrders({\n          status: this.statusOptions[this.statusFilterIndex].value,\n          dateFilter: this.dateOptions[this.dateFilterIndex].value\n        })\n        \n        if (result.success && result.data) {\n          uni.hideLoading()\n          \n          // ÁîüÊàêExcelÊñá‰ª∂\n          await this.generateAndDownloadExcel(result.data, orderType)\n          \n          uni.showToast({\n            title: `ÊàêÂäüÂØºÂá∫ ${result.totalCount || result.data.length} Êù°ËÆ¢Âçï`,\n            icon: 'success',\n            duration: 3000\n          })\n        } else {\n          uni.hideLoading()\n          uni.showToast({\n            title: result.message || 'ÂØºÂá∫Â§±Ë¥•',\n            icon: 'none'\n          })\n        }\n      } catch (error) {\n        uni.hideLoading()\n        console.error('ÂØºÂá∫ËÆ¢ÂçïÂ§±Ë¥•:', error)\n        uni.showToast({\n          title: 'ÂØºÂá∫Â§±Ë¥•',\n          icon: 'none'\n        })\n      }\n    },\n\n    async generateAndDownloadExcel(data, orderType) {\n      try {\n        // ÁîüÊàêCSVÂÜÖÂÆπÔºàExcelÂèØ‰ª•ÊâìÂºÄCSVÊñá‰ª∂Ôºâ\n        const csvContent = this.generateCSV(data)\n        \n        // ÁîüÊàêÊñá‰ª∂Âêç\n        const now = new Date()\n        const dateStr = now.toISOString().slice(0, 10).replace(/-/g, '')\n        const timeStr = now.toTimeString().slice(0, 8).replace(/:/g, '')\n        const fileName = `${orderType === 'joint' ? 'ÂêàÂùõÊ≥ï‰ºö' : '‰∏ìÂú∫Ê≥ï‰ºö'}ËÆ¢Âçï_${dateStr}_${timeStr}.csv`\n        \n        // ÂàõÂª∫BlobÂØπË±°\n        const blob = new Blob(['\\ufeff' + csvContent], { \n          type: 'text/csv;charset=utf-8;' \n        })\n        \n        // ÂàõÂª∫‰∏ãËΩΩÈìæÊé•\n        const url = URL.createObjectURL(blob)\n        const link = document.createElement('a')\n        link.href = url\n        link.download = fileName\n        link.style.display = 'none'\n        \n        // Ê∑ªÂä†Âà∞È°µÈù¢Âπ∂Ëß¶Âèë‰∏ãËΩΩ\n        document.body.appendChild(link)\n        link.click()\n        \n        // Ê∏ÖÁêÜ\n        document.body.removeChild(link)\n        URL.revokeObjectURL(url)\n        \n        console.log('ExcelÊñá‰ª∂‰∏ãËΩΩÊàêÂäü:', fileName)\n      } catch (error) {\n        console.error('ÁîüÊàêExcelÊñá‰ª∂Â§±Ë¥•:', error)\n        throw error\n      }\n    },\n\n    generateCSV(data) {\n      if (!data || data.length === 0) {\n        return 'ÊöÇÊó†Êï∞ÊçÆ'\n      }\n      \n      // Ëé∑ÂèñË°®Â§¥\n      const headers = Object.keys(data[0])\n      \n      // ÁîüÊàêCSVÂÜÖÂÆπ\n      const csvRows = []\n      \n      // Ê∑ªÂä†Ë°®Â§¥\n      csvRows.push(headers.join(','))\n      \n      // Ê∑ªÂä†Êï∞ÊçÆË°å\n      for (const row of data) {\n        const values = headers.map(header => {\n          const value = row[header]\n          // Â¶ÇÊûúÂÄºÂåÖÂê´ÈÄóÂè∑„ÄÅÂºïÂè∑ÊàñÊç¢Ë°åÁ¨¶ÔºåÈúÄË¶ÅÁî®ÂºïÂè∑ÂåÖÂõ¥\n          if (typeof value === 'string' && (value.includes(',') || value.includes('\"') || value.includes('\\n'))) {\n            return `\"${value.replace(/\"/g, '\"\"')}\"`\n          }\n          return value || ''\n        })\n        csvRows.push(values.join(','))\n      }\n      \n      return csvRows.join('\\n')\n    }\n  }\n}\n</script>\n\n<style scoped>\n.orders-page {\n  min-height: 100vh;\n  background: linear-gradient(180deg, #f8f9fa 0%, #e9ecef 100%);\n}\n\n/* È°µÈù¢Â§¥ÈÉ® */\n.page-header {\n  background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);\n  padding: 40rpx 24rpx 32rpx 24rpx;\n  color: white;\n  box-shadow: 0 4rpx 20rpx rgba(0,0,0,0.1);\n}\n\n.header-content {\n  max-width: 1200rpx;\n  margin: 0 auto;\n}\n\n.header-title {\n  display: flex;\n  align-items: center;\n  margin-bottom: 32rpx;\n}\n\n.title-icon {\n  font-size: 48rpx;\n  margin-right: 16rpx;\n}\n\n.title-text {\n  font-size: 36rpx;\n  font-weight: bold;\n}\n\n.header-stats {\n  display: flex;\n  justify-content: space-around;\n}\n\n.stat-item {\n  text-align: center;\n}\n\n.stat-number {\n  display: block;\n  font-size: 32rpx;\n  font-weight: bold;\n  margin-bottom: 8rpx;\n}\n\n.stat-label {\n  font-size: 24rpx;\n  opacity: 0.9;\n}\n\n/* Á≠õÈÄâÂ∑•ÂÖ∑Ê†è */\n.filter-toolbar {\n  background: white;\n  padding: 24rpx;\n  margin: 24rpx;\n  border-radius: 16rpx;\n  box-shadow: 0 2rpx 12rpx rgba(0,0,0,0.08);\n  display: flex;\n  align-items: center;\n  gap: 16rpx;\n  flex-wrap: wrap;\n}\n\n.filter-group {\n  flex: 1;\n  min-width: 180rpx;\n}\n\n.filter-item {\n  display: flex;\n  align-items: center;\n  padding: 16rpx 20rpx;\n  background: #f8f9fa;\n  border-radius: 12rpx;\n  border: 2rpx solid #e9ecef;\n}\n\n.filter-icon {\n  font-size: 24rpx;\n  margin-right: 12rpx;\n}\n\n.filter-text {\n  flex: 1;\n  font-size: 28rpx;\n  color: #333;\n}\n\n.filter-arrow {\n  font-size: 20rpx;\n  color: #666;\n}\n\n.search-box {\n  flex: 2;\n  min-width: 280rpx;\n  position: relative;\n}\n\n.search-icon {\n  position: absolute;\n  left: 20rpx;\n  top: 50%;\n  transform: translateY(-50%);\n  font-size: 24rpx;\n  color: #666;\n}\n\n.search-input {\n  width: 100%;\n  padding: 16rpx 20rpx 16rpx 60rpx;\n  background: #f8f9fa;\n  border: 2rpx solid #e9ecef;\n  border-radius: 12rpx;\n  font-size: 28rpx;\n  color: #333;\n}\n\n/* ËÆ¢ÂçïÂàóË°® */\n.orders-container {\n  padding: 0 24rpx 24rpx 24rpx;\n}\n\n.empty-state {\n  text-align: center;\n  padding: 120rpx 40rpx;\n  background: white;\n  border-radius: 16rpx;\n  margin-top: 24rpx;\n}\n\n.empty-icon {\n  font-size: 80rpx;\n  margin-bottom: 24rpx;\n  opacity: 0.5;\n}\n\n.empty-title {\n  display: block;\n  font-size: 32rpx;\n  color: #666;\n  margin-bottom: 16rpx;\n}\n\n.empty-desc {\n  font-size: 28rpx;\n  color: #999;\n}\n\n.orders-list {\n  display: flex;\n  flex-direction: column;\n  gap: 24rpx;\n}\n\n.order-card {\n  background: white;\n  border-radius: 16rpx;\n  padding: 32rpx;\n  box-shadow: 0 4rpx 16rpx rgba(0,0,0,0.08);\n  transition: all 0.3s ease;\n}\n\n.order-card:hover {\n  transform: translateY(-4rpx);\n  box-shadow: 0 8rpx 24rpx rgba(0,0,0,0.12);\n}\n\n.order-header {\n  display: flex;\n  justify-content: space-between;\n  align-items: flex-start;\n  margin-bottom: 24rpx;\n  padding-bottom: 24rpx;\n  border-bottom: 2rpx solid #f0f0f0;\n}\n\n.order-info {\n  flex: 1;\n}\n\n.order-top {\n  display: flex;\n  align-items: center;\n  gap: 16rpx;\n  margin-bottom: 12rpx;\n}\n\n.order-number {\n  font-size: 32rpx;\n  font-weight: bold;\n  color: #333;\n}\n\n.order-type-badge {\n  padding: 4rpx 12rpx;\n  border-radius: 12rpx;\n  font-size: 20rpx;\n  font-weight: bold;\n}\n\n.type-joint {\n  background: #e3f2fd;\n  color: #1976d2;\n}\n\n.type-special {\n  background: #f3e5f5;\n  color: #7b1fa2;\n}\n\n.type-default {\n  background: #e2e3e5;\n  color: #383d41;\n}\n\n.order-status {\n  display: inline-block;\n  padding: 8rpx 16rpx;\n  border-radius: 20rpx;\n  font-size: 24rpx;\n  font-weight: bold;\n}\n\n.status-pending {\n  background: #fff3cd;\n  color: #856404;\n}\n\n.status-waiting {\n  background: #d1ecf1;\n  color: #0c5460;\n}\n\n.status-processing {\n  background: #d4edda;\n  color: #155724;\n}\n\n.status-completed {\n  background: #c3e6cb;\n  color: #155724;\n}\n\n.status-cancelled {\n  background: #f8d7da;\n  color: #721c24;\n}\n\n.status-default {\n  background: #e2e3e5;\n  color: #383d41;\n}\n\n.order-amount {\n  text-align: right;\n}\n\n.amount-label {\n  display: block;\n  font-size: 24rpx;\n  color: #666;\n  margin-bottom: 8rpx;\n}\n\n.amount-value {\n  font-size: 36rpx;\n  font-weight: bold;\n  color: #ff6b35;\n}\n\n.order-content {\n  margin-bottom: 24rpx;\n}\n\n.order-row {\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  padding: 12rpx 0;\n  border-bottom: 1rpx solid #f8f9fa;\n}\n\n.order-row:last-child {\n  border-bottom: none;\n}\n\n.row-label {\n  font-size: 28rpx;\n  color: #666;\n  min-width: 160rpx;\n}\n\n.row-value {\n  font-size: 28rpx;\n  color: #333;\n  flex: 1;\n  text-align: right;\n}\n\n.order-actions {\n  display: flex;\n  gap: 16rpx;\n  flex-wrap: wrap;\n}\n\n.action-btn {\n  flex: 1;\n  min-width: 120rpx;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  padding: 16rpx 24rpx;\n  border-radius: 12rpx;\n  font-size: 26rpx;\n  border: none;\n  transition: all 0.3s ease;\n}\n\n.detail-btn {\n  background: #e3f2fd;\n  color: #1976d2;\n}\n\n.detail-btn:hover {\n  background: #bbdefb;\n}\n\n.confirm-btn {\n  background: #e8f5e8;\n  color: #2e7d32;\n}\n\n.confirm-btn:hover {\n  background: #c8e6c9;\n}\n\n.process-btn {\n  background: #fff3e0;\n  color: #f57c00;\n}\n\n.process-btn:hover {\n  background: #ffe0b2;\n}\n\n.edit-btn {\n  background: #f3e5f5;\n  color: #7b1fa2;\n}\n\n.edit-btn:hover {\n  background: #e1bee7;\n}\n\n.btn-icon {\n  font-size: 24rpx;\n  margin-right: 8rpx;\n}\n\n.btn-text {\n  font-weight: 500;\n}\n\n/* Âä†ËΩΩÊõ¥Â§ö */\n.load-more {\n  text-align: center;\n  padding: 32rpx 24rpx;\n}\n\n.load-more-btn {\n  background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);\n  color: white;\n  border: none;\n  border-radius: 12rpx;\n  padding: 20rpx 40rpx;\n  font-size: 28rpx;\n  font-weight: 500;\n  transition: all 0.3s ease;\n}\n\n.load-more-btn:hover {\n  transform: translateY(-2rpx);\n  box-shadow: 0 4rpx 12rpx rgba(0,0,0,0.2);\n}\n\n.load-more-btn:disabled {\n  opacity: 0.6;\n  transform: none;\n  box-shadow: none;\n}\n\n.loading-text, .load-text {\n  display: flex;\n  align-items: center;\n  justify-content: center;\n}\n\n/* ÊµÆÂä®Êìç‰ΩúÊåâÈíÆ */\n.fab-container {\n  position: fixed;\n  bottom: 40rpx;\n  right: 40rpx;\n  display: flex;\n  flex-direction: column;\n  gap: 16rpx;\n  z-index: 1000;\n}\n\n.fab-btn {\n  width: 100rpx;\n  height: 100rpx;\n  border-radius: 50%;\n  border: none;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  box-shadow: 0 4rpx 16rpx rgba(0,0,0,0.2);\n  transition: all 0.3s ease;\n}\n\n.refresh-btn {\n  background: linear-gradient(135deg, #4caf50 0%, #45a049 100%);\n  color: white;\n}\n\n.export-btn {\n  background: linear-gradient(135deg, #ff9800 0%, #f57c00 100%);\n  color: white;\n}\n\n.fab-btn:hover {\n  transform: scale(1.1);\n  box-shadow: 0 6rpx 20rpx rgba(0,0,0,0.3);\n}\n\n.fab-icon {\n  font-size: 32rpx;\n}\n\n/* ÂìçÂ∫îÂºèËÆæËÆ° */\n@media (max-width: 768rpx) {\n  .filter-toolbar {\n    flex-direction: column;\n    align-items: stretch;\n  }\n  \n  .filter-group {\n    min-width: auto;\n  }\n  \n  .search-box {\n    min-width: auto;\n  }\n  \n  .order-header {\n    flex-direction: column;\n    align-items: flex-start;\n    gap: 16rpx;\n  }\n  \n  .order-amount {\n    text-align: left;\n  }\n  \n  .order-actions {\n    flex-direction: column;\n  }\n  \n  .action-btn {\n    min-width: auto;\n  }\n}\n</style> ","import mod from \"-!../../../../../../../Desktop/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../../../../Desktop/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../../../../../Desktop/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../../Desktop/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--6-oneOf-1-2!../../../../../../../Desktop/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-3!../../../../../../../Desktop/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../Desktop/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./orders.vue?vue&type=style&index=0&id=2d38f3fa&scoped=true&lang=css&\"; export default mod; export * from \"-!../../../../../../../Desktop/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../../../../Desktop/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../../../../../Desktop/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../../Desktop/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--6-oneOf-1-2!../../../../../../../Desktop/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-3!../../../../../../../Desktop/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../Desktop/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./orders.vue?vue&type=style&index=0&id=2d38f3fa&scoped=true&lang=css&\"","// extracted by mini-css-extract-plugin\n    if(module.hot) {\n      // 1754042979700\n      var cssReload = require(\"C:/Users/qub/Desktop/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/hmr/hotModuleReplacement.js\")(module.id, {\"hmr\":true,\"publicPath\":\"/\",\"locals\":false});\n      module.hot.dispose(cssReload);\n      module.hot.accept(undefined, cssReload);\n    }\n  "],"sourceRoot":""}