<view class="form-bg data-v-c581a09e"><view class="form-container data-v-c581a09e"><view class="step-bar data-v-c581a09e"><view class="step active data-v-c581a09e">1. é€‰æ‹©ä¾›å“</view><view class="step data-v-c581a09e">2. ä¿¡æ¯ç¡®è®¤</view><view class="step data-v-c581a09e">3. æ”¯ä»˜</view></view><view class="card data-v-c581a09e"><view class="card-title data-v-c581a09e"><text class="icon data-v-c581a09e">ğŸ›ï¸</text>é€‰æ‹©æ®¿å ‚<text class="required data-v-c581a09e">*</text></view><view class="form-group data-v-c581a09e"><picker range="{{halls}}" value="{{hallIndex}}" data-event-opts="{{[['change',[['onSelectHall',['$event']]]]]}}" bindchange="__e" class="data-v-c581a09e"><view class="picker data-v-c581a09e"><text class="icon data-v-c581a09e">ğŸ›ï¸</text>æ®¿å ‚ï¼š<block wx:if="{{hallIndex>=0}}"><text class="data-v-c581a09e">{{halls[hallIndex]}}</text></block><block wx:else><text class="placeholder data-v-c581a09e">è¯·é€‰æ‹©æ®¿å ‚</text></block><text class="arrow data-v-c581a09e">â–¼</text></view></picker><block wx:if="{{errors.hallIndex}}"><view class="error-tip data-v-c581a09e">{{errors.hallIndex}}</view></block></view></view><view class="card data-v-c581a09e"><view class="card-title data-v-c581a09e"><text class="icon data-v-c581a09e">ğŸ•¯ï¸</text>é€‰æ‹©ä¾›å“<text class="required data-v-c581a09e">*</text></view><view class="offerings-list data-v-c581a09e"><block wx:for="{{offerings}}" wx:for-item="offering" wx:for-index="index" wx:key="index"><view class="offering-item data-v-c581a09e"><view class="offering-info data-v-c581a09e"><view class="offering-header data-v-c581a09e"><text class="offering-icon data-v-c581a09e">{{offering.icon}}</text><view class="offering-details data-v-c581a09e"><view class="offering-name data-v-c581a09e">{{offering.name}}</view><view class="offering-desc data-v-c581a09e">{{offering.description}}</view></view></view><view class="offering-price data-v-c581a09e">{{"Â¥"+offering.price+"/"+offering.unit}}</view></view><view class="offering-control data-v-c581a09e"><button class="qty-btn data-v-c581a09e" disabled="{{offering.qty<=0}}" data-event-opts="{{[['tap',[['decreaseQty',[index]]]]]}}" bindtap="__e">-</button><text class="qty-value data-v-c581a09e">{{offering.qty}}</text><button data-event-opts="{{[['tap',[['increaseQty',[index]]]]]}}" class="qty-btn data-v-c581a09e" bindtap="__e">+</button></view></view></block></view><block wx:if="{{errors.offerings}}"><view class="error-tip data-v-c581a09e">{{errors.offerings}}</view></block><block wx:if="{{totalPrice>0}}"><view class="price-preview data-v-c581a09e"><view class="price-item data-v-c581a09e"><text class="data-v-c581a09e">ä¾›å“è´¹ç”¨ï¼š</text><text class="price data-v-c581a09e">{{"Â¥"+totalPrice}}</text></view><view class="price-total data-v-c581a09e"><text class="data-v-c581a09e">æ€»è®¡ï¼š</text><text class="total-price data-v-c581a09e">{{"Â¥"+totalPrice}}</text></view></view></block></view><view class="card data-v-c581a09e"><view class="card-title data-v-c581a09e"><text class="icon data-v-c581a09e">ğŸ‘¤</text>ä¾›å¥‰è€…ä¿¡æ¯<text class="required data-v-c581a09e">*</text></view><view class="form-group data-v-c581a09e"><input class="input data-v-c581a09e" placeholder="è¯·è¾“å…¥å§“å" maxlength="10" data-event-opts="{{[['input',[['__set_model',['$0','name','$event',[]],['form']]]]]}}" value="{{form.name}}" bindinput="__e"/><block wx:if="{{errors.name}}"><view class="error-tip data-v-c581a09e">{{errors.name}}</view></block></view><view class="form-group data-v-c581a09e"><input class="input data-v-c581a09e" placeholder="è¯·è¾“å…¥è”ç³»ç”µè¯" maxlength="11" data-event-opts="{{[['input',[['__set_model',['$0','phone','$event',[]],['form']]]]]}}" value="{{form.phone}}" bindinput="__e"/><block wx:if="{{errors.phone}}"><view class="error-tip data-v-c581a09e">{{errors.phone}}</view></block></view><view class="form-group data-v-c581a09e"><input class="input data-v-c581a09e" placeholder="è¯·è¾“å…¥èº«ä»½è¯å·" maxlength="18" data-event-opts="{{[['input',[['__set_model',['$0','idCard','$event',[]],['form']]]]]}}" value="{{form.idCard}}" bindinput="__e"/><block wx:if="{{errors.idCard}}"><view class="error-tip data-v-c581a09e">{{errors.idCard}}</view></block></view><view class="form-group data-v-c581a09e"><textarea class="textarea data-v-c581a09e" placeholder="è¯·è¾“å…¥è”ç³»åœ°å€" maxlength="50" data-event-opts="{{[['input',[['__set_model',['$0','address','$event',[]],['form']]]]]}}" value="{{form.address}}" bindinput="__e"></textarea><block wx:if="{{errors.address}}"><view class="error-tip data-v-c581a09e">{{errors.address}}</view></block></view></view><view class="card data-v-c581a09e"><view class="card-title data-v-c581a09e"><text class="icon data-v-c581a09e">ğŸ™</text>ç¥ˆç¦è¯­ï¼ˆå¯é€‰ï¼‰</view><view class="form-group data-v-c581a09e"><textarea class="textarea data-v-c581a09e" placeholder="è¯·è¾“å…¥æ‚¨çš„ç¥ˆç¦æ„¿æœ›ï¼ˆæœ€å¤š100å­—ï¼‰" maxlength="100" data-event-opts="{{[['input',[['__set_model',['$0','wish','$event',[]],['form']],['onWishInput',['$event']]]]]}}" value="{{form.wish}}" bindinput="__e"></textarea><view class="word-count data-v-c581a09e">{{$root.g0+"/100"}}</view></view></view><block wx:if="{{showReceiver}}"><view class="card data-v-c581a09e"><view class="card-title data-v-c581a09e"><text class="icon data-v-c581a09e">ğŸ“¦</text>æ”¶ä»¶ä¿¡æ¯</view><view class="form-group data-v-c581a09e"><input class="input data-v-c581a09e" placeholder="æ”¶ä»¶äººå§“å" maxlength="10" data-event-opts="{{[['input',[['__set_model',['$0','name','$event',[]],['form.receiver']]]]]}}" value="{{form.receiver.name}}" bindinput="__e"/></view><view class="form-group data-v-c581a09e"><input class="input data-v-c581a09e" placeholder="æ”¶ä»¶äººç”µè¯" maxlength="11" data-event-opts="{{[['input',[['__set_model',['$0','phone','$event',[]],['form.receiver']]]]]}}" value="{{form.receiver.phone}}" bindinput="__e"/></view><view class="form-group data-v-c581a09e"><textarea class="textarea data-v-c581a09e" placeholder="è¯¦ç»†æ”¶ä»¶åœ°å€" maxlength="100" data-event-opts="{{[['input',[['__set_model',['$0','address','$event',[]],['form.receiver']]]]]}}" value="{{form.receiver.address}}" bindinput="__e"></textarea></view><view class="form-group data-v-c581a09e"><input class="input data-v-c581a09e" placeholder="å¤‡æ³¨ä¿¡æ¯ï¼ˆå¯é€‰ï¼‰" maxlength="50" data-event-opts="{{[['input',[['__set_model',['$0','remark','$event',[]],['form.receiver']]]]]}}" value="{{form.receiver.remark}}" bindinput="__e"/></view></view></block><view class="btn-group data-v-c581a09e"><button class="form-btn data-v-c581a09e" type="primary" loading="{{loading}}" data-event-opts="{{[['tap',[['nextStep',['$event']]]]]}}" bindtap="__e"><block wx:if="{{!loading}}"><text class="data-v-c581a09e">ä¸‹ä¸€æ­¥</text></block><block wx:else><text class="data-v-c581a09e">æäº¤ä¸­...</text></block></button><button class="form-btn reset data-v-c581a09e" type="default" data-event-opts="{{[['tap',[['resetForm',['$event']]]]]}}" bindtap="__e">é‡ç½®</button></view><view class="back-section data-v-c581a09e"><button data-event-opts="{{[['tap',[['goBack',['$event']]]]]}}" class="back-btn data-v-c581a09e" bindtap="__e">è¿”å›ä¸Šé¡µ</button></view></view></view>