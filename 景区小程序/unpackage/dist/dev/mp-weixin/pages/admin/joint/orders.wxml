<view class="orders-page data-v-2d38f3fa"><view class="page-header data-v-2d38f3fa"><view class="header-content data-v-2d38f3fa"><view class="header-title data-v-2d38f3fa"><text class="title-icon data-v-2d38f3fa">🏛️</text><text class="title-text data-v-2d38f3fa">法会订单管理</text></view><view class="header-stats data-v-2d38f3fa"><view class="stat-item data-v-2d38f3fa"><text class="stat-number data-v-2d38f3fa">{{$root.g0}}</text><text class="stat-label data-v-2d38f3fa">总订单</text></view><view class="stat-item data-v-2d38f3fa"><text class="stat-number data-v-2d38f3fa">{{$root.g1}}</text><text class="stat-label data-v-2d38f3fa">待处理</text></view><view class="stat-item data-v-2d38f3fa"><text class="stat-number data-v-2d38f3fa">{{$root.g2}}</text><text class="stat-label data-v-2d38f3fa">已完成</text></view></view></view></view><view class="filter-toolbar data-v-2d38f3fa"><view class="filter-group data-v-2d38f3fa"><picker value="{{typeFilterIndex}}" range="{{typeOptions}}" range-key="label" data-event-opts="{{[['change',[['onTypeFilterChange',['$event']]]]]}}" bindchange="__e" class="data-v-2d38f3fa"><view class="filter-item data-v-2d38f3fa"><text class="filter-icon data-v-2d38f3fa">🏛️</text><text class="filter-text data-v-2d38f3fa">{{typeOptions[typeFilterIndex].label}}</text><text class="filter-arrow data-v-2d38f3fa">▼</text></view></picker></view><view class="filter-group data-v-2d38f3fa"><picker value="{{statusFilterIndex}}" range="{{statusOptions}}" range-key="label" data-event-opts="{{[['change',[['onStatusFilterChange',['$event']]]]]}}" bindchange="__e" class="data-v-2d38f3fa"><view class="filter-item data-v-2d38f3fa"><text class="filter-icon data-v-2d38f3fa">📊</text><text class="filter-text data-v-2d38f3fa">{{statusOptions[statusFilterIndex].label}}</text><text class="filter-arrow data-v-2d38f3fa">▼</text></view></picker></view><view class="filter-group data-v-2d38f3fa"><picker value="{{dateFilterIndex}}" range="{{dateOptions}}" range-key="label" data-event-opts="{{[['change',[['onDateFilterChange',['$event']]]]]}}" bindchange="__e" class="data-v-2d38f3fa"><view class="filter-item data-v-2d38f3fa"><text class="filter-icon data-v-2d38f3fa">📅</text><text class="filter-text data-v-2d38f3fa">{{dateOptions[dateFilterIndex].label}}</text><text class="filter-arrow data-v-2d38f3fa">▼</text></view></picker></view><view class="search-box data-v-2d38f3fa"><text class="search-icon data-v-2d38f3fa">🔍</text><input class="search-input data-v-2d38f3fa" placeholder="搜索订单号或姓名" data-event-opts="{{[['input',[['__set_model',['','searchKeyword','$event',[]]],['onSearchInput',['$event']]]]]}}" value="{{searchKeyword}}" bindinput="__e"/></view></view><view class="orders-container data-v-2d38f3fa"><block wx:if="{{$root.g3===0}}"><view class="empty-state data-v-2d38f3fa"><view class="empty-icon data-v-2d38f3fa">📋</view><text class="empty-title data-v-2d38f3fa">暂无订单</text><text class="empty-desc data-v-2d38f3fa">当前筛选条件下没有找到订单</text></view></block><block wx:else><view class="orders-list data-v-2d38f3fa"><block wx:for="{{$root.l0}}" wx:for-item="order" wx:for-index="index"><view data-event-opts="{{[['tap',[['viewOrderDetail',['$0'],[[['filteredOrders','_id||order.order_id||order.orderNo||index',order.$orig._id||order.$orig.order_id||order.$orig.orderNo||index]]]]]]]}}" class="order-card data-v-2d38f3fa" bindtap="__e"><view class="order-header data-v-2d38f3fa"><view class="order-info data-v-2d38f3fa"><view class="order-top data-v-2d38f3fa"><text class="order-number data-v-2d38f3fa">{{order.$orig.orderNo||order.$orig.order_id||order.$orig.orderNumber}}</text><view class="{{order.m0}}"><text class="type-text data-v-2d38f3fa">{{order.m1}}</text></view></view><view class="{{order.m2}}"><text class="status-text data-v-2d38f3fa">{{order.m3}}</text></view></view><view class="order-amount data-v-2d38f3fa"><text class="amount-label data-v-2d38f3fa">总金额</text><text class="amount-value data-v-2d38f3fa">{{"¥"+(order.$orig.totalCost||order.$orig.total_fee||order.$orig.amount||0)}}</text></view></view><view class="order-content data-v-2d38f3fa"><view class="order-row data-v-2d38f3fa"><text class="row-label data-v-2d38f3fa">法会项目：</text><text class="row-value data-v-2d38f3fa">{{order.m4}}</text></view><view class="order-row data-v-2d38f3fa"><text class="row-label data-v-2d38f3fa">报名人数：</text><text class="row-value data-v-2d38f3fa">{{order.m5+"人"}}</text></view><view class="order-row data-v-2d38f3fa"><text class="row-label data-v-2d38f3fa">创建时间：</text><text class="row-value data-v-2d38f3fa">{{order.m6}}</text></view><block wx:if="{{order.m7}}"><view class="order-row data-v-2d38f3fa"><text class="row-label data-v-2d38f3fa">主要联系人：</text><text class="row-value data-v-2d38f3fa">{{order.m8}}</text></view></block></view><view class="order-actions data-v-2d38f3fa"><button data-event-opts="{{[['tap',[['viewOrderDetail',['$0'],[[['filteredOrders','_id||order.order_id||order.orderNo||index',order.$orig._id||order.$orig.order_id||order.$orig.orderNo||index]]]]]]]}}" class="action-btn detail-btn data-v-2d38f3fa" catchtap="__e"><text class="btn-icon data-v-2d38f3fa">👁️</text><text class="btn-text data-v-2d38f3fa">查看详情</text></button><block wx:if="{{order.$orig.status==='待确认'}}"><button data-event-opts="{{[['tap',[['confirmPayment',['$0'],[[['filteredOrders','_id||order.order_id||order.orderNo||index',order.$orig._id||order.$orig.order_id||order.$orig.orderNo||index]]]]]]]}}" class="action-btn confirm-btn data-v-2d38f3fa" catchtap="__e"><text class="btn-icon data-v-2d38f3fa">✅</text><text class="btn-text data-v-2d38f3fa">确认此合坛法会</text></button></block><block wx:if="{{order.$orig.status==='待确认'}}"><button data-event-opts="{{[['tap',[['processOrder',['$0'],[[['filteredOrders','_id||order.order_id||order.orderNo||index',order.$orig._id||order.$orig.order_id||order.$orig.orderNo||index]]]]]]]}}" class="action-btn process-btn data-v-2d38f3fa" catchtap="__e"><text class="btn-icon data-v-2d38f3fa">⚡</text><text class="btn-text data-v-2d38f3fa">开始处理</text></button></block><button data-event-opts="{{[['tap',[['editOrder',['$0'],[[['filteredOrders','_id||order.order_id||order.orderNo||index',order.$orig._id||order.$orig.order_id||order.$orig.orderNo||index]]]]]]]}}" class="action-btn edit-btn data-v-2d38f3fa" catchtap="__e"><text class="btn-icon data-v-2d38f3fa">✏️</text><text class="btn-text data-v-2d38f3fa">编辑</text></button></view></view></block></view></block></view><block wx:if="{{hasMore}}"><view class="load-more data-v-2d38f3fa"><button class="load-more-btn data-v-2d38f3fa" disabled="{{isLoading}}" data-event-opts="{{[['tap',[['loadMoreOrders',['$event']]]]]}}" bindtap="__e"><block wx:if="{{isLoading}}"><text class="loading-text data-v-2d38f3fa">加载中...</text></block><block wx:else><text class="load-text data-v-2d38f3fa">加载更多订单</text></block></button></view></block><view class="fab-container data-v-2d38f3fa"><button data-event-opts="{{[['tap',[['refreshOrders',['$event']]]]]}}" class="fab-btn refresh-btn data-v-2d38f3fa" bindtap="__e"><text class="fab-icon data-v-2d38f3fa">🔄</text></button><button data-event-opts="{{[['tap',[['exportOrders',['$event']]]]]}}" class="fab-btn export-btn data-v-2d38f3fa" bindtap="__e"><text class="fab-icon data-v-2d38f3fa">📊</text></button></view></view>