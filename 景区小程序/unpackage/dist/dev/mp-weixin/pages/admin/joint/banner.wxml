<view class="admin-container data-v-7dc426ca"><view class="page-header data-v-7dc426ca"><text class="page-title data-v-7dc426ca">合坛法会头图管理</text><text class="page-desc data-v-7dc426ca">管理合坛法会页面头图配置</text><button data-event-opts="{{[['tap',[['showAddModal',['$event']]]]]}}" class="add-btn data-v-7dc426ca" bindtap="__e">+ 新增头图</button></view><view class="banners-list data-v-7dc426ca"><block wx:for="{{$root.l0}}" wx:for-item="banner" wx:for-index="index" wx:key="_id"><view class="banner-card data-v-7dc426ca"><view class="banner-preview data-v-7dc426ca"><image class="banner-img data-v-7dc426ca" src="{{banner.$orig.image}}" mode="aspectFill"></image><view class="banner-overlay data-v-7dc426ca"><view class="banner-actions data-v-7dc426ca"><button data-event-opts="{{[['tap',[['editBanner',[index]]]]]}}" class="action-btn edit data-v-7dc426ca" bindtap="__e">编辑</button><button data-event-opts="{{[['tap',[['deleteBanner',['$0'],[[['banners','_id',banner.$orig._id,'_id']]]]]]]}}" class="action-btn delete data-v-7dc426ca" bindtap="__e">删除</button></view></view></view><view class="banner-info data-v-7dc426ca"><view class="info-row data-v-7dc426ca"><text class="info-label data-v-7dc426ca">排序：</text><text class="info-value data-v-7dc426ca">{{banner.$orig.order||0}}</text></view><view class="info-row data-v-7dc426ca"><text class="info-label data-v-7dc426ca">状态：</text><text class="{{['info-value','data-v-7dc426ca',banner.$orig.enabled?'enabled':'disabled']}}">{{''+(banner.$orig.enabled?'启用':'禁用')+''}}</text></view><view class="info-row data-v-7dc426ca"><text class="info-label data-v-7dc426ca">创建时间：</text><text class="info-value data-v-7dc426ca">{{banner.m0}}</text></view></view></view></block></view><uni-popup vue-id="3ac1337c-1" type="center" mask-click="{{false}}" data-ref="popup" class="data-v-7dc426ca vue-ref" bind:__l="__l" vue-slots="{{['default']}}"><view class="popup-content data-v-7dc426ca"><view class="popup-header data-v-7dc426ca"><text class="popup-title data-v-7dc426ca">{{isEdit?'编辑头图':'新增头图'}}</text><text data-event-opts="{{[['tap',[['closeModal',['$event']]]]]}}" class="popup-close data-v-7dc426ca" bindtap="__e">×</text></view><view class="form-content data-v-7dc426ca"><view class="form-item data-v-7dc426ca"><text class="form-label data-v-7dc426ca">头图图片 *</text><view data-event-opts="{{[['tap',[['chooseImage',['$event']]]]]}}" class="image-upload data-v-7dc426ca" bindtap="__e"><block wx:if="{{currentBanner.image}}"><image class="upload-preview data-v-7dc426ca" src="{{currentBanner.image}}" mode="aspectFill"></image></block><block wx:else><view class="upload-placeholder data-v-7dc426ca"><text class="upload-icon data-v-7dc426ca">📷</text><text class="upload-text data-v-7dc426ca">点击选择图片</text></view></block></view></view><view class="form-item data-v-7dc426ca"><text class="form-label data-v-7dc426ca">排序</text><input class="form-input data-v-7dc426ca" type="number" placeholder="请输入排序号" data-event-opts="{{[['input',[['__set_model',['$0','order','$event',[]],['currentBanner']]]]]}}" value="{{currentBanner.order}}" bindinput="__e"/></view><view class="form-item data-v-7dc426ca"><text class="form-label data-v-7dc426ca">状态</text><switch checked="{{currentBanner.enabled}}" color="#667eea" data-event-opts="{{[['change',[['onSwitchChange',['$event']]]]]}}" bindchange="__e" class="data-v-7dc426ca"></switch><text class="switch-label data-v-7dc426ca">{{currentBanner.enabled?'启用':'禁用'}}</text></view></view><view class="form-actions data-v-7dc426ca"><button data-event-opts="{{[['tap',[['closeModal',['$event']]]]]}}" class="cancel-btn data-v-7dc426ca" bindtap="__e">取消</button><button data-event-opts="{{[['tap',[['saveBanner',['$event']]]]]}}" class="save-btn data-v-7dc426ca" bindtap="__e">保存</button></view></view></uni-popup></view>