<view class="admin-container data-v-62ddc184"><view class="page-header data-v-62ddc184"><text class="page-title data-v-62ddc184">合坛法会介绍管理</text><text class="page-desc data-v-62ddc184">管理小程序合坛法会页面的介绍内容</text><button data-event-opts="{{[['tap',[['showAddModal',['$event']]]]]}}" class="add-btn data-v-62ddc184" bindtap="__e">+ 新增介绍</button></view><block wx:if="{{isEdit||editIndex===-1}}"><view class="intro-edit-form data-v-62ddc184"><view class="form-content data-v-62ddc184"><view class="form-item data-v-62ddc184"><text class="form-label data-v-62ddc184">介绍内容 *</text><textarea class="form-textarea data-v-62ddc184" placeholder="请输入合坛法会介绍内容" maxlength="500" data-event-opts="{{[['input',[['__set_model',['$0','content','$event',[]],['currentIntro']]]]]}}" value="{{currentIntro.content}}" bindinput="__e"></textarea><text class="char-count data-v-62ddc184">{{$root.g0+"/500"}}</text></view><view class="form-item data-v-62ddc184"><text class="form-label data-v-62ddc184">排序</text><input class="form-input data-v-62ddc184" type="number" placeholder="请输入排序号" data-event-opts="{{[['input',[['__set_model',['$0','order','$event',[]],['currentIntro']]]]]}}" value="{{currentIntro.order}}" bindinput="__e"/></view><view class="form-item data-v-62ddc184"><text class="form-label data-v-62ddc184">文字颜色</text><view class="color-picker data-v-62ddc184"><block wx:for="{{textColorOptions}}" wx:for-item="option" wx:for-index="__i0__" wx:key="key"><view data-event-opts="{{[['tap',[['selectTextColor',['$0'],[[['textColorOptions','key',option.key,'color']]]]]]]}}" class="{{['color-option','data-v-62ddc184',(currentIntro.textColor===option.color)?'active':'']}}" style="{{'background-color:'+(option.color)+';'}}" bindtap="__e"></view></block><input class="color-input data-v-62ddc184" placeholder="#333333" data-event-opts="{{[['input',[['__set_model',['$0','textColor','$event',[]],['currentIntro']]]]]}}" value="{{currentIntro.textColor}}" bindinput="__e"/></view></view><view class="form-item data-v-62ddc184"><text class="form-label data-v-62ddc184">背景颜色</text><view class="color-picker data-v-62ddc184"><block wx:for="{{bgColorOptions}}" wx:for-item="option" wx:for-index="__i1__" wx:key="key"><view data-event-opts="{{[['tap',[['selectBgColor',['$0'],[[['bgColorOptions','key',option.key,'color']]]]]]]}}" class="{{['color-option','data-v-62ddc184',(currentIntro.bgColor===option.color)?'active':'']}}" style="{{'background-color:'+(option.color)+';'}}" bindtap="__e"></view></block><input class="color-input data-v-62ddc184" placeholder="#FFFFFF" data-event-opts="{{[['input',[['__set_model',['$0','bgColor','$event',[]],['currentIntro']]]]]}}" value="{{currentIntro.bgColor}}" bindinput="__e"/></view></view><view class="form-item data-v-62ddc184"><text class="form-label data-v-62ddc184">背景图片</text><view data-event-opts="{{[['tap',[['chooseImage',['$event']]]]]}}" class="image-upload data-v-62ddc184" bindtap="__e"><block wx:if="{{currentIntro.bgImage}}"><image class="upload-preview data-v-62ddc184" src="{{currentIntro.bgImage}}" mode="aspectFill"></image></block><block wx:else><view class="upload-placeholder data-v-62ddc184"><text class="upload-icon data-v-62ddc184">🖼️</text><text class="upload-text data-v-62ddc184">点击选择背景图片（可选）</text></view></block></view></view><view class="form-item data-v-62ddc184"><text class="form-label data-v-62ddc184">状态</text><switch checked="{{currentIntro.enabled}}" color="#667eea" data-event-opts="{{[['change',[['onSwitchChange',['$event']]]]]}}" bindchange="__e" class="data-v-62ddc184"></switch><text class="switch-label data-v-62ddc184">{{currentIntro.enabled?'启用':'禁用'}}</text></view></view><view class="form-actions data-v-62ddc184"><button data-event-opts="{{[['tap',[['cancelEdit',['$event']]]]]}}" class="cancel-btn data-v-62ddc184" bindtap="__e">取消</button><button data-event-opts="{{[['tap',[['saveIntro',['$event']]]]]}}" class="save-btn data-v-62ddc184" bindtap="__e">保存</button></view></view></block><block wx:if="{{!isEdit&&editIndex===-1}}"><view class="intros-list data-v-62ddc184"><block wx:for="{{intros}}" wx:for-item="intro" wx:for-index="index" wx:key="_id"><view class="intro-card data-v-62ddc184"><view class="intro-content data-v-62ddc184"><text class="intro-text data-v-62ddc184">{{intro.content}}</text><view class="intro-preview data-v-62ddc184" style="{{'background-color:'+(intro.bgColor)+';'}}"><text class="preview-text data-v-62ddc184" style="{{'color:'+(intro.textColor)+';'}}">{{intro.content}}</text></view></view><view class="intro-info data-v-62ddc184"><view class="info-row data-v-62ddc184"><text class="info-label data-v-62ddc184">排序：</text><text class="info-value data-v-62ddc184">{{intro.order||0}}</text></view><view class="info-row data-v-62ddc184"><text class="info-label data-v-62ddc184">状态：</text><text class="{{['info-value','data-v-62ddc184',intro.enabled?'enabled':'disabled']}}">{{''+(intro.enabled?'启用':'禁用')+''}}</text></view><view class="info-row data-v-62ddc184"><text class="info-label data-v-62ddc184">文字颜色：</text><view class="color-preview data-v-62ddc184" style="{{'background-color:'+(intro.textColor)+';'}}"></view></view><view class="info-row data-v-62ddc184"><text class="info-label data-v-62ddc184">背景颜色：</text><view class="color-preview data-v-62ddc184" style="{{'background-color:'+(intro.bgColor)+';'}}"></view></view></view><view class="intro-actions data-v-62ddc184"><button data-event-opts="{{[['tap',[['editIntro',[index]]]]]}}" class="action-btn edit data-v-62ddc184" bindtap="__e">编辑</button><button data-event-opts="{{[['tap',[['deleteIntro',['$0'],[[['intros','_id',intro._id,'_id']]]]]]]}}" class="action-btn delete data-v-62ddc184" bindtap="__e">删除</button></view></view></block></view></block></view>