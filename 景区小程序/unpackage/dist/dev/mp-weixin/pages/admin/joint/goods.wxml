<view class="admin-container data-v-248269b0"><view class="page-header data-v-248269b0"><text class="page-title data-v-248269b0">合坛法会代办物品管理</text><text class="page-desc data-v-248269b0">管理合坛法会代办物品及价格设置</text><button data-event-opts="{{[['tap',[['showAddModal',['$event']]]]]}}" class="add-btn data-v-248269b0" bindtap="__e">+ 新增物品</button></view><view class="module-switch data-v-248269b0"><view class="switch-item data-v-248269b0"><text class="switch-label data-v-248269b0">代办物品模块</text><switch checked="{{moduleEnabled}}" color="#667eea" data-event-opts="{{[['change',[['onModuleToggle',['$event']]]]]}}" bindchange="__e" class="data-v-248269b0"></switch><text class="switch-desc data-v-248269b0">{{moduleEnabled?'已启用':'已禁用'}}</text></view></view><block wx:if="{{moduleEnabled}}"><view class="goods-list data-v-248269b0"><block wx:for="{{goods}}" wx:for-item="good" wx:for-index="index" wx:key="_id"><view class="good-card data-v-248269b0"><view class="good-info data-v-248269b0"><view class="good-header data-v-248269b0"><text class="good-name data-v-248269b0">{{good.name}}</text><text class="good-price data-v-248269b0">{{"¥"+good.price}}</text></view><view class="good-desc data-v-248269b0">{{good.description||'暂无描述'}}</view><view class="good-details data-v-248269b0"><text class="detail-item data-v-248269b0">{{"库存："+(good.stock||'不限')}}</text><text class="detail-item data-v-248269b0">{{"状态："+(good.enabled?'启用':'禁用')}}</text></view></view><view class="good-actions data-v-248269b0"><button data-event-opts="{{[['tap',[['editGood',[index]]]]]}}" class="action-btn edit data-v-248269b0" bindtap="__e">编辑</button><button data-event-opts="{{[['tap',[['deleteGood',['$0'],[[['goods','_id',good._id,'_id']]]]]]]}}" class="action-btn delete data-v-248269b0" bindtap="__e">删除</button></view></view></block></view></block><block wx:else><view class="module-disabled data-v-248269b0"><view class="disabled-content data-v-248269b0"><text class="disabled-icon data-v-248269b0">🚫</text><text class="disabled-title data-v-248269b0">代办物品模块已禁用</text><text class="disabled-desc data-v-248269b0">启用后可在前台显示代办物品选择功能</text></view></view></block><uni-popup vue-id="6bc9ca44-1" type="center" mask-click="{{false}}" data-ref="popup" class="data-v-248269b0 vue-ref" bind:__l="__l" vue-slots="{{['default']}}"><view class="popup-content data-v-248269b0"><view class="popup-header data-v-248269b0"><text class="popup-title data-v-248269b0">{{isEdit?'编辑物品':'新增物品'}}</text><text data-event-opts="{{[['tap',[['closeModal',['$event']]]]]}}" class="popup-close data-v-248269b0" bindtap="__e">×</text></view><view class="form-content data-v-248269b0"><view class="form-item data-v-248269b0"><text class="form-label data-v-248269b0">物品名称 *</text><input class="form-input data-v-248269b0" placeholder="请输入物品名称" data-event-opts="{{[['input',[['__set_model',['$0','name','$event',[]],['currentGood']]]]]}}" value="{{currentGood.name}}" bindinput="__e"/></view><view class="form-item data-v-248269b0"><text class="form-label data-v-248269b0">物品描述</text><textarea class="form-textarea data-v-248269b0" placeholder="请输入物品描述" maxlength="200" data-event-opts="{{[['input',[['__set_model',['$0','description','$event',[]],['currentGood']]]]]}}" value="{{currentGood.description}}" bindinput="__e"></textarea></view><view class="form-item data-v-248269b0"><text class="form-label data-v-248269b0">法金价格 *</text><input class="form-input data-v-248269b0" type="number" placeholder="请输入法金价格" data-event-opts="{{[['input',[['__set_model',['$0','price','$event',[]],['currentGood']]]]]}}" value="{{currentGood.price}}" bindinput="__e"/></view><view class="form-item data-v-248269b0"><text class="form-label data-v-248269b0">库存数量</text><input class="form-input data-v-248269b0" type="number" placeholder="请输入库存数量（留空表示不限）" data-event-opts="{{[['input',[['__set_model',['$0','stock','$event',[]],['currentGood']]]]]}}" value="{{currentGood.stock}}" bindinput="__e"/></view><view class="form-item data-v-248269b0"><text class="form-label data-v-248269b0">状态</text><switch checked="{{currentGood.enabled}}" color="#667eea" data-event-opts="{{[['change',[['onGoodSwitchChange',['$event']]]]]}}" bindchange="__e" class="data-v-248269b0"></switch><text class="switch-label data-v-248269b0">{{currentGood.enabled?'启用':'禁用'}}</text></view></view><view class="form-actions data-v-248269b0"><button data-event-opts="{{[['tap',[['closeModal',['$event']]]]]}}" class="cancel-btn data-v-248269b0" bindtap="__e">取消</button><button data-event-opts="{{[['tap',[['saveGood',['$event']]]]]}}" class="save-btn data-v-248269b0" bindtap="__e">保存</button></view></view></uni-popup></view>