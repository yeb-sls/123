<view class="order-detail-page data-v-4753dd11"><view class="page-header data-v-4753dd11"><view class="header-content data-v-4753dd11"><view class="header-left data-v-4753dd11"><button data-event-opts="{{[['tap',[['goBack',['$event']]]]]}}" class="back-btn data-v-4753dd11" bindtap="__e"><text class="back-icon data-v-4753dd11">â†</text></button><text class="page-title data-v-4753dd11">è®¢å•è¯¦æƒ…</text></view><view class="header-actions data-v-4753dd11"><button data-event-opts="{{[['tap',[['editOrder',['$event']]]]]}}" class="action-btn edit-btn data-v-4753dd11" bindtap="__e"><text class="btn-icon data-v-4753dd11">âœï¸</text><text class="data-v-4753dd11">ç¼–è¾‘</text></button></view></view></view><block wx:if="{{loading}}"><view class="loading-state data-v-4753dd11"><view class="loading-content data-v-4753dd11"><text class="loading-icon data-v-4753dd11">â³</text><text class="loading-text data-v-4753dd11">åŠ è½½ä¸­...</text></view></view></block><block wx:else><block wx:if="{{orderDetail}}"><view class="order-content data-v-4753dd11"><view class="info-card data-v-4753dd11"><view class="card-header data-v-4753dd11"><text class="card-title data-v-4753dd11">ğŸ“‹ åŸºæœ¬ä¿¡æ¯</text></view><view class="info-list data-v-4753dd11"><view class="info-item data-v-4753dd11"><text class="info-label data-v-4753dd11">è®¢å•å·ï¼š</text><text class="info-value data-v-4753dd11">{{orderDetail.orderNo||orderDetail.order_id}}</text></view><view class="info-item data-v-4753dd11"><text class="info-label data-v-4753dd11">æ³•ä¼šé¡¹ç›®ï¼š</text><text class="info-value data-v-4753dd11">{{orderDetail.projectName||orderDetail.project_name||'æœªæŒ‡å®š'}}</text></view><view class="info-item data-v-4753dd11"><text class="info-label data-v-4753dd11">è®¢å•çŠ¶æ€ï¼š</text><view class="{{$root.m0}}"><text class="status-text data-v-4753dd11">{{orderDetail.status||'æœªçŸ¥'}}</text></view></view><view class="info-item data-v-4753dd11"><text class="info-label data-v-4753dd11">æ€»é‡‘é¢ï¼š</text><text class="info-value amount data-v-4753dd11">{{"Â¥"+(orderDetail.totalCost||orderDetail.total_fee||0)}}</text></view><view class="info-item data-v-4753dd11"><text class="info-label data-v-4753dd11">åˆ›å»ºæ—¶é—´ï¼š</text><text class="info-value data-v-4753dd11">{{$root.m1}}</text></view><view class="info-item data-v-4753dd11"><text class="info-label data-v-4753dd11">æŠ¥åäººæ•°ï¼š</text><text class="info-value data-v-4753dd11">{{$root.m2+"äºº"}}</text></view></view></view><block wx:if="{{$root.g0}}"><view class="info-card data-v-4753dd11"><view class="card-header data-v-4753dd11"><text class="card-title data-v-4753dd11">ğŸ‘¥ æŠ¥åäººä¿¡æ¯</text></view><view class="applicants-list data-v-4753dd11"><block wx:for="{{orderDetail.applicants}}" wx:for-item="applicant" wx:for-index="index" wx:key="index"><view class="applicant-item data-v-4753dd11"><view class="applicant-header data-v-4753dd11"><text class="applicant-title data-v-4753dd11">{{"æŠ¥åäºº "+(index+1)}}</text></view><view class="applicant-info data-v-4753dd11"><view class="info-row data-v-4753dd11"><text class="info-label data-v-4753dd11">å§“åï¼š</text><text class="info-value data-v-4753dd11">{{applicant.name||'æœªå¡«å†™'}}</text></view><view class="info-row data-v-4753dd11"><text class="info-label data-v-4753dd11">ç”µè¯ï¼š</text><text class="info-value data-v-4753dd11">{{applicant.phone||'æœªå¡«å†™'}}</text></view><block wx:if="{{applicant.idCard}}"><view class="info-row data-v-4753dd11"><text class="info-label data-v-4753dd11">èº«ä»½è¯ï¼š</text><text class="info-value data-v-4753dd11">{{applicant.idCard}}</text></view></block></view></view></block></view></view></block><view class="info-card data-v-4753dd11"><view class="card-header data-v-4753dd11"><text class="card-title data-v-4753dd11">ğŸ“ æ“ä½œè®°å½•</text></view><view class="operations-list data-v-4753dd11"><block wx:if="{{$root.g1}}"><view class="data-v-4753dd11"><block wx:for="{{$root.l0}}" wx:for-item="operation" wx:for-index="index" wx:key="index"><view class="operation-item data-v-4753dd11"><view class="operation-header data-v-4753dd11"><text class="operation-type data-v-4753dd11">{{operation.$orig.type}}</text><text class="operation-time data-v-4753dd11">{{operation.m3}}</text></view><view class="operation-content data-v-4753dd11"><text class="operation-operator data-v-4753dd11">{{"æ“ä½œäººï¼š"+operation.$orig.operator}}</text><block wx:if="{{operation.$orig.remark}}"><text class="operation-remark data-v-4753dd11">{{"å¤‡æ³¨ï¼š"+operation.$orig.remark}}</text></block></view></view></block></view></block><block wx:else><view class="empty-operations data-v-4753dd11"><text class="empty-text data-v-4753dd11">æš‚æ— æ“ä½œè®°å½•</text></view></block></view></view><view class="info-card data-v-4753dd11"><view class="card-header data-v-4753dd11"><text class="card-title data-v-4753dd11">ğŸ’¬ å¤‡æ³¨ç®¡ç†</text></view><view class="remark-section data-v-4753dd11"><view class="remark-input-area data-v-4753dd11"><textarea class="remark-input data-v-4753dd11" placeholder="è¯·è¾“å…¥å¤‡æ³¨å†…å®¹..." maxlength="500" data-event-opts="{{[['input',[['__set_model',['','newRemark','$event',[]]]]]]}}" value="{{newRemark}}" bindinput="__e"></textarea><view class="remark-counter data-v-4753dd11"><text class="counter-text data-v-4753dd11">{{$root.g2+"/500"}}</text></view></view><button class="add-remark-btn data-v-4753dd11" disabled="{{!$root.g3}}" data-event-opts="{{[['tap',[['addRemark',['$event']]]]]}}" bindtap="__e"><text class="btn-icon data-v-4753dd11">â•</text><text class="data-v-4753dd11">æ·»åŠ å¤‡æ³¨</text></button></view></view><view class="action-buttons data-v-4753dd11"><block wx:if="{{orderDetail.status==='å¾…ç¡®è®¤'}}"><button data-event-opts="{{[['tap',[['confirmOrder',['$event']]]]]}}" class="action-btn confirm-btn data-v-4753dd11" bindtap="__e"><text class="btn-icon data-v-4753dd11">âœ…</text><text class="data-v-4753dd11">ç¡®è®¤æ­¤åˆå›æ³•ä¼š</text></button></block><block wx:if="{{orderDetail.status==='å¾…ç¡®è®¤'}}"><button data-event-opts="{{[['tap',[['processOrder',['$event']]]]]}}" class="action-btn process-btn data-v-4753dd11" bindtap="__e"><text class="btn-icon data-v-4753dd11">âš¡</text><text class="data-v-4753dd11">å¼€å§‹å¤„ç†</text></button></block><block wx:if="{{orderDetail.status==='å¤„ç†ä¸­'}}"><button data-event-opts="{{[['tap',[['completeOrder',['$event']]]]]}}" class="action-btn complete-btn data-v-4753dd11" bindtap="__e"><text class="btn-icon data-v-4753dd11">ğŸ‰</text><text class="data-v-4753dd11">å®Œæˆè®¢å•</text></button></block></view></view></block><block wx:else><view class="error-state data-v-4753dd11"><view class="error-content data-v-4753dd11"><text class="error-icon data-v-4753dd11">âŒ</text><text class="error-title data-v-4753dd11">è®¢å•ä¸å­˜åœ¨</text><text class="error-desc data-v-4753dd11">æ— æ³•æ‰¾åˆ°æŒ‡å®šçš„è®¢å•ä¿¡æ¯</text><button data-event-opts="{{[['tap',[['loadOrderDetail',['$event']]]]]}}" class="retry-btn data-v-4753dd11" bindtap="__e"><text class="data-v-4753dd11">é‡æ–°åŠ è½½</text></button></view></view></block></block></view>