<view class="admin-container data-v-1248998c"><view class="page-header data-v-1248998c"><text class="page-title data-v-1248998c">代办物品管理</text><text class="page-desc data-v-1248998c">管理所有可用的代办物品</text><button data-event-opts="{{[['tap',[['showAddModal',['$event']]]]]}}" class="add-btn data-v-1248998c" bindtap="__e">+ 新增物品</button></view><view class="goods-list data-v-1248998c"><block wx:for="{{goods}}" wx:for-item="item" wx:for-index="idx" wx:key="_id"><view class="goods-card data-v-1248998c"><view class="goods-info data-v-1248998c"><text class="goods-name data-v-1248998c">{{item.name}}</text><text class="goods-price data-v-1248998c">{{"单价：¥"+item.price}}</text><text class="goods-desc data-v-1248998c">{{item.description}}</text><text class="{{['goods-status','data-v-1248998c',(item.enabled)?'enabled':'']}}">{{item.enabled?'启用':'禁用'}}</text></view><view class="goods-actions data-v-1248998c"><button data-event-opts="{{[['tap',[['editGood',[idx]]]]]}}" class="edit-btn data-v-1248998c" bindtap="__e">编辑</button><button data-event-opts="{{[['tap',[['deleteGood',['$0'],[[['goods','_id',item._id,'_id']]]]]]]}}" class="delete-btn data-v-1248998c" bindtap="__e">删除</button><button data-event-opts="{{[['tap',[['toggleStatus',[idx]]]]]}}" class="status-btn data-v-1248998c" bindtap="__e">{{item.enabled?'禁用':'启用'}}</button></view></view></block></view><uni-popup vue-id="36c995e8-1" show="{{showPopup}}" type="center" data-event-opts="{{[['^close',[['closePopup']]]]}}" bind:close="__e" class="data-v-1248998c" bind:__l="__l" vue-slots="{{['default']}}"><view class="popup-content data-v-1248998c"><view class="popup-header data-v-1248998c"><text class="popup-title data-v-1248998c">{{isEdit?'编辑物品':'新增物品'}}</text><button data-event-opts="{{[['tap',[['closePopup',['$event']]]]]}}" class="close-btn data-v-1248998c" bindtap="__e">×</button></view><view class="form-group data-v-1248998c"><text class="form-label data-v-1248998c">物品名称 *</text><input class="form-input data-v-1248998c" placeholder="请输入物品名称" maxlength="30" data-event-opts="{{[['input',[['__set_model',['$0','name','$event',[]],['current']]]]]}}" value="{{current.name}}" bindinput="__e"/></view><view class="form-group data-v-1248998c"><text class="form-label data-v-1248998c">单价 *</text><input class="form-input data-v-1248998c" type="number" placeholder="请输入单价" data-event-opts="{{[['input',[['__set_model',['$0','price','$event',['number']],['current']]]],['blur',[['$forceUpdate']]]]}}" value="{{current.price}}" bindinput="__e" bindblur="__e"/></view><view class="form-group data-v-1248998c"><text class="form-label data-v-1248998c">描述</text><textarea class="form-textarea data-v-1248998c" placeholder="请输入描述" maxlength="100" data-event-opts="{{[['input',[['__set_model',['$0','description','$event',[]],['current']]]]]}}" value="{{current.description}}" bindinput="__e"></textarea></view><view class="form-group data-v-1248998c"><text class="form-label data-v-1248998c">是否启用</text><switch checked="{{current.enabled}}" data-event-opts="{{[['change',[['e0',['$event']]]]]}}" bindchange="__e" class="data-v-1248998c"></switch></view><view class="form-group data-v-1248998c"><button data-event-opts="{{[['tap',[['saveGood',['$event']]]]]}}" class="popup-btn primary data-v-1248998c" bindtap="__e">保存</button></view></view></uni-popup></view>