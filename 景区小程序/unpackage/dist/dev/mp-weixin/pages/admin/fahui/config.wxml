<view class="admin-container data-v-68bf9cae"><view class="header data-v-68bf9cae"><view data-event-opts="{{[['tap',[['goBack',['$event']]]]]}}" class="back-btn data-v-68bf9cae" bindtap="__e"><text class="back-icon data-v-68bf9cae">←</text><text class="back-text data-v-68bf9cae">返回</text></view><view class="title data-v-68bf9cae">法会配置管理</view><view data-event-opts="{{[['tap',[['showAddModal',['$event']]]]]}}" class="add-btn data-v-68bf9cae" bindtap="__e"><text class="add-icon data-v-68bf9cae">+</text><text class="add-text data-v-68bf9cae">新增</text></view></view><view class="filter-bar data-v-68bf9cae"><view class="filter-item data-v-68bf9cae"><text class="filter-label data-v-68bf9cae">状态：</text><picker value="{{statusIndex}}" range="{{statusOptions}}" data-event-opts="{{[['change',[['onStatusChange',['$event']]]]]}}" bindchange="__e" class="data-v-68bf9cae"><view class="picker-text data-v-68bf9cae">{{statusOptions[statusIndex]}}</view></picker></view><view class="filter-item data-v-68bf9cae"><text class="filter-label data-v-68bf9cae">类型：</text><picker value="{{typeIndex}}" range="{{typeOptions}}" data-event-opts="{{[['change',[['onTypeChange',['$event']]]]]}}" bindchange="__e" class="data-v-68bf9cae"><view class="picker-text data-v-68bf9cae">{{typeOptions[typeIndex]}}</view></picker></view></view><view class="config-list data-v-68bf9cae"><block wx:for="{{filteredConfigs}}" wx:for-item="config" wx:for-index="index" wx:key="_id"><view class="config-item data-v-68bf9cae"><view class="config-header data-v-68bf9cae"><view class="config-title data-v-68bf9cae">{{config.title}}</view><view class="{{['config-status','data-v-68bf9cae',config.status==='启用'?'status-active':'status-inactive']}}">{{''+(config.status||'未知')+''}}</view></view><view class="config-content data-v-68bf9cae"><view class="config-info data-v-68bf9cae"><view class="info-row data-v-68bf9cae"><text class="info-label data-v-68bf9cae">类型：</text><text class="info-value data-v-68bf9cae">{{config.type}}</text></view><view class="info-row data-v-68bf9cae"><text class="info-label data-v-68bf9cae">价格：</text><text class="info-value data-v-68bf9cae">{{"¥"+config.price}}</text></view><view class="info-row data-v-68bf9cae"><text class="info-label data-v-68bf9cae">描述：</text><text class="info-value data-v-68bf9cae">{{config.description}}</text></view></view><block wx:if="{{config.image}}"><view class="config-image data-v-68bf9cae"><image class="config-img data-v-68bf9cae" src="{{config.image}}" mode="aspectFill"></image></view></block></view><view class="config-actions data-v-68bf9cae"><button data-event-opts="{{[['tap',[['editConfig',['$0'],[[['filteredConfigs','_id',config._id]]]]]]]}}" class="action-btn edit-btn data-v-68bf9cae" bindtap="__e">编辑</button><button data-event-opts="{{[['tap',[['deleteConfig',['$0'],[[['filteredConfigs','_id',config._id,'_id']]]]]]]}}" class="action-btn delete-btn data-v-68bf9cae" bindtap="__e">删除</button></view></view></block></view><uni-popup vue-id="af32f706-1" type="center" data-ref="configModal" class="data-v-68bf9cae vue-ref" bind:__l="__l" vue-slots="{{['default']}}"><view class="modal-content data-v-68bf9cae"><view class="modal-header data-v-68bf9cae"><text class="modal-title data-v-68bf9cae">{{isEdit?'编辑配置':'新增配置'}}</text><text data-event-opts="{{[['tap',[['hideModal',['$event']]]]]}}" class="modal-close data-v-68bf9cae" bindtap="__e">×</text></view><view class="modal-body data-v-68bf9cae"><view class="form-item data-v-68bf9cae"><text class="form-label data-v-68bf9cae">标题 *</text><input class="form-input data-v-68bf9cae" placeholder="请输入标题" data-event-opts="{{[['input',[['__set_model',['$0','title','$event',[]],['formData']]]]]}}" value="{{formData.title}}" bindinput="__e"/></view><view class="form-item data-v-68bf9cae"><text class="form-label data-v-68bf9cae">类型 *</text><picker value="{{formTypeIndex}}" range="{{typeOptions}}" data-event-opts="{{[['change',[['onFormTypeChange',['$event']]]]]}}" bindchange="__e" class="data-v-68bf9cae"><view class="form-picker data-v-68bf9cae">{{typeOptions[formTypeIndex]}}</view></picker></view><view class="form-item data-v-68bf9cae"><text class="form-label data-v-68bf9cae">价格 *</text><input class="form-input data-v-68bf9cae" type="number" placeholder="请输入价格" data-event-opts="{{[['input',[['__set_model',['$0','price','$event',[]],['formData']]]]]}}" value="{{formData.price}}" bindinput="__e"/></view><view class="form-item data-v-68bf9cae"><text class="form-label data-v-68bf9cae">描述</text><textarea class="form-textarea data-v-68bf9cae" placeholder="请输入描述" data-event-opts="{{[['input',[['__set_model',['$0','description','$event',[]],['formData']]]]]}}" value="{{formData.description}}" bindinput="__e"></textarea></view><view class="form-item data-v-68bf9cae"><text class="form-label data-v-68bf9cae">状态</text><picker value="{{formStatusIndex}}" range="{{statusOptions}}" data-event-opts="{{[['change',[['onFormStatusChange',['$event']]]]]}}" bindchange="__e" class="data-v-68bf9cae"><view class="form-picker data-v-68bf9cae">{{statusOptions[formStatusIndex]}}</view></picker></view><view class="form-item data-v-68bf9cae"><text class="form-label data-v-68bf9cae">图片</text><view data-event-opts="{{[['tap',[['chooseImage',['$event']]]]]}}" class="image-upload data-v-68bf9cae" bindtap="__e"><block wx:if="{{formData.image}}"><image class="upload-img data-v-68bf9cae" src="{{formData.image}}" mode="aspectFill"></image></block><block wx:else><view class="upload-placeholder data-v-68bf9cae"><text class="upload-icon data-v-68bf9cae">+</text><text class="upload-text data-v-68bf9cae">选择图片</text></view></block></view></view></view><view class="modal-footer data-v-68bf9cae"><button data-event-opts="{{[['tap',[['hideModal',['$event']]]]]}}" class="modal-btn cancel-btn data-v-68bf9cae" bindtap="__e">取消</button><button data-event-opts="{{[['tap',[['saveConfig',['$event']]]]]}}" class="modal-btn confirm-btn data-v-68bf9cae" bindtap="__e">保存</button></view></view></uni-popup></view>