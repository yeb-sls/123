<view class="admin-container data-v-8ef43982"><view class="page-header data-v-8ef43982"><text class="page-title data-v-8ef43982">ç®¡ç†å‘˜é€šçŸ¥</text><text class="page-desc data-v-8ef43982">æŸ¥çœ‹ç³»ç»Ÿé€šçŸ¥å’Œæé†’</text><view class="header-actions data-v-8ef43982"><button data-event-opts="{{[['tap',[['markAllAsRead',['$event']]]]]}}" class="mark-all-read-btn data-v-8ef43982" bindtap="__e">å…¨éƒ¨å·²è¯»</button><button data-event-opts="{{[['tap',[['loadNotifications',['$event']]]]]}}" class="refresh-btn data-v-8ef43982" bindtap="__e">åˆ·æ–°</button><button data-event-opts="{{[['tap',[['toggleDebugInfo',['$event']]]]]}}" class="debug-btn data-v-8ef43982" bindtap="__e">è°ƒè¯•ä¿¡æ¯</button></view></view><block wx:if="{{showDebug}}"><view class="debug-section data-v-8ef43982"><view class="debug-header data-v-8ef43982"><text class="debug-title data-v-8ef43982">ğŸ”§ è°ƒè¯•ä¿¡æ¯</text><button data-event-opts="{{[['tap',[['hideDebugInfo',['$event']]]]]}}" class="close-debug-btn data-v-8ef43982" bindtap="__e">å…³é—­</button></view><view class="debug-content data-v-8ef43982"><view class="debug-item data-v-8ef43982"><text class="debug-label data-v-8ef43982">é€šçŸ¥æ€»æ•°ï¼š</text><text class="debug-value data-v-8ef43982">{{$root.g0}}</text></view><view class="debug-item data-v-8ef43982"><text class="debug-label data-v-8ef43982">æœªè¯»æ•°é‡ï¼š</text><text class="debug-value data-v-8ef43982">{{unreadCount}}</text></view><view class="debug-item data-v-8ef43982"><text class="debug-label data-v-8ef43982">æœ‰è®¢å•å·çš„é€šçŸ¥ï¼š</text><text class="debug-value data-v-8ef43982">{{$root.g1}}</text></view><view class="debug-item data-v-8ef43982"><text class="debug-label data-v-8ef43982">é€šçŸ¥ç±»å‹ç»Ÿè®¡ï¼š</text><text class="debug-value data-v-8ef43982">{{notificationTypeStats}}</text></view><view class="debug-item data-v-8ef43982"><text class="debug-label data-v-8ef43982">æœ€åæ›´æ–°æ—¶é—´ï¼š</text><text class="debug-value data-v-8ef43982">{{lastUpdateTime}}</text></view><view class="debug-item data-v-8ef43982"><text class="debug-label data-v-8ef43982">äº‘å¯¹è±¡çŠ¶æ€ï¼š</text><text class="debug-value data-v-8ef43982">{{cloudObjectStatus}}</text></view></view><view class="debug-details data-v-8ef43982"><text class="debug-subtitle data-v-8ef43982">ğŸ“‹ é€šçŸ¥è¯¦ç»†æ•°æ®</text><block wx:for="{{$root.l0}}" wx:for-item="notification" wx:for-index="index" wx:key="index"><view class="debug-notification data-v-8ef43982"><text class="debug-notification-title data-v-8ef43982">{{"é€šçŸ¥ "+(index+1)+":"}}</text><view class="debug-notification-data data-v-8ef43982"><text class="debug-data-item data-v-8ef43982">{{"ID: "+notification.$orig._id}}</text><text class="debug-data-item data-v-8ef43982">{{"æ ‡é¢˜: "+notification.$orig.title}}</text><text class="debug-data-item data-v-8ef43982">{{"ç±»å‹: "+notification.$orig.type}}</text><text class="debug-data-item data-v-8ef43982">{{"order_id: "+(notification.$orig.order_id||'undefined')}}</text><text class="debug-data-item data-v-8ef43982">{{"orderNo: "+(notification.$orig.orderNo||'undefined')}}</text><text class="debug-data-item data-v-8ef43982">{{"å·²è¯»: "+(notification.$orig.is_read?'æ˜¯':'å¦')}}</text><text class="debug-data-item data-v-8ef43982">{{"åˆ›å»ºæ—¶é—´: "+notification.m0}}</text></view></view></block></view></view></block><view class="notifications-list data-v-8ef43982"><block wx:for="{{$root.l1}}" wx:for-item="notification" wx:for-index="__i0__" wx:key="_id"><view class="{{['notification-card','data-v-8ef43982',(!notification.$orig.is_read)?'unread':'']}}"><view class="notification-header data-v-8ef43982"><view class="notification-info data-v-8ef43982"><text class="notification-title data-v-8ef43982">{{notification.$orig.title}}</text><text class="notification-time data-v-8ef43982">{{notification.m1}}</text></view><view class="notification-status data-v-8ef43982"><block wx:if="{{!notification.$orig.is_read}}"><text class="unread-badge data-v-8ef43982">æœªè¯»</text></block><block wx:if="{{notification.$orig.priority==='high'}}"><text class="priority-badge data-v-8ef43982">é‡è¦</text></block></view></view><view class="notification-content data-v-8ef43982"><text class="content-text data-v-8ef43982">{{notification.$orig.content}}</text><block wx:if="{{notification.$orig.order_id}}"><view class="order-info data-v-8ef43982"><text class="order-label data-v-8ef43982">è®¢å•å·ï¼š</text><text class="order-number data-v-8ef43982">{{notification.$orig.order_id}}</text></view></block><block wx:if="{{notification.$orig.orderNo}}"><view class="order-info data-v-8ef43982"><text class="order-label data-v-8ef43982">è®¢å•å·ï¼š</text><text class="order-number data-v-8ef43982">{{notification.$orig.orderNo}}</text></view></block></view><view class="notification-actions data-v-8ef43982"><block wx:if="{{!notification.$orig.is_read}}"><button data-event-opts="{{[['tap',[['markAsRead',['$0'],[[['notifications','_id',notification.$orig._id,'_id']]]]]]]}}" class="mark-read-btn data-v-8ef43982" bindtap="__e">æ ‡è®°å·²è¯»</button></block><block wx:if="{{notification.$orig.type==='joint_order_paid'}}"><button data-event-opts="{{[['tap',[['viewOrder',['$0'],[[['notifications','_id',notification.$orig._id,'order_id']]]]]]]}}" class="view-order-btn data-v-8ef43982" bindtap="__e">æŸ¥çœ‹è®¢å•</button></block></view></view></block><block wx:if="{{$root.g2===0}}"><view class="empty-state data-v-8ef43982"><text class="empty-text data-v-8ef43982">æš‚æ— é€šçŸ¥</text></view></block></view></view>