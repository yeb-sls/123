<view class="admin-container data-v-d4e8ec28"><view class="page-header data-v-d4e8ec28"><view class="header-content data-v-d4e8ec28"><view class="header-left data-v-d4e8ec28"><text class="page-title data-v-d4e8ec28">é¦–é¡µå¯¼èˆªç®¡ç†</text><text class="page-desc data-v-d4e8ec28">ç®¡ç†å°ç¨‹åºé¦–é¡µçš„å¯¼èˆªæŒ‰é’®</text></view><view class="header-right data-v-d4e8ec28"><button class="refresh-btn data-v-d4e8ec28" disabled="{{loading}}" data-event-opts="{{[['tap',[['loadNavs',['$event']]]]]}}" bindtap="__e"><text class="refresh-icon data-v-d4e8ec28">ğŸ”„</text></button></view></view></view><view class="stats-section data-v-d4e8ec28"><view class="stat-item data-v-d4e8ec28"><text class="stat-number data-v-d4e8ec28">{{$root.g0}}</text><text class="stat-label data-v-d4e8ec28">æ€»æ•°</text></view><view class="stat-item data-v-d4e8ec28"><text class="stat-number data-v-d4e8ec28">{{enabledCount}}</text><text class="stat-label data-v-d4e8ec28">å·²å¯ç”¨</text></view><view class="stat-item data-v-d4e8ec28"><text class="stat-number data-v-d4e8ec28">{{disabledCount}}</text><text class="stat-label data-v-d4e8ec28">å·²ç¦ç”¨</text></view></view><view class="action-bar data-v-d4e8ec28"><view class="search-box data-v-d4e8ec28"><input class="search-input data-v-d4e8ec28" placeholder="æœç´¢å¯¼èˆªåç§°æˆ–å›¾æ ‡" data-event-opts="{{[['input',[['__set_model',['','searchText','$event',[]]],['filterNavs',['$event']]]]]}}" value="{{searchText}}" bindinput="__e"/><text class="search-icon data-v-d4e8ec28">ğŸ”</text></view><button data-event-opts="{{[['tap',[['showAddModal',['$event']]]]]}}" class="action-btn primary data-v-d4e8ec28" bindtap="__e"><text class="btn-icon data-v-d4e8ec28">ï¼‹</text><text class="btn-text data-v-d4e8ec28">æ·»åŠ å¯¼èˆª</text></button></view><view class="nav-list data-v-d4e8ec28"><view class="list-header data-v-d4e8ec28"><text class="list-title data-v-d4e8ec28">å¯¼èˆªæŒ‰é’®åˆ—è¡¨</text><text class="list-count data-v-d4e8ec28">{{"å…± "+$root.g1+" é¡¹"}}</text></view><block wx:if="{{$root.g2>0}}"><view class="nav-items data-v-d4e8ec28"><block wx:for="{{$root.l0}}" wx:for-item="nav" wx:for-index="index" wx:key="m0"><view class="nav-item card data-v-d4e8ec28"><view class="nav-preview data-v-d4e8ec28"><view class="{{['nav-status','data-v-d4e8ec28',nav.$orig.enabled?'enabled':'disabled']}}"><text class="status-icon data-v-d4e8ec28">{{nav.$orig.enabled?'âœ“':'âœ—'}}</text></view><view class="nav-icon-wrap data-v-d4e8ec28" style="{{'background-color:'+(nav.$orig.bgColor)+';'}}"><text class="nav-icon data-v-d4e8ec28" style="{{'color:'+(nav.$orig.color)+';'}}">{{nav.$orig.icon}}</text></view><view class="nav-info data-v-d4e8ec28"><view class="nav-text-row data-v-d4e8ec28"><text class="nav-text data-v-d4e8ec28" style="{{'color:'+(nav.$orig.color)+';'}}">{{nav.$orig.text}}</text><button class="quick-edit-btn data-v-d4e8ec28" disabled="{{loading}}" data-event-opts="{{[['tap',[['quickEditText',[index]]]]]}}" bindtap="__e"><text class="quick-edit-icon data-v-d4e8ec28">âœï¸</text></button></view><text class="nav-url data-v-d4e8ec28">{{nav.$orig.url||'æœªè®¾ç½®é“¾æ¥'}}</text><text class="nav-order data-v-d4e8ec28">{{"æ’åº: "+(nav.$orig.order||index+1)}}</text><text class="nav-time data-v-d4e8ec28">{{nav.m1}}</text></view></view><view class="nav-actions data-v-d4e8ec28"><button class="action-btn edit data-v-d4e8ec28" disabled="{{loading}}" data-event-opts="{{[['tap',[['editNav',[index]]]]]}}" bindtap="__e"><text class="action-icon data-v-d4e8ec28">âœï¸</text><text class="action-text data-v-d4e8ec28">ç¼–è¾‘</text></button><button class="action-btn toggle data-v-d4e8ec28" disabled="{{loading}}" data-event-opts="{{[['tap',[['toggleNav',[index]]]]]}}" bindtap="__e"><text class="action-icon data-v-d4e8ec28">{{nav.$orig.enabled?'âœ—':'âœ“'}}</text><text class="action-text data-v-d4e8ec28">{{nav.$orig.enabled?'ç¦ç”¨':'å¯ç”¨'}}</text></button><button class="action-btn delete data-v-d4e8ec28" disabled="{{loading}}" data-event-opts="{{[['tap',[['deleteNav',[index]]]]]}}" bindtap="__e"><text class="action-icon data-v-d4e8ec28">ğŸ—‘ï¸</text><text class="action-text data-v-d4e8ec28">åˆ é™¤</text></button><view class="move-actions data-v-d4e8ec28"><button class="move-btn data-v-d4e8ec28" disabled="{{index===0||loading}}" data-event-opts="{{[['tap',[['moveNav',[index,'up']]]]]}}" bindtap="__e"><text class="move-icon data-v-d4e8ec28">â†‘</text></button><button class="move-btn data-v-d4e8ec28" disabled="{{nav.g3}}" data-event-opts="{{[['tap',[['moveNav',[index,'down']]]]]}}" bindtap="__e"><text class="move-icon data-v-d4e8ec28">â†“</text></button></view></view></view></block></view></block><block wx:else><view class="empty-state data-v-d4e8ec28"><text class="empty-icon data-v-d4e8ec28">ğŸ”—</text><text class="empty-title data-v-d4e8ec28">æš‚æ— å¯¼èˆªæ•°æ®</text><text class="empty-desc data-v-d4e8ec28">{{searchText?'æ²¡æœ‰æ‰¾åˆ°åŒ¹é…çš„å¯¼èˆª':'ç‚¹å‡»ä¸Šæ–¹æŒ‰é’®æ·»åŠ å¯¼èˆª'}}</text><block wx:if="{{!searchText}}"><button data-event-opts="{{[['tap',[['showAddModal',['$event']]]]]}}" class="empty-btn data-v-d4e8ec28" bindtap="__e">ç«‹å³æ·»åŠ </button></block></view></block></view><uni-popup vue-id="1be6349a-1" show="{{showNavModal}}" type="center" data-event-opts="{{[['^close',[['closeNavModal']]]]}}" bind:close="__e" class="data-v-d4e8ec28" bind:__l="__l" vue-slots="{{['default']}}"><view class="popup-content data-v-d4e8ec28"><view class="popup-header data-v-d4e8ec28"><text class="popup-title data-v-d4e8ec28">{{isEdit?'ç¼–è¾‘å¯¼èˆª':'æ·»åŠ å¯¼èˆª'}}</text><button data-event-opts="{{[['tap',[['closePopup',['$event']]]]]}}" class="close-btn data-v-d4e8ec28" bindtap="__e">Ã—</button></view><view class="form-container data-v-d4e8ec28"><view class="form-group data-v-d4e8ec28"><text class="form-label data-v-d4e8ec28">æŒ‰é’®æ–‡å­— *</text><textarea class="form-input data-v-d4e8ec28" style="min-height:60rpx;" placeholder="è¯·è¾“å…¥æŒ‰é’®æ–‡å­—" maxlength="10" auto-height="{{true}}" data-event-opts="{{[['input',[['onTextInput',['$event']]]],['blur',[['onTextBlur',['$event']]]],['change',[['onTextChange',['$event']]]],['focus',[['onTextFocus',['$event']]]]]}}" value="{{currentNav.text}}" bindinput="__e" bindblur="__e" bindchange="__e" bindfocus="__e"></textarea><text class="form-tip data-v-d4e8ec28">æœ€å¤š10ä¸ªå­—ç¬¦</text><text class="form-debug data-v-d4e8ec28">{{"å½“å‰å€¼: "+currentNav.text}}</text><button data-event-opts="{{[['tap',[['testTextChange',['$event']]]]]}}" class="test-btn data-v-d4e8ec28" bindtap="__e">æµ‹è¯•æ–‡å­—ä¿®æ”¹</button></view><view class="form-group data-v-d4e8ec28"><text class="form-label data-v-d4e8ec28">æŒ‰é’®å›¾æ ‡ *</text><view class="icon-selector data-v-d4e8ec28"><input class="form-input data-v-d4e8ec28" placeholder="è¯·è¾“å…¥å›¾æ ‡emoji" maxlength="5" confirm-type="done" data-event-opts="{{[['input',[['onIconInput',['$event']]]],['blur',[['onIconBlur',['$event']]]],['change',[['onIconChange',['$event']]]],['focus',[['onIconFocus',['$event']]]]]}}" value="{{currentNav.icon}}" bindinput="__e" bindblur="__e" bindchange="__e" bindfocus="__e"/><block wx:if="{{currentNav.icon}}"><view class="icon-preview data-v-d4e8ec28"><text class="preview-icon data-v-d4e8ec28">{{currentNav.icon}}</text></view></block></view><text class="form-tip data-v-d4e8ec28">å»ºè®®ä½¿ç”¨emojiå›¾æ ‡</text><text class="form-debug data-v-d4e8ec28">{{"å½“å‰å€¼: "+currentNav.icon}}</text><button data-event-opts="{{[['tap',[['testIconChange',['$event']]]]]}}" class="test-btn data-v-d4e8ec28" style="margin-top:10rpx;background:#007aff;color:#fff;border:none;padding:10rpx 20rpx;border-radius:8rpx;font-size:24rpx;" bindtap="__e">æµ‹è¯•å›¾æ ‡ä¿®æ”¹</button></view><view class="form-group data-v-d4e8ec28"><text class="form-label data-v-d4e8ec28">è·³è½¬é¡µé¢</text><picker range="{{pageOptions}}" value="{{$root.g4}}" data-event-opts="{{[['change',[['onPageChange',['$event']]]]]}}" bindchange="__e" class="data-v-d4e8ec28"><view class="picker data-v-d4e8ec28"><text class="picker-value data-v-d4e8ec28">{{currentNav.url||'è¯·é€‰æ‹©é¡µé¢'}}</text><text class="picker-arrow data-v-d4e8ec28">â–¼</text></view></picker><text class="form-tip data-v-d4e8ec28">é€‰æ‹©ç‚¹å‡»åè·³è½¬çš„é¡µé¢</text></view><view class="form-group data-v-d4e8ec28"><text class="form-label data-v-d4e8ec28">æ–‡å­—é¢œè‰²</text><view class="color-picker data-v-d4e8ec28"><block wx:for="{{colorOptions}}" wx:for-item="color" wx:for-index="__i0__" wx:key="value"><view data-event-opts="{{[['tap',[['selectColor',['$0'],[[['colorOptions','value',color.value,'value']]]]]]]}}" class="{{['color-item','data-v-d4e8ec28',(currentNav.color===color.value)?'active':'']}}" style="{{'background-color:'+(color.value)+';'}}" bindtap="__e"></view></block></view></view><view class="form-group data-v-d4e8ec28"><text class="form-label data-v-d4e8ec28">èƒŒæ™¯é¢œè‰²</text><view class="color-picker data-v-d4e8ec28"><block wx:for="{{bgColorOptions}}" wx:for-item="bgColor" wx:for-index="__i1__" wx:key="value"><view data-event-opts="{{[['tap',[['selectBgColor',['$0'],[[['bgColorOptions','value',bgColor.value,'value']]]]]]]}}" class="{{['color-item','data-v-d4e8ec28',(currentNav.bgColor===bgColor.value)?'active':'']}}" style="{{'background-color:'+(bgColor.value)+';'}}" bindtap="__e"></view></block></view></view><view class="form-group data-v-d4e8ec28"><text class="form-label data-v-d4e8ec28">æ˜¯å¦å¯ç”¨</text><switch checked="{{currentNav.enabled}}" data-event-opts="{{[['change',[['onEnabledChange',['$event']]]]]}}" bindchange="__e" class="data-v-d4e8ec28"></switch><text class="form-tip data-v-d4e8ec28">ç¦ç”¨åä¸ä¼šåœ¨é¦–é¡µæ˜¾ç¤º</text></view><view class="form-group data-v-d4e8ec28"><text class="form-label data-v-d4e8ec28">é¢„è§ˆæ•ˆæœ</text><view class="nav-preview-container data-v-d4e8ec28"><view class="nav-preview-item data-v-d4e8ec28" style="{{'background-color:'+(currentNav.bgColor)+';'}}"><text class="nav-preview-icon data-v-d4e8ec28" style="{{'color:'+(currentNav.color)+';'}}">{{currentNav.icon||'ğŸ“±'}}</text><text class="nav-preview-text data-v-d4e8ec28" style="{{'color:'+(currentNav.color)+';'}}">{{currentNav.text||'å¯¼èˆªæ–‡å­—'}}</text></view></view><text class="form-tip data-v-d4e8ec28">å®æ—¶é¢„è§ˆå¯¼èˆªæŒ‰é’®æ•ˆæœ</text></view></view><view class="popup-buttons data-v-d4e8ec28"><button data-event-opts="{{[['tap',[['closePopup',['$event']]]]]}}" class="popup-btn data-v-d4e8ec28" bindtap="__e">å–æ¶ˆ</button><button class="popup-btn primary data-v-d4e8ec28" disabled="{{loading||!isFormValid}}" data-event-opts="{{[['tap',[['saveNav',['$event']]]]]}}" bindtap="__e">{{''+(loading?'ä¿å­˜ä¸­...':'ä¿å­˜')+''}}</button></view></view></uni-popup><uni-popup vue-id="1be6349a-2" show="{{showDeleteModal}}" type="center" data-event-opts="{{[['^close',[['closeDeleteModal']]]]}}" bind:close="__e" class="data-v-d4e8ec28" bind:__l="__l" vue-slots="{{['default']}}"><view class="confirm-modal data-v-d4e8ec28"><view class="confirm-header data-v-d4e8ec28"><text class="confirm-icon data-v-d4e8ec28">âš ï¸</text><text class="confirm-title data-v-d4e8ec28">ç¡®è®¤åˆ é™¤</text></view><view class="confirm-content data-v-d4e8ec28"><text class="confirm-text data-v-d4e8ec28">{{"ç¡®å®šè¦åˆ é™¤å¯¼èˆª \""+deleteNavData.text+"\" å—ï¼Ÿ"}}</text><text class="confirm-warning data-v-d4e8ec28">æ­¤æ“ä½œä¸å¯æ¢å¤ï¼</text></view><view class="confirm-buttons data-v-d4e8ec28"><button data-event-opts="{{[['tap',[['cancelDelete',['$event']]]]]}}" class="confirm-btn data-v-d4e8ec28" bindtap="__e">å–æ¶ˆ</button><button class="confirm-btn danger data-v-d4e8ec28" disabled="{{loading}}" data-event-opts="{{[['tap',[['confirmDelete',['$event']]]]]}}" bindtap="__e">{{''+(loading?'åˆ é™¤ä¸­...':'ç¡®è®¤åˆ é™¤')+''}}</button></view></view></uni-popup></view>