<view class="admin-container data-v-369509f7"><view class="page-header data-v-369509f7"><view class="header-content data-v-369509f7"><view class="header-left data-v-369509f7"><text class="page-title data-v-369509f7">ä¾›ç¯è®¢å•ç®¡ç†</text><text class="page-desc data-v-369509f7">æŸ¥çœ‹å’Œç®¡ç†ä¾›ç¯ç¥ˆç¦è®¢å•</text></view><view class="header-actions data-v-369509f7"><button data-event-opts="{{[['tap',[['exportOrders',['$event']]]]]}}" class="export-btn data-v-369509f7" bindtap="__e"><text class="btn-icon data-v-369509f7">ğŸ“Š</text><text class="data-v-369509f7">å¯¼å‡ºè®¢å•</text></button></view></view></view><view class="stats-card data-v-369509f7"><view class="stat-item data-v-369509f7"><text class="stat-number data-v-369509f7">{{$root.g0}}</text><text class="stat-label data-v-369509f7">æ€»è®¢å•æ•°</text></view><view class="stat-item data-v-369509f7"><text class="stat-number data-v-369509f7">{{pendingCount}}</text><text class="stat-label data-v-369509f7">å¾…å¤„ç†</text></view><view class="stat-item data-v-369509f7"><text class="stat-number data-v-369509f7">{{completedCount}}</text><text class="stat-label data-v-369509f7">å·²å®Œæˆ</text></view><view class="stat-item data-v-369509f7"><text class="stat-number data-v-369509f7">{{totalRevenue}}</text><text class="stat-label data-v-369509f7">æ€»æ”¶å…¥(å…ƒ)</text></view></view><view class="filter-section data-v-369509f7"><view class="filter-group data-v-369509f7"><text class="filter-label data-v-369509f7">çŠ¶æ€ç­›é€‰ï¼š</text><picker class="filter-picker data-v-369509f7" value="{{statusIndex}}" range="{{statusOptions}}" data-event-opts="{{[['change',[['onStatusChange',['$event']]]]]}}" bindchange="__e"><view class="picker-display data-v-369509f7"><text class="data-v-369509f7">{{statusOptions[statusIndex]}}</text><text class="picker-arrow data-v-369509f7">â–¼</text></view></picker></view></view><view class="orders-list data-v-369509f7"><view class="list-header data-v-369509f7"><text class="list-title data-v-369509f7">ğŸ’¡ ä¾›ç¯è®¢å•åˆ—è¡¨</text><text class="list-subtitle data-v-369509f7">{{"å…± "+$root.g1+" ä¸ªè®¢å•"}}</text></view><block wx:if="{{$root.g2===0}}"><view class="empty-state data-v-369509f7"><text class="empty-icon data-v-369509f7">ğŸ’¡</text><text class="empty-title data-v-369509f7">æš‚æ— è®¢å•</text><text class="empty-desc data-v-369509f7">å½“å‰ç­›é€‰æ¡ä»¶ä¸‹æ²¡æœ‰æ‰¾åˆ°è®¢å•</text></view></block><block wx:else><view class="order-items data-v-369509f7"><block wx:for="{{$root.l0}}" wx:for-item="order" wx:for-index="index" wx:key="_id"><view class="{{['order-item','data-v-369509f7',(order.$orig.status==='å¾…å¤„ç†')?'order-pending':'',(order.$orig.status==='å·²å®Œæˆ')?'order-completed':'']}}"><view class="order-info data-v-369509f7"><view class="info-header data-v-369509f7"><text class="order-id data-v-369509f7">{{"è®¢å•å·ï¼š"+order.$orig.orderNo}}</text><text class="{{['order-status','data-v-369509f7',order.$orig.status==='å¾…å¤„ç†'?'status-pending':'status-completed']}}">{{order.$orig.status}}</text></view><view class="order-details data-v-369509f7"><view class="detail-row data-v-369509f7"><text class="detail-label data-v-369509f7">ä¾›ç¯äººï¼š</text><text class="detail-value data-v-369509f7">{{order.$orig.applicantName}}</text></view><view class="detail-row data-v-369509f7"><text class="detail-label data-v-369509f7">ç¯å¡”ï¼š</text><text class="detail-value data-v-369509f7">{{order.$orig.towerName}}</text></view><view class="detail-row data-v-369509f7"><text class="detail-label data-v-369509f7">æ¥¼å±‚ï¼š</text><text class="detail-value data-v-369509f7">{{order.$orig.floorName}}</text></view><view class="detail-row data-v-369509f7"><text class="detail-label data-v-369509f7">è®¸æ„¿è¯­ï¼š</text><text class="detail-value data-v-369509f7">{{order.$orig.wish||'æ— '}}</text></view><view class="detail-row data-v-369509f7"><text class="detail-label data-v-369509f7">åŠŸå¾·é‡‘ï¼š</text><text class="detail-value price data-v-369509f7">{{"Â¥"+order.$orig.amount}}</text></view><view class="detail-row data-v-369509f7"><text class="detail-label data-v-369509f7">åˆ›å»ºæ—¶é—´ï¼š</text><text class="detail-value data-v-369509f7">{{order.m0}}</text></view></view><view class="order-actions data-v-369509f7"><view class="action-group data-v-369509f7"><button data-event-opts="{{[['tap',[['viewOrderDetail',['$0'],[[['filteredOrders','_id',order.$orig._id]]]]]]]}}" class="detail-btn data-v-369509f7" bindtap="__e"><text class="action-icon data-v-369509f7">ğŸ‘ï¸</text><text class="data-v-369509f7">æŸ¥çœ‹è¯¦æƒ…</text></button><block wx:if="{{order.$orig.status==='å¾…å¤„ç†'}}"><button data-event-opts="{{[['tap',[['completeOrder',['$0'],[[['filteredOrders','_id',order.$orig._id]]]]]]]}}" class="complete-btn data-v-369509f7" bindtap="__e"><text class="action-icon data-v-369509f7">âœ…</text><text class="data-v-369509f7">ç¡®è®¤å®Œæˆ</text></button></block></view><view class="note-section data-v-369509f7"><input class="note-input data-v-369509f7" placeholder="æ·»åŠ å¤‡æ³¨..." data-event-opts="{{[['blur',[['updateOrderNote',['$0'],[[['filteredOrders','_id',order.$orig._id]]]]]],['input',[['__set_model',['$0','note','$event',[]],[[['filteredOrders','_id',order.$orig._id]]]]]]]}}" value="{{order.$orig.note}}" bindblur="__e" bindinput="__e"/></view></view></view></view></block></view></block></view><uni-popup vue-id="c7e69422-1" show="{{showDetailPopup}}" type="center" data-event-opts="{{[['^close',[['closeDetailPopup']]]]}}" bind:close="__e" class="data-v-369509f7" bind:__l="__l" vue-slots="{{['default']}}"><view class="popup-content detail-popup data-v-369509f7"><view class="popup-header data-v-369509f7"><text class="popup-title data-v-369509f7">è®¢å•è¯¦æƒ…</text><button data-event-opts="{{[['tap',[['closeDetailPopup',['$event']]]]]}}" class="close-btn data-v-369509f7" bindtap="__e">Ã—</button></view><block wx:if="{{currentOrder}}"><view class="detail-container data-v-369509f7"><view class="detail-section data-v-369509f7"><text class="section-title data-v-369509f7">åŸºæœ¬ä¿¡æ¯</text><view class="detail-grid data-v-369509f7"><view class="detail-item data-v-369509f7"><text class="item-label data-v-369509f7">è®¢å•å·</text><text class="item-value data-v-369509f7">{{currentOrder.orderNo}}</text></view><view class="detail-item data-v-369509f7"><text class="item-label data-v-369509f7">çŠ¶æ€</text><text class="{{['item-value','data-v-369509f7',currentOrder.status==='å¾…å¤„ç†'?'status-pending':'status-completed']}}">{{currentOrder.status}}</text></view><view class="detail-item data-v-369509f7"><text class="item-label data-v-369509f7">ä¾›ç¯äºº</text><text class="item-value data-v-369509f7">{{currentOrder.applicantName}}</text></view><view class="detail-item data-v-369509f7"><text class="item-label data-v-369509f7">è”ç³»ç”µè¯</text><text class="item-value data-v-369509f7">{{currentOrder.phone}}</text></view></view></view><view class="detail-section data-v-369509f7"><text class="section-title data-v-369509f7">ä¾›ç¯ä¿¡æ¯</text><view class="detail-grid data-v-369509f7"><view class="detail-item data-v-369509f7"><text class="item-label data-v-369509f7">ç¯å¡”</text><text class="item-value data-v-369509f7">{{currentOrder.towerName}}</text></view><view class="detail-item data-v-369509f7"><text class="item-label data-v-369509f7">æ¥¼å±‚</text><text class="item-value data-v-369509f7">{{currentOrder.floorName}}</text></view><view class="detail-item data-v-369509f7"><text class="item-label data-v-369509f7">è®¸æ„¿è¯­</text><text class="item-value data-v-369509f7">{{currentOrder.wish||'æ— '}}</text></view><view class="detail-item data-v-369509f7"><text class="item-label data-v-369509f7">åŠŸå¾·é‡‘</text><text class="item-value price data-v-369509f7">{{"Â¥"+currentOrder.amount}}</text></view></view></view><block wx:if="{{currentOrder.receiverInfo}}"><view class="detail-section data-v-369509f7"><text class="section-title data-v-369509f7">æ”¶ä»¶ä¿¡æ¯</text><view class="detail-grid data-v-369509f7"><view class="detail-item data-v-369509f7"><text class="item-label data-v-369509f7">æ”¶ä»¶äºº</text><text class="item-value data-v-369509f7">{{currentOrder.receiverInfo.name}}</text></view><view class="detail-item data-v-369509f7"><text class="item-label data-v-369509f7">è”ç³»ç”µè¯</text><text class="item-value data-v-369509f7">{{currentOrder.receiverInfo.phone}}</text></view><view class="detail-item data-v-369509f7"><text class="item-label data-v-369509f7">æ”¶ä»¶åœ°å€</text><text class="item-value data-v-369509f7">{{currentOrder.receiverInfo.address}}</text></view></view></view></block><view class="detail-section data-v-369509f7"><text class="section-title data-v-369509f7">æ—¶é—´ä¿¡æ¯</text><view class="detail-grid data-v-369509f7"><view class="detail-item data-v-369509f7"><text class="item-label data-v-369509f7">åˆ›å»ºæ—¶é—´</text><text class="item-value data-v-369509f7">{{$root.m1}}</text></view><block wx:if="{{currentOrder.completeTime}}"><view class="detail-item data-v-369509f7"><text class="item-label data-v-369509f7">å®Œæˆæ—¶é—´</text><text class="item-value data-v-369509f7">{{$root.m2}}</text></view></block></view></view></view></block></view></uni-popup><block wx:if="{{loading}}"><view class="loading-overlay data-v-369509f7"><view class="loading-content data-v-369509f7"><text class="loading-icon data-v-369509f7">â³</text><text class="loading-text data-v-369509f7">åŠ è½½ä¸­...</text></view></view></block></view>