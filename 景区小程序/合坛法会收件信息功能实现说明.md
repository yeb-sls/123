# 合坛法会收件信息功能实现说明

## 功能概述

合坛法会收件信息模块允许管理员在后台配置是否启用收件信息功能，以及设置哪些字段为必填项。当启用时，前台用户可以在报名时填写收件信息。

## 功能特性

### 后台管理功能
1. **模块开关**：可以启用/禁用整个收件信息模块
2. **字段配置**：可以设置收件人姓名、电话、地址是否为必填项
3. **收件信息查看**：查看用户提交的所有收件信息
4. **信息管理**：支持复制和删除收件信息

### 前台功能
1. **条件显示**：只有在后台启用时才显示收件信息模块
2. **必填验证**：根据后台配置验证必填字段
3. **数据保存**：收件信息会保存到订单中
4. **用户体验**：清晰的必填标识和友好的提示信息

## 技术实现

### 数据库设计
- `joint_receiver_config` 集合：存储收件信息配置
- `joint_receivers` 集合：存储用户提交的收件信息

### 云函数
1. **getJointReceiverConfig**：获取收件信息配置
2. **updateJointReceiverConfig**：更新收件信息配置
3. **getJointReceivers**：获取收件信息列表
4. **deleteJointReceiver**：删除收件信息

### 前端页面
1. **后台管理页面**：`pages/admin/joint/receiver.vue`
2. **前台表单页面**：`pages/fahui/joint/form.vue`

## 使用流程

### 管理员配置
1. 进入后台管理 → 合坛法会管理 → 收件信息管理
2. 开启"收件信息模块"开关
3. 配置各字段的必填状态（姓名、电话、地址）
4. 保存配置

### 用户使用
1. 进入合坛法会报名页面
2. 如果后台启用了收件信息模块，会显示收件信息填写区域
3. 根据必填标识填写相应信息
4. 提交订单时系统会验证必填字段

## 配置说明

### 收件信息配置字段
- `enabled`：是否启用收件信息模块（boolean）
- `nameRequired`：收件人姓名是否必填（boolean）
- `phoneRequired`：联系电话是否必填（boolean）
- `addressRequired`：收件地址是否必填（boolean）

### 收件信息数据结构
- `name`：收件人姓名
- `phone`：联系电话
- `address`：收件地址
- `remark`：备注信息（可选）
- `createTime`：创建时间

## 注意事项

1. **云函数部署**：确保所有相关云函数都已正确部署
2. **数据库权限**：确保云函数有相应的数据库操作权限
3. **配置缓存**：前台会缓存收件信息配置，修改配置后可能需要刷新页面
4. **数据验证**：前台会根据后台配置进行严格的字段验证

## 扩展功能

未来可以考虑添加的功能：
1. 收件信息模板管理
2. 批量导出收件信息
3. 收件信息统计分析
4. 收件信息搜索和筛选 