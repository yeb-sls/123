# 开发环境网络问题解决指南

## 问题描述

开发过程中遇到SockJS连接超时错误：
```
GET http://192.168.0.103:8080/sockjs-node/info?t=1753936230179 net::ERR_CONNECTION_TIMED_OUT
```

## 问题原因

这是Vue开发服务器的WebSocket连接问题，用于热重载（Hot Reload）功能。不影响实际应用功能，但会影响开发体验。

## 解决方案

### 方案一：重启开发服务器（推荐）

1. **停止当前服务器**
   - 在终端中按 `Ctrl + C`
   - 或者关闭终端窗口

2. **重新启动服务器**
   ```bash
   npm run dev
   # 或者
   yarn dev
   ```

3. **检查启动信息**
   - 确认服务器正常启动
   - 检查端口是否被占用

### 方案二：修改开发服务器配置

在 `vite.config.js` 或 `vue.config.js` 中添加配置：

```javascript
export default {
  server: {
    host: '0.0.0.0',
    port: 8080,
    hmr: {
      overlay: false // 禁用错误覆盖层
    }
  }
}
```

### 方案三：检查防火墙设置

1. **Windows防火墙**
   - 打开"Windows Defender 防火墙"
   - 允许Node.js和开发服务器通过防火墙

2. **杀毒软件**
   - 检查杀毒软件是否阻止了WebSocket连接
   - 将开发目录添加到白名单

### 方案四：使用本地地址

修改开发服务器配置使用本地地址：

```javascript
export default {
  server: {
    host: 'localhost',
    port: 8080
  }
}
```

### 方案五：禁用热重载（临时解决）

如果问题持续存在，可以临时禁用热重载：

```javascript
export default {
  server: {
    hmr: false
  }
}
```

## 预防措施

### 1. 网络环境检查
- 确保网络连接稳定
- 检查是否有代理设置影响连接
- 确认IP地址配置正确

### 2. 开发环境优化
- 定期重启开发服务器
- 清理浏览器缓存
- 更新Node.js和npm版本

### 3. 项目配置检查
- 检查package.json中的脚本配置
- 确认依赖包版本兼容性
- 验证配置文件语法

## 调试步骤

### 1. 检查服务器状态
```bash
# 检查端口占用
netstat -ano | findstr :8080

# 检查Node.js进程
tasklist | findstr node
```

### 2. 检查网络连接
```bash
# 测试本地连接
ping localhost

# 测试IP连接
ping 192.168.0.103
```

### 3. 查看详细日志
在浏览器开发者工具中：
- 打开Network标签
- 查看WebSocket连接状态
- 检查Console中的错误信息

## 常见问题

### Q1: 热重载不工作怎么办？
A: 重启开发服务器，检查配置文件中的hmr设置。

### Q2: 端口被占用怎么办？
A: 修改配置文件中的端口号，或结束占用端口的进程。

### Q3: 网络连接不稳定怎么办？
A: 使用localhost替代IP地址，或检查网络环境。

### Q4: 浏览器缓存问题怎么办？
A: 清除浏览器缓存，或使用无痕模式测试。

## 注意事项

1. **不影响功能**：SockJS连接问题不影响实际应用功能
2. **开发体验**：只影响热重载功能，需要手动刷新页面
3. **临时解决**：可以继续开发，稍后解决网络问题
4. **生产环境**：此问题只存在于开发环境，不影响生产部署

## 联系支持

如果问题持续存在，请提供：
1. 操作系统版本
2. Node.js版本
3. 项目配置文件
4. 详细的错误日志 